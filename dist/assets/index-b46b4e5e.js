function DB(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function D3(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function kB(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var k3={exports:{}},By={},O3={exports:{}},Kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m=Symbol.for("react.element"),OB=Symbol.for("react.portal"),UB=Symbol.for("react.fragment"),FB=Symbol.for("react.strict_mode"),zB=Symbol.for("react.profiler"),BB=Symbol.for("react.provider"),VB=Symbol.for("react.context"),HB=Symbol.for("react.forward_ref"),GB=Symbol.for("react.suspense"),WB=Symbol.for("react.memo"),jB=Symbol.for("react.lazy"),UC=Symbol.iterator;function XB(n){return n===null||typeof n!="object"?null:(n=UC&&n[UC]||n["@@iterator"],typeof n=="function"?n:null)}var U3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F3=Object.assign,z3={};function Eh(n,e,t){this.props=n,this.context=e,this.refs=z3,this.updater=t||U3}Eh.prototype.isReactComponent={};Eh.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Eh.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function B3(){}B3.prototype=Eh.prototype;function mE(n,e,t){this.props=n,this.context=e,this.refs=z3,this.updater=t||U3}var gE=mE.prototype=new B3;gE.constructor=mE;F3(gE,Eh.prototype);gE.isPureReactComponent=!0;var FC=Array.isArray,V3=Object.prototype.hasOwnProperty,vE={current:null},H3={key:!0,ref:!0,__self:!0,__source:!0};function G3(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)V3.call(e,i)&&!H3.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:_m,type:n,key:s,ref:o,props:r,_owner:vE.current}}function YB(n,e){return{$$typeof:_m,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function yE(n){return typeof n=="object"&&n!==null&&n.$$typeof===_m}function qB(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var zC=/\/+/g;function Kx(n,e){return typeof n=="object"&&n!==null&&n.key!=null?qB(""+n.key):e.toString(36)}function lv(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case _m:case OB:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+Kx(o,0):i,FC(r)?(t="",n!=null&&(t=n.replace(zC,"$&/")+"/"),lv(r,e,t,"",function(u){return u})):r!=null&&(yE(r)&&(r=YB(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(zC,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",FC(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+Kx(s,a);o+=lv(s,e,t,l,r)}else if(l=XB(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+Kx(s,a++),o+=lv(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Og(n,e,t){if(n==null)return n;var i=[],r=0;return lv(n,i,"","",function(s){return e.call(t,s,r++)}),i}function ZB(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var br={current:null},uv={transition:null},$B={ReactCurrentDispatcher:br,ReactCurrentBatchConfig:uv,ReactCurrentOwner:vE};function W3(){throw Error("act(...) is not supported in production builds of React.")}Kt.Children={map:Og,forEach:function(n,e,t){Og(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Og(n,function(){e++}),e},toArray:function(n){return Og(n,function(e){return e})||[]},only:function(n){if(!yE(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Kt.Component=Eh;Kt.Fragment=UB;Kt.Profiler=zB;Kt.PureComponent=mE;Kt.StrictMode=FB;Kt.Suspense=GB;Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$B;Kt.act=W3;Kt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=F3({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=vE.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)V3.call(e,l)&&!H3.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:_m,type:n.type,key:r,ref:s,props:i,_owner:o}};Kt.createContext=function(n){return n={$$typeof:VB,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:BB,_context:n},n.Consumer=n};Kt.createElement=G3;Kt.createFactory=function(n){var e=G3.bind(null,n);return e.type=n,e};Kt.createRef=function(){return{current:null}};Kt.forwardRef=function(n){return{$$typeof:HB,render:n}};Kt.isValidElement=yE;Kt.lazy=function(n){return{$$typeof:jB,_payload:{_status:-1,_result:n},_init:ZB}};Kt.memo=function(n,e){return{$$typeof:WB,type:n,compare:e===void 0?null:e}};Kt.startTransition=function(n){var e=uv.transition;uv.transition={};try{n()}finally{uv.transition=e}};Kt.unstable_act=W3;Kt.useCallback=function(n,e){return br.current.useCallback(n,e)};Kt.useContext=function(n){return br.current.useContext(n)};Kt.useDebugValue=function(){};Kt.useDeferredValue=function(n){return br.current.useDeferredValue(n)};Kt.useEffect=function(n,e){return br.current.useEffect(n,e)};Kt.useId=function(){return br.current.useId()};Kt.useImperativeHandle=function(n,e,t){return br.current.useImperativeHandle(n,e,t)};Kt.useInsertionEffect=function(n,e){return br.current.useInsertionEffect(n,e)};Kt.useLayoutEffect=function(n,e){return br.current.useLayoutEffect(n,e)};Kt.useMemo=function(n,e){return br.current.useMemo(n,e)};Kt.useReducer=function(n,e,t){return br.current.useReducer(n,e,t)};Kt.useRef=function(n){return br.current.useRef(n)};Kt.useState=function(n){return br.current.useState(n)};Kt.useSyncExternalStore=function(n,e,t){return br.current.useSyncExternalStore(n,e,t)};Kt.useTransition=function(){return br.current.useTransition()};Kt.version="18.3.1";O3.exports=Kt;var K=O3.exports;const Vy=D3(K),KB=DB({__proto__:null,default:Vy},[K]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JB=K,QB=Symbol.for("react.element"),e4=Symbol.for("react.fragment"),t4=Object.prototype.hasOwnProperty,n4=JB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i4={key:!0,ref:!0,__self:!0,__source:!0};function j3(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)t4.call(e,i)&&!i4.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:QB,type:n,key:s,ref:o,props:r,_owner:n4.current}}By.Fragment=e4;By.jsx=j3;By.jsxs=j3;k3.exports=By;var O=k3.exports,Vw={},X3={exports:{}},Es={},Y3={exports:{}},q3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(X,Q){var k=X.length;X.push(Q);e:for(;0<k;){var G=k-1>>>1,te=X[G];if(0<r(te,Q))X[G]=Q,X[k]=te,k=G;else break e}}function t(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var Q=X[0],k=X.pop();if(k!==Q){X[0]=k;e:for(var G=0,te=X.length,me=te>>>1;G<me;){var xe=2*(G+1)-1,Ce=X[xe],Ee=xe+1,De=X[Ee];if(0>r(Ce,k))Ee<te&&0>r(De,Ce)?(X[G]=De,X[Ee]=k,G=Ee):(X[G]=Ce,X[xe]=k,G=xe);else if(Ee<te&&0>r(De,k))X[G]=De,X[Ee]=k,G=Ee;else break e}}return Q}function r(X,Q){var k=X.sortIndex-Q.sortIndex;return k!==0?k:X.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,d=null,p=3,m=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(X){for(var Q=t(u);Q!==null;){if(Q.callback===null)i(u);else if(Q.startTime<=X)i(u),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=t(u)}}function E(X){if(_=!1,S(X),!v)if(t(l)!==null)v=!0,ee(b);else{var Q=t(u);Q!==null&&re(E,Q.startTime-X)}}function b(X,Q){v=!1,_&&(_=!1,g(I),I=-1),m=!0;var k=p;try{for(S(Q),d=t(l);d!==null&&(!(d.expirationTime>Q)||X&&!B());){var G=d.callback;if(typeof G=="function"){d.callback=null,p=d.priorityLevel;var te=G(d.expirationTime<=Q);Q=n.unstable_now(),typeof te=="function"?d.callback=te:d===t(l)&&i(l),S(Q)}else i(l);d=t(l)}if(d!==null)var me=!0;else{var xe=t(u);xe!==null&&re(E,xe.startTime-Q),me=!1}return me}finally{d=null,p=k,m=!1}}var P=!1,R=null,I=-1,C=5,L=-1;function B(){return!(n.unstable_now()-L<C)}function W(){if(R!==null){var X=n.unstable_now();L=X;var Q=!0;try{Q=R(!0,X)}finally{Q?ie():(P=!1,R=null)}}else P=!1}var ie;if(typeof w=="function")ie=function(){w(W)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ne=z.port2;z.port1.onmessage=W,ie=function(){ne.postMessage(null)}}else ie=function(){x(W,0)};function ee(X){R=X,P||(P=!0,ie())}function re(X,Q){I=x(function(){X(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ee(b))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(X){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var k=p;p=Q;try{return X()}finally{p=k}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,Q){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var k=p;p=X;try{return Q()}finally{p=k}},n.unstable_scheduleCallback=function(X,Q,k){var G=n.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?G+k:G):k=G,X){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=k+te,X={id:f++,callback:Q,priorityLevel:X,startTime:k,expirationTime:te,sortIndex:-1},k>G?(X.sortIndex=k,e(u,X),t(l)===null&&X===t(u)&&(_?(g(I),I=-1):_=!0,re(E,k-G))):(X.sortIndex=te,e(l,X),v||m||(v=!0,ee(b))),X},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(X){var Q=p;return function(){var k=p;p=Q;try{return X.apply(this,arguments)}finally{p=k}}}})(q3);Y3.exports=q3;var r4=Y3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s4=K,vs=r4;function Ue(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z3=new Set,_p={};function pc(n,e){nh(n,e),nh(n+"Capture",e)}function nh(n,e){for(_p[n]=e,n=0;n<e.length;n++)Z3.add(e[n])}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hw=Object.prototype.hasOwnProperty,o4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,BC={},VC={};function a4(n){return Hw.call(VC,n)?!0:Hw.call(BC,n)?!1:o4.test(n)?VC[n]=!0:(BC[n]=!0,!1)}function l4(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function u4(n,e,t,i){if(e===null||typeof e>"u"||l4(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cr(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Yi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Yi[n]=new Cr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Yi[e]=new Cr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Yi[n]=new Cr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Yi[n]=new Cr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Yi[n]=new Cr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Yi[n]=new Cr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Yi[n]=new Cr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Yi[n]=new Cr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Yi[n]=new Cr(n,5,!1,n.toLowerCase(),null,!1,!1)});var _E=/[\-:]([a-z])/g;function xE(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(_E,xE);Yi[e]=new Cr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(_E,xE);Yi[e]=new Cr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(_E,xE);Yi[e]=new Cr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Yi[n]=new Cr(n,1,!1,n.toLowerCase(),null,!1,!1)});Yi.xlinkHref=new Cr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Yi[n]=new Cr(n,1,!1,n.toLowerCase(),null,!0,!0)});function wE(n,e,t,i){var r=Yi.hasOwnProperty(e)?Yi[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(u4(e,t,r,i)&&(t=null),i||r===null?a4(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Ra=s4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ug=Symbol.for("react.element"),yf=Symbol.for("react.portal"),_f=Symbol.for("react.fragment"),SE=Symbol.for("react.strict_mode"),Gw=Symbol.for("react.profiler"),$3=Symbol.for("react.provider"),K3=Symbol.for("react.context"),ME=Symbol.for("react.forward_ref"),Ww=Symbol.for("react.suspense"),jw=Symbol.for("react.suspense_list"),EE=Symbol.for("react.memo"),Ja=Symbol.for("react.lazy"),J3=Symbol.for("react.offscreen"),HC=Symbol.iterator;function Qh(n){return n===null||typeof n!="object"?null:(n=HC&&n[HC]||n["@@iterator"],typeof n=="function"?n:null)}var Zn=Object.assign,Jx;function Ad(n){if(Jx===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Jx=e&&e[1]||""}return`
`+Jx+n}var Qx=!1;function e1(n,e){if(!n||Qx)return"";Qx=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qx=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Ad(n):""}function c4(n){switch(n.tag){case 5:return Ad(n.type);case 16:return Ad("Lazy");case 13:return Ad("Suspense");case 19:return Ad("SuspenseList");case 0:case 2:case 15:return n=e1(n.type,!1),n;case 11:return n=e1(n.type.render,!1),n;case 1:return n=e1(n.type,!0),n;default:return""}}function Xw(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case _f:return"Fragment";case yf:return"Portal";case Gw:return"Profiler";case SE:return"StrictMode";case Ww:return"Suspense";case jw:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case K3:return(n.displayName||"Context")+".Consumer";case $3:return(n._context.displayName||"Context")+".Provider";case ME:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case EE:return e=n.displayName||null,e!==null?e:Xw(n.type)||"Memo";case Ja:e=n._payload,n=n._init;try{return Xw(n(e))}catch{}}return null}function f4(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xw(e);case 8:return e===SE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Il(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Q3(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function h4(n){var e=Q3(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Fg(n){n._valueTracker||(n._valueTracker=h4(n))}function eL(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=Q3(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Bv(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Yw(n,e){var t=e.checked;return Zn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function GC(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Il(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tL(n,e){e=e.checked,e!=null&&wE(n,"checked",e,!1)}function qw(n,e){tL(n,e);var t=Il(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Zw(n,e.type,t):e.hasOwnProperty("defaultValue")&&Zw(n,e.type,Il(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function WC(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Zw(n,e,t){(e!=="number"||Bv(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var bd=Array.isArray;function Hf(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Il(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function $w(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return Zn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function jC(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ue(92));if(bd(t)){if(1<t.length)throw Error(Ue(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Il(t)}}function nL(n,e){var t=Il(e.value),i=Il(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function XC(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function iL(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kw(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?iL(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var zg,rL=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(zg=zg||document.createElement("div"),zg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function xp(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Bd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d4=["Webkit","ms","Moz","O"];Object.keys(Bd).forEach(function(n){d4.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Bd[e]=Bd[n]})});function sL(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Bd.hasOwnProperty(n)&&Bd[n]?(""+e).trim():e+"px"}function oL(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=sL(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var p4=Zn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jw(n,e){if(e){if(p4[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ue(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ue(62))}}function Qw(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eS=null;function TE(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var tS=null,Gf=null,Wf=null;function YC(n){if(n=Sm(n)){if(typeof tS!="function")throw Error(Ue(280));var e=n.stateNode;e&&(e=Xy(e),tS(n.stateNode,n.type,e))}}function aL(n){Gf?Wf?Wf.push(n):Wf=[n]:Gf=n}function lL(){if(Gf){var n=Gf,e=Wf;if(Wf=Gf=null,YC(n),e)for(n=0;n<e.length;n++)YC(e[n])}}function uL(n,e){return n(e)}function cL(){}var t1=!1;function fL(n,e,t){if(t1)return n(e,t);t1=!0;try{return uL(n,e,t)}finally{t1=!1,(Gf!==null||Wf!==null)&&(cL(),lL())}}function wp(n,e){var t=n.stateNode;if(t===null)return null;var i=Xy(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ue(231,e,typeof t));return t}var nS=!1;if(wa)try{var ed={};Object.defineProperty(ed,"passive",{get:function(){nS=!0}}),window.addEventListener("test",ed,ed),window.removeEventListener("test",ed,ed)}catch{nS=!1}function m4(n,e,t,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(f){this.onError(f)}}var Vd=!1,Vv=null,Hv=!1,iS=null,g4={onError:function(n){Vd=!0,Vv=n}};function v4(n,e,t,i,r,s,o,a,l){Vd=!1,Vv=null,m4.apply(g4,arguments)}function y4(n,e,t,i,r,s,o,a,l){if(v4.apply(this,arguments),Vd){if(Vd){var u=Vv;Vd=!1,Vv=null}else throw Error(Ue(198));Hv||(Hv=!0,iS=u)}}function mc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function hL(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function qC(n){if(mc(n)!==n)throw Error(Ue(188))}function _4(n){var e=n.alternate;if(!e){if(e=mc(n),e===null)throw Error(Ue(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return qC(r),n;if(s===i)return qC(r),e;s=s.sibling}throw Error(Ue(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Ue(189))}}if(t.alternate!==i)throw Error(Ue(190))}if(t.tag!==3)throw Error(Ue(188));return t.stateNode.current===t?n:e}function dL(n){return n=_4(n),n!==null?pL(n):null}function pL(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=pL(n);if(e!==null)return e;n=n.sibling}return null}var mL=vs.unstable_scheduleCallback,ZC=vs.unstable_cancelCallback,x4=vs.unstable_shouldYield,w4=vs.unstable_requestPaint,ai=vs.unstable_now,S4=vs.unstable_getCurrentPriorityLevel,AE=vs.unstable_ImmediatePriority,gL=vs.unstable_UserBlockingPriority,Gv=vs.unstable_NormalPriority,M4=vs.unstable_LowPriority,vL=vs.unstable_IdlePriority,Hy=null,ko=null;function E4(n){if(ko&&typeof ko.onCommitFiberRoot=="function")try{ko.onCommitFiberRoot(Hy,n,void 0,(n.current.flags&128)===128)}catch{}}var co=Math.clz32?Math.clz32:b4,T4=Math.log,A4=Math.LN2;function b4(n){return n>>>=0,n===0?32:31-(T4(n)/A4|0)|0}var Bg=64,Vg=4194304;function Cd(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Wv(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=Cd(a):(s&=o,s!==0&&(i=Cd(s)))}else o=t&~r,o!==0?i=Cd(o):s!==0&&(i=Cd(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-co(e),r=1<<t,i|=n[t],e&=~r;return i}function C4(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P4(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-co(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=C4(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function rS(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function yL(){var n=Bg;return Bg<<=1,!(Bg&4194240)&&(Bg=64),n}function n1(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function xm(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-co(e),n[e]=t}function R4(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-co(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function bE(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-co(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var vn=0;function _L(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var xL,CE,wL,SL,ML,sS=!1,Hg=[],pl=null,ml=null,gl=null,Sp=new Map,Mp=new Map,il=[],I4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $C(n,e){switch(n){case"focusin":case"focusout":pl=null;break;case"dragenter":case"dragleave":ml=null;break;case"mouseover":case"mouseout":gl=null;break;case"pointerover":case"pointerout":Sp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mp.delete(e.pointerId)}}function td(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Sm(e),e!==null&&CE(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function L4(n,e,t,i,r){switch(e){case"focusin":return pl=td(pl,n,e,t,i,r),!0;case"dragenter":return ml=td(ml,n,e,t,i,r),!0;case"mouseover":return gl=td(gl,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Sp.set(s,td(Sp.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Mp.set(s,td(Mp.get(s)||null,n,e,t,i,r)),!0}return!1}function EL(n){var e=Pu(n.target);if(e!==null){var t=mc(e);if(t!==null){if(e=t.tag,e===13){if(e=hL(t),e!==null){n.blockedOn=e,ML(n.priority,function(){wL(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function cv(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=oS(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);eS=i,t.target.dispatchEvent(i),eS=null}else return e=Sm(t),e!==null&&CE(e),n.blockedOn=t,!1;e.shift()}return!0}function KC(n,e,t){cv(n)&&t.delete(e)}function N4(){sS=!1,pl!==null&&cv(pl)&&(pl=null),ml!==null&&cv(ml)&&(ml=null),gl!==null&&cv(gl)&&(gl=null),Sp.forEach(KC),Mp.forEach(KC)}function nd(n,e){n.blockedOn===e&&(n.blockedOn=null,sS||(sS=!0,vs.unstable_scheduleCallback(vs.unstable_NormalPriority,N4)))}function Ep(n){function e(r){return nd(r,n)}if(0<Hg.length){nd(Hg[0],n);for(var t=1;t<Hg.length;t++){var i=Hg[t];i.blockedOn===n&&(i.blockedOn=null)}}for(pl!==null&&nd(pl,n),ml!==null&&nd(ml,n),gl!==null&&nd(gl,n),Sp.forEach(e),Mp.forEach(e),t=0;t<il.length;t++)i=il[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<il.length&&(t=il[0],t.blockedOn===null);)EL(t),t.blockedOn===null&&il.shift()}var jf=Ra.ReactCurrentBatchConfig,jv=!0;function D4(n,e,t,i){var r=vn,s=jf.transition;jf.transition=null;try{vn=1,PE(n,e,t,i)}finally{vn=r,jf.transition=s}}function k4(n,e,t,i){var r=vn,s=jf.transition;jf.transition=null;try{vn=4,PE(n,e,t,i)}finally{vn=r,jf.transition=s}}function PE(n,e,t,i){if(jv){var r=oS(n,e,t,i);if(r===null)h1(n,e,i,Xv,t),$C(n,i);else if(L4(r,n,e,t,i))i.stopPropagation();else if($C(n,i),e&4&&-1<I4.indexOf(n)){for(;r!==null;){var s=Sm(r);if(s!==null&&xL(s),s=oS(n,e,t,i),s===null&&h1(n,e,i,Xv,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else h1(n,e,i,null,t)}}var Xv=null;function oS(n,e,t,i){if(Xv=null,n=TE(i),n=Pu(n),n!==null)if(e=mc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=hL(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Xv=n,null}function TL(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(S4()){case AE:return 1;case gL:return 4;case Gv:case M4:return 16;case vL:return 536870912;default:return 16}default:return 16}}var sl=null,RE=null,fv=null;function AL(){if(fv)return fv;var n,e=RE,t=e.length,i,r="value"in sl?sl.value:sl.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return fv=r.slice(n,1<i?1-i:void 0)}function hv(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Gg(){return!0}function JC(){return!1}function Ts(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gg:JC,this.isPropagationStopped=JC,this}return Zn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Gg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Gg)},persist:function(){},isPersistent:Gg}),e}var Th={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},IE=Ts(Th),wm=Zn({},Th,{view:0,detail:0}),O4=Ts(wm),i1,r1,id,Gy=Zn({},wm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:LE,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==id&&(id&&n.type==="mousemove"?(i1=n.screenX-id.screenX,r1=n.screenY-id.screenY):r1=i1=0,id=n),i1)},movementY:function(n){return"movementY"in n?n.movementY:r1}}),QC=Ts(Gy),U4=Zn({},Gy,{dataTransfer:0}),F4=Ts(U4),z4=Zn({},wm,{relatedTarget:0}),s1=Ts(z4),B4=Zn({},Th,{animationName:0,elapsedTime:0,pseudoElement:0}),V4=Ts(B4),H4=Zn({},Th,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),G4=Ts(H4),W4=Zn({},Th,{data:0}),eP=Ts(W4),j4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q4(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Y4[n])?!!e[n]:!1}function LE(){return q4}var Z4=Zn({},wm,{key:function(n){if(n.key){var e=j4[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=hv(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?X4[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:LE,charCode:function(n){return n.type==="keypress"?hv(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hv(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),$4=Ts(Z4),K4=Zn({},Gy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tP=Ts(K4),J4=Zn({},wm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:LE}),Q4=Ts(J4),eV=Zn({},Th,{propertyName:0,elapsedTime:0,pseudoElement:0}),tV=Ts(eV),nV=Zn({},Gy,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),iV=Ts(nV),rV=[9,13,27,32],NE=wa&&"CompositionEvent"in window,Hd=null;wa&&"documentMode"in document&&(Hd=document.documentMode);var sV=wa&&"TextEvent"in window&&!Hd,bL=wa&&(!NE||Hd&&8<Hd&&11>=Hd),nP=String.fromCharCode(32),iP=!1;function CL(n,e){switch(n){case"keyup":return rV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PL(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var xf=!1;function oV(n,e){switch(n){case"compositionend":return PL(e);case"keypress":return e.which!==32?null:(iP=!0,nP);case"textInput":return n=e.data,n===nP&&iP?null:n;default:return null}}function aV(n,e){if(xf)return n==="compositionend"||!NE&&CL(n,e)?(n=AL(),fv=RE=sl=null,xf=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bL&&e.locale!=="ko"?null:e.data;default:return null}}var lV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rP(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!lV[n.type]:e==="textarea"}function RL(n,e,t,i){aL(i),e=Yv(e,"onChange"),0<e.length&&(t=new IE("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Gd=null,Tp=null;function uV(n){VL(n,0)}function Wy(n){var e=Mf(n);if(eL(e))return n}function cV(n,e){if(n==="change")return e}var IL=!1;if(wa){var o1;if(wa){var a1="oninput"in document;if(!a1){var sP=document.createElement("div");sP.setAttribute("oninput","return;"),a1=typeof sP.oninput=="function"}o1=a1}else o1=!1;IL=o1&&(!document.documentMode||9<document.documentMode)}function oP(){Gd&&(Gd.detachEvent("onpropertychange",LL),Tp=Gd=null)}function LL(n){if(n.propertyName==="value"&&Wy(Tp)){var e=[];RL(e,Tp,n,TE(n)),fL(uV,e)}}function fV(n,e,t){n==="focusin"?(oP(),Gd=e,Tp=t,Gd.attachEvent("onpropertychange",LL)):n==="focusout"&&oP()}function hV(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Wy(Tp)}function dV(n,e){if(n==="click")return Wy(e)}function pV(n,e){if(n==="input"||n==="change")return Wy(e)}function mV(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ho=typeof Object.is=="function"?Object.is:mV;function Ap(n,e){if(ho(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Hw.call(e,r)||!ho(n[r],e[r]))return!1}return!0}function aP(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function lP(n,e){var t=aP(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=aP(t)}}function NL(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?NL(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function DL(){for(var n=window,e=Bv();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Bv(n.document)}return e}function DE(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function gV(n){var e=DL(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&NL(t.ownerDocument.documentElement,t)){if(i!==null&&DE(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=lP(t,s);var o=lP(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var vV=wa&&"documentMode"in document&&11>=document.documentMode,wf=null,aS=null,Wd=null,lS=!1;function uP(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;lS||wf==null||wf!==Bv(i)||(i=wf,"selectionStart"in i&&DE(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Wd&&Ap(Wd,i)||(Wd=i,i=Yv(aS,"onSelect"),0<i.length&&(e=new IE("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=wf)))}function Wg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Sf={animationend:Wg("Animation","AnimationEnd"),animationiteration:Wg("Animation","AnimationIteration"),animationstart:Wg("Animation","AnimationStart"),transitionend:Wg("Transition","TransitionEnd")},l1={},kL={};wa&&(kL=document.createElement("div").style,"AnimationEvent"in window||(delete Sf.animationend.animation,delete Sf.animationiteration.animation,delete Sf.animationstart.animation),"TransitionEvent"in window||delete Sf.transitionend.transition);function jy(n){if(l1[n])return l1[n];if(!Sf[n])return n;var e=Sf[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in kL)return l1[n]=e[t];return n}var OL=jy("animationend"),UL=jy("animationiteration"),FL=jy("animationstart"),zL=jy("transitionend"),BL=new Map,cP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hl(n,e){BL.set(n,e),pc(e,[n])}for(var u1=0;u1<cP.length;u1++){var c1=cP[u1],yV=c1.toLowerCase(),_V=c1[0].toUpperCase()+c1.slice(1);Hl(yV,"on"+_V)}Hl(OL,"onAnimationEnd");Hl(UL,"onAnimationIteration");Hl(FL,"onAnimationStart");Hl("dblclick","onDoubleClick");Hl("focusin","onFocus");Hl("focusout","onBlur");Hl(zL,"onTransitionEnd");nh("onMouseEnter",["mouseout","mouseover"]);nh("onMouseLeave",["mouseout","mouseover"]);nh("onPointerEnter",["pointerout","pointerover"]);nh("onPointerLeave",["pointerout","pointerover"]);pc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pc("onBeforeInput",["compositionend","keypress","textInput","paste"]);pc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pd));function fP(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,y4(i,e,void 0,n),n.currentTarget=null}function VL(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;fP(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;fP(r,a,u),s=l}}}if(Hv)throw n=iS,Hv=!1,iS=null,n}function Ln(n,e){var t=e[dS];t===void 0&&(t=e[dS]=new Set);var i=n+"__bubble";t.has(i)||(HL(e,n,2,!1),t.add(i))}function f1(n,e,t){var i=0;e&&(i|=4),HL(t,n,i,e)}var jg="_reactListening"+Math.random().toString(36).slice(2);function bp(n){if(!n[jg]){n[jg]=!0,Z3.forEach(function(t){t!=="selectionchange"&&(xV.has(t)||f1(t,!1,n),f1(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[jg]||(e[jg]=!0,f1("selectionchange",!1,e))}}function HL(n,e,t,i){switch(TL(e)){case 1:var r=D4;break;case 4:r=k4;break;default:r=PE}t=r.bind(null,e,t,n),r=void 0,!nS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function h1(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Pu(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}fL(function(){var u=s,f=TE(t),d=[];e:{var p=BL.get(n);if(p!==void 0){var m=IE,v=n;switch(n){case"keypress":if(hv(t)===0)break e;case"keydown":case"keyup":m=$4;break;case"focusin":v="focus",m=s1;break;case"focusout":v="blur",m=s1;break;case"beforeblur":case"afterblur":m=s1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=QC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=F4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Q4;break;case OL:case UL:case FL:m=V4;break;case zL:m=tV;break;case"scroll":m=O4;break;case"wheel":m=iV;break;case"copy":case"cut":case"paste":m=G4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=tP}var _=(e&4)!==0,x=!_&&n==="scroll",g=_?p!==null?p+"Capture":null:p;_=[];for(var w=u,S;w!==null;){S=w;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,g!==null&&(E=wp(w,g),E!=null&&_.push(Cp(w,E,S)))),x)break;w=w.return}0<_.length&&(p=new m(p,v,null,t,f),d.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==eS&&(v=t.relatedTarget||t.fromElement)&&(Pu(v)||v[Sa]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=u,v=v?Pu(v):null,v!==null&&(x=mc(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(_=QC,E="onMouseLeave",g="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(_=tP,E="onPointerLeave",g="onPointerEnter",w="pointer"),x=m==null?p:Mf(m),S=v==null?p:Mf(v),p=new _(E,w+"leave",m,t,f),p.target=x,p.relatedTarget=S,E=null,Pu(f)===u&&(_=new _(g,w+"enter",v,t,f),_.target=S,_.relatedTarget=x,E=_),x=E,m&&v)t:{for(_=m,g=v,w=0,S=_;S;S=Bc(S))w++;for(S=0,E=g;E;E=Bc(E))S++;for(;0<w-S;)_=Bc(_),w--;for(;0<S-w;)g=Bc(g),S--;for(;w--;){if(_===g||g!==null&&_===g.alternate)break t;_=Bc(_),g=Bc(g)}_=null}else _=null;m!==null&&hP(d,p,m,_,!1),v!==null&&x!==null&&hP(d,x,v,_,!0)}}e:{if(p=u?Mf(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var b=cV;else if(rP(p))if(IL)b=pV;else{b=hV;var P=fV}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=dV);if(b&&(b=b(n,u))){RL(d,b,t,f);break e}P&&P(n,p,u),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&Zw(p,"number",p.value)}switch(P=u?Mf(u):window,n){case"focusin":(rP(P)||P.contentEditable==="true")&&(wf=P,aS=u,Wd=null);break;case"focusout":Wd=aS=wf=null;break;case"mousedown":lS=!0;break;case"contextmenu":case"mouseup":case"dragend":lS=!1,uP(d,t,f);break;case"selectionchange":if(vV)break;case"keydown":case"keyup":uP(d,t,f)}var R;if(NE)e:{switch(n){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else xf?CL(n,t)&&(I="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(I="onCompositionStart");I&&(bL&&t.locale!=="ko"&&(xf||I!=="onCompositionStart"?I==="onCompositionEnd"&&xf&&(R=AL()):(sl=f,RE="value"in sl?sl.value:sl.textContent,xf=!0)),P=Yv(u,I),0<P.length&&(I=new eP(I,n,null,t,f),d.push({event:I,listeners:P}),R?I.data=R:(R=PL(t),R!==null&&(I.data=R)))),(R=sV?oV(n,t):aV(n,t))&&(u=Yv(u,"onBeforeInput"),0<u.length&&(f=new eP("onBeforeInput","beforeinput",null,t,f),d.push({event:f,listeners:u}),f.data=R))}VL(d,e)})}function Cp(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Yv(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=wp(n,t),s!=null&&i.unshift(Cp(n,s,r)),s=wp(n,e),s!=null&&i.push(Cp(n,s,r))),n=n.return}return i}function Bc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function hP(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=wp(t,s),l!=null&&o.unshift(Cp(t,l,a))):r||(l=wp(t,s),l!=null&&o.push(Cp(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var wV=/\r\n?/g,SV=/\u0000|\uFFFD/g;function dP(n){return(typeof n=="string"?n:""+n).replace(wV,`
`).replace(SV,"")}function Xg(n,e,t){if(e=dP(e),dP(n)!==e&&t)throw Error(Ue(425))}function qv(){}var uS=null,cS=null;function fS(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hS=typeof setTimeout=="function"?setTimeout:void 0,MV=typeof clearTimeout=="function"?clearTimeout:void 0,pP=typeof Promise=="function"?Promise:void 0,EV=typeof queueMicrotask=="function"?queueMicrotask:typeof pP<"u"?function(n){return pP.resolve(null).then(n).catch(TV)}:hS;function TV(n){setTimeout(function(){throw n})}function d1(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Ep(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Ep(e)}function vl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function mP(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Ah=Math.random().toString(36).slice(2),Po="__reactFiber$"+Ah,Pp="__reactProps$"+Ah,Sa="__reactContainer$"+Ah,dS="__reactEvents$"+Ah,AV="__reactListeners$"+Ah,bV="__reactHandles$"+Ah;function Pu(n){var e=n[Po];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Sa]||t[Po]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=mP(n);n!==null;){if(t=n[Po])return t;n=mP(n)}return e}n=t,t=n.parentNode}return null}function Sm(n){return n=n[Po]||n[Sa],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Mf(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ue(33))}function Xy(n){return n[Pp]||null}var pS=[],Ef=-1;function Gl(n){return{current:n}}function Dn(n){0>Ef||(n.current=pS[Ef],pS[Ef]=null,Ef--)}function Pn(n,e){Ef++,pS[Ef]=n.current,n.current=e}var Ll={},ur=Gl(Ll),Br=Gl(!1),tc=Ll;function ih(n,e){var t=n.type.contextTypes;if(!t)return Ll;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Vr(n){return n=n.childContextTypes,n!=null}function Zv(){Dn(Br),Dn(ur)}function gP(n,e,t){if(ur.current!==Ll)throw Error(Ue(168));Pn(ur,e),Pn(Br,t)}function GL(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Ue(108,f4(n)||"Unknown",r));return Zn({},t,i)}function $v(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ll,tc=ur.current,Pn(ur,n),Pn(Br,Br.current),!0}function vP(n,e,t){var i=n.stateNode;if(!i)throw Error(Ue(169));t?(n=GL(n,e,tc),i.__reactInternalMemoizedMergedChildContext=n,Dn(Br),Dn(ur),Pn(ur,n)):Dn(Br),Pn(Br,t)}var ua=null,Yy=!1,p1=!1;function WL(n){ua===null?ua=[n]:ua.push(n)}function CV(n){Yy=!0,WL(n)}function Wl(){if(!p1&&ua!==null){p1=!0;var n=0,e=vn;try{var t=ua;for(vn=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}ua=null,Yy=!1}catch(r){throw ua!==null&&(ua=ua.slice(n+1)),mL(AE,Wl),r}finally{vn=e,p1=!1}}return null}var Tf=[],Af=0,Kv=null,Jv=0,Fs=[],zs=0,nc=null,da=1,pa="";function yu(n,e){Tf[Af++]=Jv,Tf[Af++]=Kv,Kv=n,Jv=e}function jL(n,e,t){Fs[zs++]=da,Fs[zs++]=pa,Fs[zs++]=nc,nc=n;var i=da;n=pa;var r=32-co(i)-1;i&=~(1<<r),t+=1;var s=32-co(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,da=1<<32-co(e)+r|t<<r|i,pa=s+n}else da=1<<s|t<<r|i,pa=n}function kE(n){n.return!==null&&(yu(n,1),jL(n,1,0))}function OE(n){for(;n===Kv;)Kv=Tf[--Af],Tf[Af]=null,Jv=Tf[--Af],Tf[Af]=null;for(;n===nc;)nc=Fs[--zs],Fs[zs]=null,pa=Fs[--zs],Fs[zs]=null,da=Fs[--zs],Fs[zs]=null}var hs=null,cs=null,Un=!1,ao=null;function XL(n,e){var t=Gs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function yP(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,hs=n,cs=vl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,hs=n,cs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=nc!==null?{id:da,overflow:pa}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Gs(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,hs=n,cs=null,!0):!1;default:return!1}}function mS(n){return(n.mode&1)!==0&&(n.flags&128)===0}function gS(n){if(Un){var e=cs;if(e){var t=e;if(!yP(n,e)){if(mS(n))throw Error(Ue(418));e=vl(t.nextSibling);var i=hs;e&&yP(n,e)?XL(i,t):(n.flags=n.flags&-4097|2,Un=!1,hs=n)}}else{if(mS(n))throw Error(Ue(418));n.flags=n.flags&-4097|2,Un=!1,hs=n}}}function _P(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;hs=n}function Yg(n){if(n!==hs)return!1;if(!Un)return _P(n),Un=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!fS(n.type,n.memoizedProps)),e&&(e=cs)){if(mS(n))throw YL(),Error(Ue(418));for(;e;)XL(n,e),e=vl(e.nextSibling)}if(_P(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ue(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){cs=vl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}cs=null}}else cs=hs?vl(n.stateNode.nextSibling):null;return!0}function YL(){for(var n=cs;n;)n=vl(n.nextSibling)}function rh(){cs=hs=null,Un=!1}function UE(n){ao===null?ao=[n]:ao.push(n)}var PV=Ra.ReactCurrentBatchConfig;function rd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ue(309));var i=t.stateNode}if(!i)throw Error(Ue(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ue(284));if(!t._owner)throw Error(Ue(290,n))}return n}function qg(n,e){throw n=Object.prototype.toString.call(e),Error(Ue(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function xP(n){var e=n._init;return e(n._payload)}function qL(n){function e(g,w){if(n){var S=g.deletions;S===null?(g.deletions=[w],g.flags|=16):S.push(w)}}function t(g,w){if(!n)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function i(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function r(g,w){return g=wl(g,w),g.index=0,g.sibling=null,g}function s(g,w,S){return g.index=S,n?(S=g.alternate,S!==null?(S=S.index,S<w?(g.flags|=2,w):S):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,w,S,E){return w===null||w.tag!==6?(w=w1(S,g.mode,E),w.return=g,w):(w=r(w,S),w.return=g,w)}function l(g,w,S,E){var b=S.type;return b===_f?f(g,w,S.props.children,E,S.key):w!==null&&(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ja&&xP(b)===w.type)?(E=r(w,S.props),E.ref=rd(g,w,S),E.return=g,E):(E=_v(S.type,S.key,S.props,null,g.mode,E),E.ref=rd(g,w,S),E.return=g,E)}function u(g,w,S,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=S1(S,g.mode,E),w.return=g,w):(w=r(w,S.children||[]),w.return=g,w)}function f(g,w,S,E,b){return w===null||w.tag!==7?(w=Hu(S,g.mode,E,b),w.return=g,w):(w=r(w,S),w.return=g,w)}function d(g,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=w1(""+w,g.mode,S),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ug:return S=_v(w.type,w.key,w.props,null,g.mode,S),S.ref=rd(g,null,w),S.return=g,S;case yf:return w=S1(w,g.mode,S),w.return=g,w;case Ja:var E=w._init;return d(g,E(w._payload),S)}if(bd(w)||Qh(w))return w=Hu(w,g.mode,S,null),w.return=g,w;qg(g,w)}return null}function p(g,w,S,E){var b=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return b!==null?null:a(g,w,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ug:return S.key===b?l(g,w,S,E):null;case yf:return S.key===b?u(g,w,S,E):null;case Ja:return b=S._init,p(g,w,b(S._payload),E)}if(bd(S)||Qh(S))return b!==null?null:f(g,w,S,E,null);qg(g,S)}return null}function m(g,w,S,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(S)||null,a(w,g,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ug:return g=g.get(E.key===null?S:E.key)||null,l(w,g,E,b);case yf:return g=g.get(E.key===null?S:E.key)||null,u(w,g,E,b);case Ja:var P=E._init;return m(g,w,S,P(E._payload),b)}if(bd(E)||Qh(E))return g=g.get(S)||null,f(w,g,E,b,null);qg(w,E)}return null}function v(g,w,S,E){for(var b=null,P=null,R=w,I=w=0,C=null;R!==null&&I<S.length;I++){R.index>I?(C=R,R=null):C=R.sibling;var L=p(g,R,S[I],E);if(L===null){R===null&&(R=C);break}n&&R&&L.alternate===null&&e(g,R),w=s(L,w,I),P===null?b=L:P.sibling=L,P=L,R=C}if(I===S.length)return t(g,R),Un&&yu(g,I),b;if(R===null){for(;I<S.length;I++)R=d(g,S[I],E),R!==null&&(w=s(R,w,I),P===null?b=R:P.sibling=R,P=R);return Un&&yu(g,I),b}for(R=i(g,R);I<S.length;I++)C=m(R,g,I,S[I],E),C!==null&&(n&&C.alternate!==null&&R.delete(C.key===null?I:C.key),w=s(C,w,I),P===null?b=C:P.sibling=C,P=C);return n&&R.forEach(function(B){return e(g,B)}),Un&&yu(g,I),b}function _(g,w,S,E){var b=Qh(S);if(typeof b!="function")throw Error(Ue(150));if(S=b.call(S),S==null)throw Error(Ue(151));for(var P=b=null,R=w,I=w=0,C=null,L=S.next();R!==null&&!L.done;I++,L=S.next()){R.index>I?(C=R,R=null):C=R.sibling;var B=p(g,R,L.value,E);if(B===null){R===null&&(R=C);break}n&&R&&B.alternate===null&&e(g,R),w=s(B,w,I),P===null?b=B:P.sibling=B,P=B,R=C}if(L.done)return t(g,R),Un&&yu(g,I),b;if(R===null){for(;!L.done;I++,L=S.next())L=d(g,L.value,E),L!==null&&(w=s(L,w,I),P===null?b=L:P.sibling=L,P=L);return Un&&yu(g,I),b}for(R=i(g,R);!L.done;I++,L=S.next())L=m(R,g,I,L.value,E),L!==null&&(n&&L.alternate!==null&&R.delete(L.key===null?I:L.key),w=s(L,w,I),P===null?b=L:P.sibling=L,P=L);return n&&R.forEach(function(W){return e(g,W)}),Un&&yu(g,I),b}function x(g,w,S,E){if(typeof S=="object"&&S!==null&&S.type===_f&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ug:e:{for(var b=S.key,P=w;P!==null;){if(P.key===b){if(b=S.type,b===_f){if(P.tag===7){t(g,P.sibling),w=r(P,S.props.children),w.return=g,g=w;break e}}else if(P.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ja&&xP(b)===P.type){t(g,P.sibling),w=r(P,S.props),w.ref=rd(g,P,S),w.return=g,g=w;break e}t(g,P);break}else e(g,P);P=P.sibling}S.type===_f?(w=Hu(S.props.children,g.mode,E,S.key),w.return=g,g=w):(E=_v(S.type,S.key,S.props,null,g.mode,E),E.ref=rd(g,w,S),E.return=g,g=E)}return o(g);case yf:e:{for(P=S.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){t(g,w.sibling),w=r(w,S.children||[]),w.return=g,g=w;break e}else{t(g,w);break}else e(g,w);w=w.sibling}w=S1(S,g.mode,E),w.return=g,g=w}return o(g);case Ja:return P=S._init,x(g,w,P(S._payload),E)}if(bd(S))return v(g,w,S,E);if(Qh(S))return _(g,w,S,E);qg(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(t(g,w.sibling),w=r(w,S),w.return=g,g=w):(t(g,w),w=w1(S,g.mode,E),w.return=g,g=w),o(g)):t(g,w)}return x}var sh=qL(!0),ZL=qL(!1),Qv=Gl(null),ey=null,bf=null,FE=null;function zE(){FE=bf=ey=null}function BE(n){var e=Qv.current;Dn(Qv),n._currentValue=e}function vS(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Xf(n,e){ey=n,FE=bf=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(zr=!0),n.firstContext=null)}function qs(n){var e=n._currentValue;if(FE!==n)if(n={context:n,memoizedValue:e,next:null},bf===null){if(ey===null)throw Error(Ue(308));bf=n,ey.dependencies={lanes:0,firstContext:n}}else bf=bf.next=n;return e}var Ru=null;function VE(n){Ru===null?Ru=[n]:Ru.push(n)}function $L(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,VE(e)):(t.next=r.next,r.next=t),e.interleaved=t,Ma(n,i)}function Ma(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Qa=!1;function HE(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KL(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function va(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function yl(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,nn&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ma(n,t)}return r=i.interleaved,r===null?(e.next=e,VE(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ma(n,t)}function dv(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,bE(n,t)}}function wP(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function ty(n,e,t,i){var r=n.updateQueue;Qa=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var f=n.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,f=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,_=a;switch(p=e,m=t,_.tag){case 1:if(v=_.payload,typeof v=="function"){d=v.call(m,d,p);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,p=typeof v=="function"?v.call(m,d,p):v,p==null)break e;d=Zn({},d,p);break e;case 2:Qa=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=m,l=d):f=f.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(f===null&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);rc|=o,n.lanes=o,n.memoizedState=d}}function SP(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Ue(191,r));r.call(i)}}}var Mm={},Oo=Gl(Mm),Rp=Gl(Mm),Ip=Gl(Mm);function Iu(n){if(n===Mm)throw Error(Ue(174));return n}function GE(n,e){switch(Pn(Ip,e),Pn(Rp,n),Pn(Oo,Mm),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kw(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Kw(e,n)}Dn(Oo),Pn(Oo,e)}function oh(){Dn(Oo),Dn(Rp),Dn(Ip)}function JL(n){Iu(Ip.current);var e=Iu(Oo.current),t=Kw(e,n.type);e!==t&&(Pn(Rp,n),Pn(Oo,t))}function WE(n){Rp.current===n&&(Dn(Oo),Dn(Rp))}var Gn=Gl(0);function ny(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var m1=[];function jE(){for(var n=0;n<m1.length;n++)m1[n]._workInProgressVersionPrimary=null;m1.length=0}var pv=Ra.ReactCurrentDispatcher,g1=Ra.ReactCurrentBatchConfig,ic=0,qn=null,Si=null,Oi=null,iy=!1,jd=!1,Lp=0,RV=0;function Ji(){throw Error(Ue(321))}function XE(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ho(n[t],e[t]))return!1;return!0}function YE(n,e,t,i,r,s){if(ic=s,qn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pv.current=n===null||n.memoizedState===null?DV:kV,n=t(i,r),jd){s=0;do{if(jd=!1,Lp=0,25<=s)throw Error(Ue(301));s+=1,Oi=Si=null,e.updateQueue=null,pv.current=OV,n=t(i,r)}while(jd)}if(pv.current=ry,e=Si!==null&&Si.next!==null,ic=0,Oi=Si=qn=null,iy=!1,e)throw Error(Ue(300));return n}function qE(){var n=Lp!==0;return Lp=0,n}function Ao(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oi===null?qn.memoizedState=Oi=n:Oi=Oi.next=n,Oi}function Zs(){if(Si===null){var n=qn.alternate;n=n!==null?n.memoizedState:null}else n=Si.next;var e=Oi===null?qn.memoizedState:Oi.next;if(e!==null)Oi=e,Si=n;else{if(n===null)throw Error(Ue(310));Si=n,n={memoizedState:Si.memoizedState,baseState:Si.baseState,baseQueue:Si.baseQueue,queue:Si.queue,next:null},Oi===null?qn.memoizedState=Oi=n:Oi=Oi.next=n}return Oi}function Np(n,e){return typeof e=="function"?e(n):e}function v1(n){var e=Zs(),t=e.queue;if(t===null)throw Error(Ue(311));t.lastRenderedReducer=n;var i=Si,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var f=u.lane;if((ic&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,qn.lanes|=f,rc|=f}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,ho(i,e.memoizedState)||(zr=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,qn.lanes|=s,rc|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function y1(n){var e=Zs(),t=e.queue;if(t===null)throw Error(Ue(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);ho(s,e.memoizedState)||(zr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function QL(){}function eN(n,e){var t=qn,i=Zs(),r=e(),s=!ho(i.memoizedState,r);if(s&&(i.memoizedState=r,zr=!0),i=i.queue,ZE(iN.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Oi!==null&&Oi.memoizedState.tag&1){if(t.flags|=2048,Dp(9,nN.bind(null,t,i,r,e),void 0,null),Bi===null)throw Error(Ue(349));ic&30||tN(t,e,r)}return r}function tN(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=qn.updateQueue,e===null?(e={lastEffect:null,stores:null},qn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function nN(n,e,t,i){e.value=t,e.getSnapshot=i,rN(e)&&sN(n)}function iN(n,e,t){return t(function(){rN(e)&&sN(n)})}function rN(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ho(n,t)}catch{return!0}}function sN(n){var e=Ma(n,1);e!==null&&fo(e,n,1,-1)}function MP(n){var e=Ao();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Np,lastRenderedState:n},e.queue=n,n=n.dispatch=NV.bind(null,qn,n),[e.memoizedState,n]}function Dp(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=qn.updateQueue,e===null?(e={lastEffect:null,stores:null},qn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function oN(){return Zs().memoizedState}function mv(n,e,t,i){var r=Ao();qn.flags|=n,r.memoizedState=Dp(1|e,t,void 0,i===void 0?null:i)}function qy(n,e,t,i){var r=Zs();i=i===void 0?null:i;var s=void 0;if(Si!==null){var o=Si.memoizedState;if(s=o.destroy,i!==null&&XE(i,o.deps)){r.memoizedState=Dp(e,t,s,i);return}}qn.flags|=n,r.memoizedState=Dp(1|e,t,s,i)}function EP(n,e){return mv(8390656,8,n,e)}function ZE(n,e){return qy(2048,8,n,e)}function aN(n,e){return qy(4,2,n,e)}function lN(n,e){return qy(4,4,n,e)}function uN(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function cN(n,e,t){return t=t!=null?t.concat([n]):null,qy(4,4,uN.bind(null,e,n),t)}function $E(){}function fN(n,e){var t=Zs();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&XE(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function hN(n,e){var t=Zs();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&XE(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function dN(n,e,t){return ic&21?(ho(t,e)||(t=yL(),qn.lanes|=t,rc|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,zr=!0),n.memoizedState=t)}function IV(n,e){var t=vn;vn=t!==0&&4>t?t:4,n(!0);var i=g1.transition;g1.transition={};try{n(!1),e()}finally{vn=t,g1.transition=i}}function pN(){return Zs().memoizedState}function LV(n,e,t){var i=xl(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},mN(n))gN(e,t);else if(t=$L(n,e,t,i),t!==null){var r=Tr();fo(t,n,i,r),vN(t,e,i)}}function NV(n,e,t){var i=xl(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(mN(n))gN(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,ho(a,o)){var l=e.interleaved;l===null?(r.next=r,VE(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=$L(n,e,r,i),t!==null&&(r=Tr(),fo(t,n,i,r),vN(t,e,i))}}function mN(n){var e=n.alternate;return n===qn||e!==null&&e===qn}function gN(n,e){jd=iy=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function vN(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,bE(n,t)}}var ry={readContext:qs,useCallback:Ji,useContext:Ji,useEffect:Ji,useImperativeHandle:Ji,useInsertionEffect:Ji,useLayoutEffect:Ji,useMemo:Ji,useReducer:Ji,useRef:Ji,useState:Ji,useDebugValue:Ji,useDeferredValue:Ji,useTransition:Ji,useMutableSource:Ji,useSyncExternalStore:Ji,useId:Ji,unstable_isNewReconciler:!1},DV={readContext:qs,useCallback:function(n,e){return Ao().memoizedState=[n,e===void 0?null:e],n},useContext:qs,useEffect:EP,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,mv(4194308,4,uN.bind(null,e,n),t)},useLayoutEffect:function(n,e){return mv(4194308,4,n,e)},useInsertionEffect:function(n,e){return mv(4,2,n,e)},useMemo:function(n,e){var t=Ao();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Ao();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=LV.bind(null,qn,n),[i.memoizedState,n]},useRef:function(n){var e=Ao();return n={current:n},e.memoizedState=n},useState:MP,useDebugValue:$E,useDeferredValue:function(n){return Ao().memoizedState=n},useTransition:function(){var n=MP(!1),e=n[0];return n=IV.bind(null,n[1]),Ao().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=qn,r=Ao();if(Un){if(t===void 0)throw Error(Ue(407));t=t()}else{if(t=e(),Bi===null)throw Error(Ue(349));ic&30||tN(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,EP(iN.bind(null,i,s,n),[n]),i.flags|=2048,Dp(9,nN.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Ao(),e=Bi.identifierPrefix;if(Un){var t=pa,i=da;t=(i&~(1<<32-co(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Lp++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=RV++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},kV={readContext:qs,useCallback:fN,useContext:qs,useEffect:ZE,useImperativeHandle:cN,useInsertionEffect:aN,useLayoutEffect:lN,useMemo:hN,useReducer:v1,useRef:oN,useState:function(){return v1(Np)},useDebugValue:$E,useDeferredValue:function(n){var e=Zs();return dN(e,Si.memoizedState,n)},useTransition:function(){var n=v1(Np)[0],e=Zs().memoizedState;return[n,e]},useMutableSource:QL,useSyncExternalStore:eN,useId:pN,unstable_isNewReconciler:!1},OV={readContext:qs,useCallback:fN,useContext:qs,useEffect:ZE,useImperativeHandle:cN,useInsertionEffect:aN,useLayoutEffect:lN,useMemo:hN,useReducer:y1,useRef:oN,useState:function(){return y1(Np)},useDebugValue:$E,useDeferredValue:function(n){var e=Zs();return Si===null?e.memoizedState=n:dN(e,Si.memoizedState,n)},useTransition:function(){var n=y1(Np)[0],e=Zs().memoizedState;return[n,e]},useMutableSource:QL,useSyncExternalStore:eN,useId:pN,unstable_isNewReconciler:!1};function io(n,e){if(n&&n.defaultProps){e=Zn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function yS(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Zn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Zy={isMounted:function(n){return(n=n._reactInternals)?mc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Tr(),r=xl(n),s=va(i,r);s.payload=e,t!=null&&(s.callback=t),e=yl(n,s,r),e!==null&&(fo(e,n,r,i),dv(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Tr(),r=xl(n),s=va(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=yl(n,s,r),e!==null&&(fo(e,n,r,i),dv(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Tr(),i=xl(n),r=va(t,i);r.tag=2,e!=null&&(r.callback=e),e=yl(n,r,i),e!==null&&(fo(e,n,i,t),dv(e,n,i))}};function TP(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ap(t,i)||!Ap(r,s):!0}function yN(n,e,t){var i=!1,r=Ll,s=e.contextType;return typeof s=="object"&&s!==null?s=qs(s):(r=Vr(e)?tc:ur.current,i=e.contextTypes,s=(i=i!=null)?ih(n,r):Ll),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zy,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function AP(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Zy.enqueueReplaceState(e,e.state,null)}function _S(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},HE(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=qs(s):(s=Vr(e)?tc:ur.current,r.context=ih(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(yS(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Zy.enqueueReplaceState(r,r.state,null),ty(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function ah(n,e){try{var t="",i=e;do t+=c4(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function _1(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function xS(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var UV=typeof WeakMap=="function"?WeakMap:Map;function _N(n,e,t){t=va(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){oy||(oy=!0,RS=i),xS(n,e)},t}function xN(n,e,t){t=va(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){xS(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){xS(n,e),typeof i!="function"&&(_l===null?_l=new Set([this]):_l.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function bP(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new UV;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=KV.bind(null,n,e,t),e.then(n,n))}function CP(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function PP(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=va(-1,1),e.tag=2,yl(t,e,1))),t.lanes|=1),n)}var FV=Ra.ReactCurrentOwner,zr=!1;function xr(n,e,t,i){e.child=n===null?ZL(e,null,t,i):sh(e,n.child,t,i)}function RP(n,e,t,i,r){t=t.render;var s=e.ref;return Xf(e,r),i=YE(n,e,t,i,s,r),t=qE(),n!==null&&!zr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ea(n,e,r)):(Un&&t&&kE(e),e.flags|=1,xr(n,e,i,r),e.child)}function IP(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!rT(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,wN(n,e,s,i,r)):(n=_v(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Ap,t(o,i)&&n.ref===e.ref)return Ea(n,e,r)}return e.flags|=1,n=wl(s,i),n.ref=e.ref,n.return=e,e.child=n}function wN(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Ap(s,i)&&n.ref===e.ref)if(zr=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(zr=!0);else return e.lanes=n.lanes,Ea(n,e,r)}return wS(n,e,t,i,r)}function SN(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pn(Pf,is),is|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Pn(Pf,is),is|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Pn(Pf,is),is|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Pn(Pf,is),is|=i;return xr(n,e,r,t),e.child}function MN(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function wS(n,e,t,i,r){var s=Vr(t)?tc:ur.current;return s=ih(e,s),Xf(e,r),t=YE(n,e,t,i,s,r),i=qE(),n!==null&&!zr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ea(n,e,r)):(Un&&i&&kE(e),e.flags|=1,xr(n,e,t,r),e.child)}function LP(n,e,t,i,r){if(Vr(t)){var s=!0;$v(e)}else s=!1;if(Xf(e,r),e.stateNode===null)gv(n,e),yN(e,t,i),_S(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=qs(u):(u=Vr(t)?tc:ur.current,u=ih(e,u));var f=t.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&AP(e,o,i,u),Qa=!1;var p=e.memoizedState;o.state=p,ty(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Br.current||Qa?(typeof f=="function"&&(yS(e,t,f,i),l=e.memoizedState),(a=Qa||TP(e,t,a,i,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,KL(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:io(e.type,a),o.props=u,d=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=qs(l):(l=Vr(t)?tc:ur.current,l=ih(e,l));var m=t.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&AP(e,o,i,l),Qa=!1,p=e.memoizedState,o.state=p,ty(e,i,o,r);var v=e.memoizedState;a!==d||p!==v||Br.current||Qa?(typeof m=="function"&&(yS(e,t,m,i),v=e.memoizedState),(u=Qa||TP(e,t,u,i,p,v,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return SS(n,e,t,i,s,r)}function SS(n,e,t,i,r,s){MN(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&vP(e,t,!1),Ea(n,e,s);i=e.stateNode,FV.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=sh(e,n.child,null,s),e.child=sh(e,null,a,s)):xr(n,e,a,s),e.memoizedState=i.state,r&&vP(e,t,!0),e.child}function EN(n){var e=n.stateNode;e.pendingContext?gP(n,e.pendingContext,e.pendingContext!==e.context):e.context&&gP(n,e.context,!1),GE(n,e.containerInfo)}function NP(n,e,t,i,r){return rh(),UE(r),e.flags|=256,xr(n,e,t,i),e.child}var MS={dehydrated:null,treeContext:null,retryLane:0};function ES(n){return{baseLanes:n,cachePool:null,transitions:null}}function TN(n,e,t){var i=e.pendingProps,r=Gn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Pn(Gn,r&1),n===null)return gS(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jy(o,i,0,null),n=Hu(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=ES(t),e.memoizedState=MS,n):KE(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return zV(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=wl(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=wl(a,s):(s=Hu(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?ES(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=MS,i}return s=n.child,n=s.sibling,i=wl(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function KE(n,e){return e=Jy({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Zg(n,e,t,i){return i!==null&&UE(i),sh(e,n.child,null,t),n=KE(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function zV(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=_1(Error(Ue(422))),Zg(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Jy({mode:"visible",children:i.children},r,0,null),s=Hu(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&sh(e,n.child,null,o),e.child.memoizedState=ES(o),e.memoizedState=MS,s);if(!(e.mode&1))return Zg(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Ue(419)),i=_1(s,i,void 0),Zg(n,e,o,i)}if(a=(o&n.childLanes)!==0,zr||a){if(i=Bi,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Ma(n,r),fo(i,n,r,-1))}return iT(),i=_1(Error(Ue(421))),Zg(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=JV.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,cs=vl(r.nextSibling),hs=e,Un=!0,ao=null,n!==null&&(Fs[zs++]=da,Fs[zs++]=pa,Fs[zs++]=nc,da=n.id,pa=n.overflow,nc=e),e=KE(e,i.children),e.flags|=4096,e)}function DP(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),vS(n.return,e,t)}function x1(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function AN(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(xr(n,e,i.children,t),i=Gn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&DP(n,t,e);else if(n.tag===19)DP(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Pn(Gn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&ny(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),x1(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&ny(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}x1(e,!0,t,null,s);break;case"together":x1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gv(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ea(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),rc|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ue(153));if(e.child!==null){for(n=e.child,t=wl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=wl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function BV(n,e,t){switch(e.tag){case 3:EN(e),rh();break;case 5:JL(e);break;case 1:Vr(e.type)&&$v(e);break;case 4:GE(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Pn(Qv,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Pn(Gn,Gn.current&1),e.flags|=128,null):t&e.child.childLanes?TN(n,e,t):(Pn(Gn,Gn.current&1),n=Ea(n,e,t),n!==null?n.sibling:null);Pn(Gn,Gn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return AN(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Pn(Gn,Gn.current),i)break;return null;case 22:case 23:return e.lanes=0,SN(n,e,t)}return Ea(n,e,t)}var bN,TS,CN,PN;bN=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};TS=function(){};CN=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Iu(Oo.current);var s=null;switch(t){case"input":r=Yw(n,r),i=Yw(n,i),s=[];break;case"select":r=Zn({},r,{value:void 0}),i=Zn({},i,{value:void 0}),s=[];break;case"textarea":r=$w(n,r),i=$w(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=qv)}Jw(t,i);var o;t=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_p.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_p.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ln("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};PN=function(n,e,t,i){t!==i&&(e.flags|=4)};function sd(n,e){if(!Un)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Qi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function VV(n,e,t){var i=e.pendingProps;switch(OE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qi(e),null;case 1:return Vr(e.type)&&Zv(),Qi(e),null;case 3:return i=e.stateNode,oh(),Dn(Br),Dn(ur),jE(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Yg(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ao!==null&&(NS(ao),ao=null))),TS(n,e),Qi(e),null;case 5:WE(e);var r=Iu(Ip.current);if(t=e.type,n!==null&&e.stateNode!=null)CN(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Ue(166));return Qi(e),null}if(n=Iu(Oo.current),Yg(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Po]=e,i[Pp]=s,n=(e.mode&1)!==0,t){case"dialog":Ln("cancel",i),Ln("close",i);break;case"iframe":case"object":case"embed":Ln("load",i);break;case"video":case"audio":for(r=0;r<Pd.length;r++)Ln(Pd[r],i);break;case"source":Ln("error",i);break;case"img":case"image":case"link":Ln("error",i),Ln("load",i);break;case"details":Ln("toggle",i);break;case"input":GC(i,s),Ln("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ln("invalid",i);break;case"textarea":jC(i,s),Ln("invalid",i)}Jw(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Xg(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Xg(i.textContent,a,n),r=["children",""+a]):_p.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ln("scroll",i)}switch(t){case"input":Fg(i),WC(i,s,!0);break;case"textarea":Fg(i),XC(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=qv)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=iL(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Po]=e,n[Pp]=i,bN(n,e,!1,!1),e.stateNode=n;e:{switch(o=Qw(t,i),t){case"dialog":Ln("cancel",n),Ln("close",n),r=i;break;case"iframe":case"object":case"embed":Ln("load",n),r=i;break;case"video":case"audio":for(r=0;r<Pd.length;r++)Ln(Pd[r],n);r=i;break;case"source":Ln("error",n),r=i;break;case"img":case"image":case"link":Ln("error",n),Ln("load",n),r=i;break;case"details":Ln("toggle",n),r=i;break;case"input":GC(n,i),r=Yw(n,i),Ln("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=Zn({},i,{value:void 0}),Ln("invalid",n);break;case"textarea":jC(n,i),r=$w(n,i),Ln("invalid",n);break;default:r=i}Jw(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?oL(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rL(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&xp(n,l):typeof l=="number"&&xp(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_p.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ln("scroll",n):l!=null&&wE(n,s,l,o))}switch(t){case"input":Fg(n),WC(n,i,!1);break;case"textarea":Fg(n),XC(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Il(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Hf(n,!!i.multiple,s,!1):i.defaultValue!=null&&Hf(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=qv)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qi(e),null;case 6:if(n&&e.stateNode!=null)PN(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Ue(166));if(t=Iu(Ip.current),Iu(Oo.current),Yg(e)){if(i=e.stateNode,t=e.memoizedProps,i[Po]=e,(s=i.nodeValue!==t)&&(n=hs,n!==null))switch(n.tag){case 3:Xg(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Xg(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Po]=e,e.stateNode=i}return Qi(e),null;case 13:if(Dn(Gn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Un&&cs!==null&&e.mode&1&&!(e.flags&128))YL(),rh(),e.flags|=98560,s=!1;else if(s=Yg(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ue(317));s[Po]=e}else rh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qi(e),s=!1}else ao!==null&&(NS(ao),ao=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Gn.current&1?Ai===0&&(Ai=3):iT())),e.updateQueue!==null&&(e.flags|=4),Qi(e),null);case 4:return oh(),TS(n,e),n===null&&bp(e.stateNode.containerInfo),Qi(e),null;case 10:return BE(e.type._context),Qi(e),null;case 17:return Vr(e.type)&&Zv(),Qi(e),null;case 19:if(Dn(Gn),s=e.memoizedState,s===null)return Qi(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)sd(s,!1);else{if(Ai!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=ny(n),o!==null){for(e.flags|=128,sd(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Pn(Gn,Gn.current&1|2),e.child}n=n.sibling}s.tail!==null&&ai()>lh&&(e.flags|=128,i=!0,sd(s,!1),e.lanes=4194304)}else{if(!i)if(n=ny(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),sd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Un)return Qi(e),null}else 2*ai()-s.renderingStartTime>lh&&t!==1073741824&&(e.flags|=128,i=!0,sd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ai(),e.sibling=null,t=Gn.current,Pn(Gn,i?t&1|2:t&1),e):(Qi(e),null);case 22:case 23:return nT(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?is&1073741824&&(Qi(e),e.subtreeFlags&6&&(e.flags|=8192)):Qi(e),null;case 24:return null;case 25:return null}throw Error(Ue(156,e.tag))}function HV(n,e){switch(OE(e),e.tag){case 1:return Vr(e.type)&&Zv(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return oh(),Dn(Br),Dn(ur),jE(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return WE(e),null;case 13:if(Dn(Gn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ue(340));rh()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Dn(Gn),null;case 4:return oh(),null;case 10:return BE(e.type._context),null;case 22:case 23:return nT(),null;case 24:return null;default:return null}}var $g=!1,sr=!1,GV=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Cf(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Jn(n,e,i)}else t.current=null}function AS(n,e,t){try{t()}catch(i){Jn(n,e,i)}}var kP=!1;function WV(n,e){if(uS=jv,n=DL(),DE(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,f=0,d=n,p=null;t:for(;;){for(var m;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===n)break t;if(p===t&&++u===r&&(a=o),p===s&&++f===i&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(cS={focusedElem:n,selectionRange:t},jv=!1,lt=e;lt!==null;)if(e=lt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,lt=n;else for(;lt!==null;){e=lt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,x=v.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:io(e.type,_),x);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(E){Jn(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,lt=n;break}lt=e.return}return v=kP,kP=!1,v}function Xd(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&AS(e,t,s)}r=r.next}while(r!==i)}}function $y(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function bS(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function RN(n){var e=n.alternate;e!==null&&(n.alternate=null,RN(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Po],delete e[Pp],delete e[dS],delete e[AV],delete e[bV])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function IN(n){return n.tag===5||n.tag===3||n.tag===4}function OP(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||IN(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function CS(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=qv));else if(i!==4&&(n=n.child,n!==null))for(CS(n,e,t),n=n.sibling;n!==null;)CS(n,e,t),n=n.sibling}function PS(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(PS(n,e,t),n=n.sibling;n!==null;)PS(n,e,t),n=n.sibling}var Gi=null,oo=!1;function Va(n,e,t){for(t=t.child;t!==null;)LN(n,e,t),t=t.sibling}function LN(n,e,t){if(ko&&typeof ko.onCommitFiberUnmount=="function")try{ko.onCommitFiberUnmount(Hy,t)}catch{}switch(t.tag){case 5:sr||Cf(t,e);case 6:var i=Gi,r=oo;Gi=null,Va(n,e,t),Gi=i,oo=r,Gi!==null&&(oo?(n=Gi,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Gi.removeChild(t.stateNode));break;case 18:Gi!==null&&(oo?(n=Gi,t=t.stateNode,n.nodeType===8?d1(n.parentNode,t):n.nodeType===1&&d1(n,t),Ep(n)):d1(Gi,t.stateNode));break;case 4:i=Gi,r=oo,Gi=t.stateNode.containerInfo,oo=!0,Va(n,e,t),Gi=i,oo=r;break;case 0:case 11:case 14:case 15:if(!sr&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&AS(t,e,o),r=r.next}while(r!==i)}Va(n,e,t);break;case 1:if(!sr&&(Cf(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Jn(t,e,a)}Va(n,e,t);break;case 21:Va(n,e,t);break;case 22:t.mode&1?(sr=(i=sr)||t.memoizedState!==null,Va(n,e,t),sr=i):Va(n,e,t);break;default:Va(n,e,t)}}function UP(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new GV),e.forEach(function(i){var r=QV.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Js(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Gi=a.stateNode,oo=!1;break e;case 3:Gi=a.stateNode.containerInfo,oo=!0;break e;case 4:Gi=a.stateNode.containerInfo,oo=!0;break e}a=a.return}if(Gi===null)throw Error(Ue(160));LN(s,o,r),Gi=null,oo=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Jn(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NN(e,n),e=e.sibling}function NN(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Js(e,n),To(n),i&4){try{Xd(3,n,n.return),$y(3,n)}catch(_){Jn(n,n.return,_)}try{Xd(5,n,n.return)}catch(_){Jn(n,n.return,_)}}break;case 1:Js(e,n),To(n),i&512&&t!==null&&Cf(t,t.return);break;case 5:if(Js(e,n),To(n),i&512&&t!==null&&Cf(t,t.return),n.flags&32){var r=n.stateNode;try{xp(r,"")}catch(_){Jn(n,n.return,_)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&tL(r,s),Qw(a,o);var u=Qw(a,s);for(o=0;o<l.length;o+=2){var f=l[o],d=l[o+1];f==="style"?oL(r,d):f==="dangerouslySetInnerHTML"?rL(r,d):f==="children"?xp(r,d):wE(r,f,d,u)}switch(a){case"input":qw(r,s);break;case"textarea":nL(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Hf(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Hf(r,!!s.multiple,s.defaultValue,!0):Hf(r,!!s.multiple,s.multiple?[]:"",!1))}r[Pp]=s}catch(_){Jn(n,n.return,_)}}break;case 6:if(Js(e,n),To(n),i&4){if(n.stateNode===null)throw Error(Ue(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(_){Jn(n,n.return,_)}}break;case 3:if(Js(e,n),To(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Ep(e.containerInfo)}catch(_){Jn(n,n.return,_)}break;case 4:Js(e,n),To(n);break;case 13:Js(e,n),To(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(eT=ai())),i&4&&UP(n);break;case 22:if(f=t!==null&&t.memoizedState!==null,n.mode&1?(sr=(u=sr)||f,Js(e,n),sr=u):Js(e,n),To(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!f&&n.mode&1)for(lt=n,f=n.child;f!==null;){for(d=lt=f;lt!==null;){switch(p=lt,m=p.child,p.tag){case 0:case 11:case 14:case 15:Xd(4,p,p.return);break;case 1:Cf(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){Jn(i,t,_)}}break;case 5:Cf(p,p.return);break;case 22:if(p.memoizedState!==null){zP(d);continue}}m!==null?(m.return=p,lt=m):zP(d)}f=f.sibling}e:for(f=null,d=n;;){if(d.tag===5){if(f===null){f=d;try{r=d.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sL("display",o))}catch(_){Jn(n,n.return,_)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){Jn(n,n.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Js(e,n),To(n),i&4&&UP(n);break;case 21:break;default:Js(e,n),To(n)}}function To(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(IN(t)){var i=t;break e}t=t.return}throw Error(Ue(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(xp(r,""),i.flags&=-33);var s=OP(n);PS(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=OP(n);CS(n,a,o);break;default:throw Error(Ue(161))}}catch(l){Jn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function jV(n,e,t){lt=n,DN(n)}function DN(n,e,t){for(var i=(n.mode&1)!==0;lt!==null;){var r=lt,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||$g;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||sr;a=$g;var u=sr;if($g=o,(sr=l)&&!u)for(lt=r;lt!==null;)o=lt,l=o.child,o.tag===22&&o.memoizedState!==null?BP(r):l!==null?(l.return=o,lt=l):BP(r);for(;s!==null;)lt=s,DN(s),s=s.sibling;lt=r,$g=a,sr=u}FP(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,lt=s):FP(n)}}function FP(n){for(;lt!==null;){var e=lt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sr||$y(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!sr)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:io(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&SP(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}SP(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Ep(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}sr||e.flags&512&&bS(e)}catch(p){Jn(e,e.return,p)}}if(e===n){lt=null;break}if(t=e.sibling,t!==null){t.return=e.return,lt=t;break}lt=e.return}}function zP(n){for(;lt!==null;){var e=lt;if(e===n){lt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,lt=t;break}lt=e.return}}function BP(n){for(;lt!==null;){var e=lt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{$y(4,e)}catch(l){Jn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Jn(e,r,l)}}var s=e.return;try{bS(e)}catch(l){Jn(e,s,l)}break;case 5:var o=e.return;try{bS(e)}catch(l){Jn(e,o,l)}}}catch(l){Jn(e,e.return,l)}if(e===n){lt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,lt=a;break}lt=e.return}}var XV=Math.ceil,sy=Ra.ReactCurrentDispatcher,JE=Ra.ReactCurrentOwner,Xs=Ra.ReactCurrentBatchConfig,nn=0,Bi=null,vi=null,ji=0,is=0,Pf=Gl(0),Ai=0,kp=null,rc=0,Ky=0,QE=0,Yd=null,Or=null,eT=0,lh=1/0,aa=null,oy=!1,RS=null,_l=null,Kg=!1,ol=null,ay=0,qd=0,IS=null,vv=-1,yv=0;function Tr(){return nn&6?ai():vv!==-1?vv:vv=ai()}function xl(n){return n.mode&1?nn&2&&ji!==0?ji&-ji:PV.transition!==null?(yv===0&&(yv=yL()),yv):(n=vn,n!==0||(n=window.event,n=n===void 0?16:TL(n.type)),n):1}function fo(n,e,t,i){if(50<qd)throw qd=0,IS=null,Error(Ue(185));xm(n,t,i),(!(nn&2)||n!==Bi)&&(n===Bi&&(!(nn&2)&&(Ky|=t),Ai===4&&rl(n,ji)),Hr(n,i),t===1&&nn===0&&!(e.mode&1)&&(lh=ai()+500,Yy&&Wl()))}function Hr(n,e){var t=n.callbackNode;P4(n,e);var i=Wv(n,n===Bi?ji:0);if(i===0)t!==null&&ZC(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&ZC(t),e===1)n.tag===0?CV(VP.bind(null,n)):WL(VP.bind(null,n)),EV(function(){!(nn&6)&&Wl()}),t=null;else{switch(_L(i)){case 1:t=AE;break;case 4:t=gL;break;case 16:t=Gv;break;case 536870912:t=vL;break;default:t=Gv}t=HN(t,kN.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function kN(n,e){if(vv=-1,yv=0,nn&6)throw Error(Ue(327));var t=n.callbackNode;if(Yf()&&n.callbackNode!==t)return null;var i=Wv(n,n===Bi?ji:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=ly(n,i);else{e=i;var r=nn;nn|=2;var s=UN();(Bi!==n||ji!==e)&&(aa=null,lh=ai()+500,Vu(n,e));do try{ZV();break}catch(a){ON(n,a)}while(1);zE(),sy.current=s,nn=r,vi!==null?e=0:(Bi=null,ji=0,e=Ai)}if(e!==0){if(e===2&&(r=rS(n),r!==0&&(i=r,e=LS(n,r))),e===1)throw t=kp,Vu(n,0),rl(n,i),Hr(n,ai()),t;if(e===6)rl(n,i);else{if(r=n.current.alternate,!(i&30)&&!YV(r)&&(e=ly(n,i),e===2&&(s=rS(n),s!==0&&(i=s,e=LS(n,s))),e===1))throw t=kp,Vu(n,0),rl(n,i),Hr(n,ai()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Ue(345));case 2:_u(n,Or,aa);break;case 3:if(rl(n,i),(i&130023424)===i&&(e=eT+500-ai(),10<e)){if(Wv(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Tr(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=hS(_u.bind(null,n,Or,aa),e);break}_u(n,Or,aa);break;case 4:if(rl(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-co(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=ai()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*XV(i/1960))-i,10<i){n.timeoutHandle=hS(_u.bind(null,n,Or,aa),i);break}_u(n,Or,aa);break;case 5:_u(n,Or,aa);break;default:throw Error(Ue(329))}}}return Hr(n,ai()),n.callbackNode===t?kN.bind(null,n):null}function LS(n,e){var t=Yd;return n.current.memoizedState.isDehydrated&&(Vu(n,e).flags|=256),n=ly(n,e),n!==2&&(e=Or,Or=t,e!==null&&NS(e)),n}function NS(n){Or===null?Or=n:Or.push.apply(Or,n)}function YV(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!ho(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rl(n,e){for(e&=~QE,e&=~Ky,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-co(e),i=1<<t;n[t]=-1,e&=~i}}function VP(n){if(nn&6)throw Error(Ue(327));Yf();var e=Wv(n,0);if(!(e&1))return Hr(n,ai()),null;var t=ly(n,e);if(n.tag!==0&&t===2){var i=rS(n);i!==0&&(e=i,t=LS(n,i))}if(t===1)throw t=kp,Vu(n,0),rl(n,e),Hr(n,ai()),t;if(t===6)throw Error(Ue(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,_u(n,Or,aa),Hr(n,ai()),null}function tT(n,e){var t=nn;nn|=1;try{return n(e)}finally{nn=t,nn===0&&(lh=ai()+500,Yy&&Wl())}}function sc(n){ol!==null&&ol.tag===0&&!(nn&6)&&Yf();var e=nn;nn|=1;var t=Xs.transition,i=vn;try{if(Xs.transition=null,vn=1,n)return n()}finally{vn=i,Xs.transition=t,nn=e,!(nn&6)&&Wl()}}function nT(){is=Pf.current,Dn(Pf)}function Vu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,MV(t)),vi!==null)for(t=vi.return;t!==null;){var i=t;switch(OE(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Zv();break;case 3:oh(),Dn(Br),Dn(ur),jE();break;case 5:WE(i);break;case 4:oh();break;case 13:Dn(Gn);break;case 19:Dn(Gn);break;case 10:BE(i.type._context);break;case 22:case 23:nT()}t=t.return}if(Bi=n,vi=n=wl(n.current,null),ji=is=e,Ai=0,kp=null,QE=Ky=rc=0,Or=Yd=null,Ru!==null){for(e=0;e<Ru.length;e++)if(t=Ru[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Ru=null}return n}function ON(n,e){do{var t=vi;try{if(zE(),pv.current=ry,iy){for(var i=qn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}iy=!1}if(ic=0,Oi=Si=qn=null,jd=!1,Lp=0,JE.current=null,t===null||t.return===null){Ai=1,kp=e,vi=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=ji,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=CP(o);if(m!==null){m.flags&=-257,PP(m,o,a,s,e),m.mode&1&&bP(s,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){bP(s,u,e),iT();break e}l=Error(Ue(426))}}else if(Un&&a.mode&1){var x=CP(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),PP(x,o,a,s,e),UE(ah(l,a));break e}}s=l=ah(l,a),Ai!==4&&(Ai=2),Yd===null?Yd=[s]:Yd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=_N(s,l,e);wP(s,g);break e;case 1:a=l;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(_l===null||!_l.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=xN(s,a,e);wP(s,E);break e}}s=s.return}while(s!==null)}zN(t)}catch(b){e=b,vi===t&&t!==null&&(vi=t=t.return);continue}break}while(1)}function UN(){var n=sy.current;return sy.current=ry,n===null?ry:n}function iT(){(Ai===0||Ai===3||Ai===2)&&(Ai=4),Bi===null||!(rc&268435455)&&!(Ky&268435455)||rl(Bi,ji)}function ly(n,e){var t=nn;nn|=2;var i=UN();(Bi!==n||ji!==e)&&(aa=null,Vu(n,e));do try{qV();break}catch(r){ON(n,r)}while(1);if(zE(),nn=t,sy.current=i,vi!==null)throw Error(Ue(261));return Bi=null,ji=0,Ai}function qV(){for(;vi!==null;)FN(vi)}function ZV(){for(;vi!==null&&!x4();)FN(vi)}function FN(n){var e=VN(n.alternate,n,is);n.memoizedProps=n.pendingProps,e===null?zN(n):vi=e,JE.current=null}function zN(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=HV(t,e),t!==null){t.flags&=32767,vi=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ai=6,vi=null;return}}else if(t=VV(t,e,is),t!==null){vi=t;return}if(e=e.sibling,e!==null){vi=e;return}vi=e=n}while(e!==null);Ai===0&&(Ai=5)}function _u(n,e,t){var i=vn,r=Xs.transition;try{Xs.transition=null,vn=1,$V(n,e,t,i)}finally{Xs.transition=r,vn=i}return null}function $V(n,e,t,i){do Yf();while(ol!==null);if(nn&6)throw Error(Ue(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ue(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(R4(n,s),n===Bi&&(vi=Bi=null,ji=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Kg||(Kg=!0,HN(Gv,function(){return Yf(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Xs.transition,Xs.transition=null;var o=vn;vn=1;var a=nn;nn|=4,JE.current=null,WV(n,t),NN(t,n),gV(cS),jv=!!uS,cS=uS=null,n.current=t,jV(t),w4(),nn=a,vn=o,Xs.transition=s}else n.current=t;if(Kg&&(Kg=!1,ol=n,ay=r),s=n.pendingLanes,s===0&&(_l=null),E4(t.stateNode),Hr(n,ai()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(oy)throw oy=!1,n=RS,RS=null,n;return ay&1&&n.tag!==0&&Yf(),s=n.pendingLanes,s&1?n===IS?qd++:(qd=0,IS=n):qd=0,Wl(),null}function Yf(){if(ol!==null){var n=_L(ay),e=Xs.transition,t=vn;try{if(Xs.transition=null,vn=16>n?16:n,ol===null)var i=!1;else{if(n=ol,ol=null,ay=0,nn&6)throw Error(Ue(331));var r=nn;for(nn|=4,lt=n.current;lt!==null;){var s=lt,o=s.child;if(lt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(lt=u;lt!==null;){var f=lt;switch(f.tag){case 0:case 11:case 15:Xd(8,f,s)}var d=f.child;if(d!==null)d.return=f,lt=d;else for(;lt!==null;){f=lt;var p=f.sibling,m=f.return;if(RN(f),f===u){lt=null;break}if(p!==null){p.return=m,lt=p;break}lt=m}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}lt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,lt=o;else e:for(;lt!==null;){if(s=lt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xd(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,lt=g;break e}lt=s.return}}var w=n.current;for(lt=w;lt!==null;){o=lt;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,lt=S;else e:for(o=w;lt!==null;){if(a=lt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$y(9,a)}}catch(b){Jn(a,a.return,b)}if(a===o){lt=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,lt=E;break e}lt=a.return}}if(nn=r,Wl(),ko&&typeof ko.onPostCommitFiberRoot=="function")try{ko.onPostCommitFiberRoot(Hy,n)}catch{}i=!0}return i}finally{vn=t,Xs.transition=e}}return!1}function HP(n,e,t){e=ah(t,e),e=_N(n,e,1),n=yl(n,e,1),e=Tr(),n!==null&&(xm(n,1,e),Hr(n,e))}function Jn(n,e,t){if(n.tag===3)HP(n,n,t);else for(;e!==null;){if(e.tag===3){HP(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(_l===null||!_l.has(i))){n=ah(t,n),n=xN(e,n,1),e=yl(e,n,1),n=Tr(),e!==null&&(xm(e,1,n),Hr(e,n));break}}e=e.return}}function KV(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Tr(),n.pingedLanes|=n.suspendedLanes&t,Bi===n&&(ji&t)===t&&(Ai===4||Ai===3&&(ji&130023424)===ji&&500>ai()-eT?Vu(n,0):QE|=t),Hr(n,e)}function BN(n,e){e===0&&(n.mode&1?(e=Vg,Vg<<=1,!(Vg&130023424)&&(Vg=4194304)):e=1);var t=Tr();n=Ma(n,e),n!==null&&(xm(n,e,t),Hr(n,t))}function JV(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),BN(n,t)}function QV(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Ue(314))}i!==null&&i.delete(e),BN(n,t)}var VN;VN=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Br.current)zr=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return zr=!1,BV(n,e,t);zr=!!(n.flags&131072)}else zr=!1,Un&&e.flags&1048576&&jL(e,Jv,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;gv(n,e),n=e.pendingProps;var r=ih(e,ur.current);Xf(e,t),r=YE(null,e,i,n,r,t);var s=qE();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vr(i)?(s=!0,$v(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,HE(e),r.updater=Zy,e.stateNode=r,r._reactInternals=e,_S(e,i,n,t),e=SS(null,e,i,!0,s,t)):(e.tag=0,Un&&s&&kE(e),xr(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(gv(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=t5(i),n=io(i,n),r){case 0:e=wS(null,e,i,n,t);break e;case 1:e=LP(null,e,i,n,t);break e;case 11:e=RP(null,e,i,n,t);break e;case 14:e=IP(null,e,i,io(i.type,n),t);break e}throw Error(Ue(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:io(i,r),wS(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:io(i,r),LP(n,e,i,r,t);case 3:e:{if(EN(e),n===null)throw Error(Ue(387));i=e.pendingProps,s=e.memoizedState,r=s.element,KL(n,e),ty(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=ah(Error(Ue(423)),e),e=NP(n,e,i,t,r);break e}else if(i!==r){r=ah(Error(Ue(424)),e),e=NP(n,e,i,t,r);break e}else for(cs=vl(e.stateNode.containerInfo.firstChild),hs=e,Un=!0,ao=null,t=ZL(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(rh(),i===r){e=Ea(n,e,t);break e}xr(n,e,i,t)}e=e.child}return e;case 5:return JL(e),n===null&&gS(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,fS(i,r)?o=null:s!==null&&fS(i,s)&&(e.flags|=32),MN(n,e),xr(n,e,o,t),e.child;case 6:return n===null&&gS(e),null;case 13:return TN(n,e,t);case 4:return GE(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=sh(e,null,i,t):xr(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:io(i,r),RP(n,e,i,r,t);case 7:return xr(n,e,e.pendingProps,t),e.child;case 8:return xr(n,e,e.pendingProps.children,t),e.child;case 12:return xr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Pn(Qv,i._currentValue),i._currentValue=o,s!==null)if(ho(s.value,o)){if(s.children===r.children&&!Br.current){e=Ea(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=va(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),vS(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ue(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),vS(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}xr(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Xf(e,t),r=qs(r),i=i(r),e.flags|=1,xr(n,e,i,t),e.child;case 14:return i=e.type,r=io(i,e.pendingProps),r=io(i.type,r),IP(n,e,i,r,t);case 15:return wN(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:io(i,r),gv(n,e),e.tag=1,Vr(i)?(n=!0,$v(e)):n=!1,Xf(e,t),yN(e,i,r),_S(e,i,r,t),SS(null,e,i,!0,n,t);case 19:return AN(n,e,t);case 22:return SN(n,e,t)}throw Error(Ue(156,e.tag))};function HN(n,e){return mL(n,e)}function e5(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(n,e,t,i){return new e5(n,e,t,i)}function rT(n){return n=n.prototype,!(!n||!n.isReactComponent)}function t5(n){if(typeof n=="function")return rT(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ME)return 11;if(n===EE)return 14}return 2}function wl(n,e){var t=n.alternate;return t===null?(t=Gs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function _v(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")rT(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case _f:return Hu(t.children,r,s,e);case SE:o=8,r|=8;break;case Gw:return n=Gs(12,t,e,r|2),n.elementType=Gw,n.lanes=s,n;case Ww:return n=Gs(13,t,e,r),n.elementType=Ww,n.lanes=s,n;case jw:return n=Gs(19,t,e,r),n.elementType=jw,n.lanes=s,n;case J3:return Jy(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case $3:o=10;break e;case K3:o=9;break e;case ME:o=11;break e;case EE:o=14;break e;case Ja:o=16,i=null;break e}throw Error(Ue(130,n==null?n:typeof n,""))}return e=Gs(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Hu(n,e,t,i){return n=Gs(7,n,i,e),n.lanes=t,n}function Jy(n,e,t,i){return n=Gs(22,n,i,e),n.elementType=J3,n.lanes=t,n.stateNode={isHidden:!1},n}function w1(n,e,t){return n=Gs(6,n,null,e),n.lanes=t,n}function S1(n,e,t){return e=Gs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function n5(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=n1(0),this.expirationTimes=n1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=n1(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function sT(n,e,t,i,r,s,o,a,l){return n=new n5(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Gs(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},HE(s),n}function i5(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yf,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function GN(n){if(!n)return Ll;n=n._reactInternals;e:{if(mc(n)!==n||n.tag!==1)throw Error(Ue(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ue(171))}if(n.tag===1){var t=n.type;if(Vr(t))return GL(n,t,e)}return e}function WN(n,e,t,i,r,s,o,a,l){return n=sT(t,i,!0,n,r,s,o,a,l),n.context=GN(null),t=n.current,i=Tr(),r=xl(t),s=va(i,r),s.callback=e??null,yl(t,s,r),n.current.lanes=r,xm(n,r,i),Hr(n,i),n}function Qy(n,e,t,i){var r=e.current,s=Tr(),o=xl(r);return t=GN(t),e.context===null?e.context=t:e.pendingContext=t,e=va(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=yl(r,e,o),n!==null&&(fo(n,r,o,s),dv(n,r,o)),o}function uy(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function GP(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function oT(n,e){GP(n,e),(n=n.alternate)&&GP(n,e)}function r5(){return null}var jN=typeof reportError=="function"?reportError:function(n){console.error(n)};function aT(n){this._internalRoot=n}e_.prototype.render=aT.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ue(409));Qy(n,e,null,null)};e_.prototype.unmount=aT.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;sc(function(){Qy(null,n,null,null)}),e[Sa]=null}};function e_(n){this._internalRoot=n}e_.prototype.unstable_scheduleHydration=function(n){if(n){var e=SL();n={blockedOn:null,target:n,priority:e};for(var t=0;t<il.length&&e!==0&&e<il[t].priority;t++);il.splice(t,0,n),t===0&&EL(n)}};function lT(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function t_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function WP(){}function s5(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=uy(o);s.call(u)}}var o=WN(e,i,n,0,null,!1,!1,"",WP);return n._reactRootContainer=o,n[Sa]=o.current,bp(n.nodeType===8?n.parentNode:n),sc(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=uy(l);a.call(u)}}var l=sT(n,0,!1,null,null,!1,!1,"",WP);return n._reactRootContainer=l,n[Sa]=l.current,bp(n.nodeType===8?n.parentNode:n),sc(function(){Qy(e,l,t,i)}),l}function n_(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=uy(o);a.call(l)}}Qy(e,o,n,r)}else o=s5(t,e,n,r,i);return uy(o)}xL=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Cd(e.pendingLanes);t!==0&&(bE(e,t|1),Hr(e,ai()),!(nn&6)&&(lh=ai()+500,Wl()))}break;case 13:sc(function(){var i=Ma(n,1);if(i!==null){var r=Tr();fo(i,n,1,r)}}),oT(n,1)}};CE=function(n){if(n.tag===13){var e=Ma(n,134217728);if(e!==null){var t=Tr();fo(e,n,134217728,t)}oT(n,134217728)}};wL=function(n){if(n.tag===13){var e=xl(n),t=Ma(n,e);if(t!==null){var i=Tr();fo(t,n,e,i)}oT(n,e)}};SL=function(){return vn};ML=function(n,e){var t=vn;try{return vn=n,e()}finally{vn=t}};tS=function(n,e,t){switch(e){case"input":if(qw(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=Xy(i);if(!r)throw Error(Ue(90));eL(i),qw(i,r)}}}break;case"textarea":nL(n,t);break;case"select":e=t.value,e!=null&&Hf(n,!!t.multiple,e,!1)}};uL=tT;cL=sc;var o5={usingClientEntryPoint:!1,Events:[Sm,Mf,Xy,aL,lL,tT]},od={findFiberByHostInstance:Pu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a5={bundleType:od.bundleType,version:od.version,rendererPackageName:od.rendererPackageName,rendererConfig:od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=dL(n),n===null?null:n.stateNode},findFiberByHostInstance:od.findFiberByHostInstance||r5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jg.isDisabled&&Jg.supportsFiber)try{Hy=Jg.inject(a5),ko=Jg}catch{}}Es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o5;Es.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lT(e))throw Error(Ue(200));return i5(n,e,null,t)};Es.createRoot=function(n,e){if(!lT(n))throw Error(Ue(299));var t=!1,i="",r=jN;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=sT(n,1,!1,null,null,t,!1,i,r),n[Sa]=e.current,bp(n.nodeType===8?n.parentNode:n),new aT(e)};Es.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ue(188)):(n=Object.keys(n).join(","),Error(Ue(268,n)));return n=dL(e),n=n===null?null:n.stateNode,n};Es.flushSync=function(n){return sc(n)};Es.hydrate=function(n,e,t){if(!t_(e))throw Error(Ue(200));return n_(null,n,e,!0,t)};Es.hydrateRoot=function(n,e,t){if(!lT(n))throw Error(Ue(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=jN;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=WN(e,null,n,1,t??null,r,!1,s,o),n[Sa]=e.current,bp(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new e_(e)};Es.render=function(n,e,t){if(!t_(e))throw Error(Ue(200));return n_(null,n,e,!1,t)};Es.unmountComponentAtNode=function(n){if(!t_(n))throw Error(Ue(40));return n._reactRootContainer?(sc(function(){n_(null,null,n,!1,function(){n._reactRootContainer=null,n[Sa]=null})}),!0):!1};Es.unstable_batchedUpdates=tT;Es.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!t_(t))throw Error(Ue(200));if(n==null||n._reactInternals===void 0)throw Error(Ue(38));return n_(n,e,t,!1,i)};Es.version="18.3.1-next-f1338f8080-20240426";function XN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XN)}catch(n){console.error(n)}}XN(),X3.exports=Es;var l5=X3.exports,jP=l5;Vw.createRoot=jP.createRoot,Vw.hydrateRoot=jP.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Op(){return Op=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Op.apply(this,arguments)}var al;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(al||(al={}));const XP="popstate";function u5(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return DS("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:cy(r)}return f5(e,t,null,n)}function _i(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function YN(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c5(){return Math.random().toString(36).substr(2,8)}function YP(n,e){return{usr:n.state,key:n.key,idx:e}}function DS(n,e,t,i){return t===void 0&&(t=null),Op({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?bh(e):e,{state:t,key:e&&e.key||i||c5()})}function cy(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function bh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function f5(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=al.Pop,l=null,u=f();u==null&&(u=0,o.replaceState(Op({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){a=al.Pop;let x=f(),g=x==null?null:x-u;u=x,l&&l({action:a,location:_.location,delta:g})}function p(x,g){a=al.Push;let w=DS(_.location,x,g);t&&t(w,x),u=f()+1;let S=YP(w,u),E=_.createHref(w);try{o.pushState(S,"",E)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;r.location.assign(E)}s&&l&&l({action:a,location:_.location,delta:1})}function m(x,g){a=al.Replace;let w=DS(_.location,x,g);t&&t(w,x),u=f();let S=YP(w,u),E=_.createHref(w);o.replaceState(S,"",E),s&&l&&l({action:a,location:_.location,delta:0})}function v(x){let g=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof x=="string"?x:cy(x);return w=w.replace(/ $/,"%20"),_i(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let _={get action(){return a},get location(){return n(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(XP,d),l=x,()=>{r.removeEventListener(XP,d),l=null}},createHref(x){return e(r,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(x){return o.go(x)}};return _}var qP;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(qP||(qP={}));function h5(n,e,t){return t===void 0&&(t="/"),d5(n,e,t,!1)}function d5(n,e,t,i){let r=typeof e=="string"?bh(e):e,s=uT(r.pathname||"/",t);if(s==null)return null;let o=qN(n);p5(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=T5(s);a=M5(o[l],u,i)}return a}function qN(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(_i(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=Sl([i,l.relativePath]),f=t.concat(l);s.children&&s.children.length>0&&(_i(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),qN(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:w5(u,s.index),routesMeta:f})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of ZN(s.path))r(s,o,l)}),e}function ZN(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=ZN(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function p5(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:S5(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const m5=/^:[\w-]+$/,g5=3,v5=2,y5=1,_5=10,x5=-2,ZP=n=>n==="*";function w5(n,e){let t=n.split("/"),i=t.length;return t.some(ZP)&&(i+=x5),e&&(i+=v5),t.filter(r=>!ZP(r)).reduce((r,s)=>r+(m5.test(s)?g5:s===""?y5:_5),i)}function S5(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function M5(n,e,t){t===void 0&&(t=!1);let{routesMeta:i}=n,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],u=a===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",d=$P({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),p=l.route;if(!d&&u&&t&&!i[i.length-1].route.index&&(d=$P({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:Sl([s,d.pathname]),pathnameBase:P5(Sl([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=Sl([s,d.pathnameBase]))}return o}function $P(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=E5(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,f,d)=>{let{paramName:p,isOptional:m}=f;if(p==="*"){let _=a[d]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[d];return m&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function E5(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),YN(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function T5(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return YN(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function uT(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function A5(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?bh(n):n;return{pathname:t?t.startsWith("/")?t:b5(t,e):e,search:R5(i),hash:I5(r)}}function b5(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function M1(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function C5(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function $N(n,e){let t=C5(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function KN(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=bh(n):(r=Op({},n),_i(!r.pathname||!r.pathname.includes("?"),M1("?","pathname","search",r)),_i(!r.pathname||!r.pathname.includes("#"),M1("#","pathname","hash",r)),_i(!r.search||!r.search.includes("#"),M1("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=A5(r,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const Sl=n=>n.join("/").replace(/\/\/+/g,"/"),P5=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),R5=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,I5=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function L5(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const JN=["post","put","patch","delete"];new Set(JN);const N5=["get",...JN];new Set(N5);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Up(){return Up=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Up.apply(this,arguments)}const cT=K.createContext(null),D5=K.createContext(null),gc=K.createContext(null),i_=K.createContext(null),jl=K.createContext({outlet:null,matches:[],isDataRoute:!1}),QN=K.createContext(null);function k5(n,e){let{relative:t}=e===void 0?{}:e;Em()||_i(!1);let{basename:i,navigator:r}=K.useContext(gc),{hash:s,pathname:o,search:a}=nD(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:Sl([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Em(){return K.useContext(i_)!=null}function vc(){return Em()||_i(!1),K.useContext(i_).location}function eD(n){K.useContext(gc).static||K.useLayoutEffect(n)}function tD(){let{isDataRoute:n}=K.useContext(jl);return n?Z5():O5()}function O5(){Em()||_i(!1);let n=K.useContext(cT),{basename:e,future:t,navigator:i}=K.useContext(gc),{matches:r}=K.useContext(jl),{pathname:s}=vc(),o=JSON.stringify($N(r,t.v7_relativeSplatPath)),a=K.useRef(!1);return eD(()=>{a.current=!0}),K.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){i.go(u);return}let d=KN(u,JSON.parse(o),s,f.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Sl([e,d.pathname])),(f.replace?i.replace:i.push)(d,f.state,f)},[e,i,o,s,n])}function U5(){let{matches:n}=K.useContext(jl),e=n[n.length-1];return e?e.params:{}}function nD(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=K.useContext(gc),{matches:r}=K.useContext(jl),{pathname:s}=vc(),o=JSON.stringify($N(r,i.v7_relativeSplatPath));return K.useMemo(()=>KN(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function F5(n,e){return z5(n,e)}function z5(n,e,t,i){Em()||_i(!1);let{navigator:r,static:s}=K.useContext(gc),{matches:o}=K.useContext(jl),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let f=vc(),d;if(e){var p;let g=typeof e=="string"?bh(e):e;u==="/"||(p=g.pathname)!=null&&p.startsWith(u)||_i(!1),d=g}else d=f;let m=d.pathname||"/",v=m;if(u!=="/"){let g=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let _=!s&&t&&t.matches&&t.matches.length>0?t.matches:h5(n,{pathname:v}),x=W5(_&&_.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Sl([u,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:Sl([u,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,t,i);return e&&x?K.createElement(i_.Provider,{value:{location:Up({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:al.Pop}},x):x}function B5(){let n=q5(),e=L5(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:r},t):null,s)}const V5=K.createElement(B5,null);class H5 extends K.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?K.createElement(jl.Provider,{value:this.props.routeContext},K.createElement(QN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G5(n){let{routeContext:e,match:t,children:i}=n,r=K.useContext(cT);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(jl.Provider,{value:e},i)}function W5(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(r=t)==null?void 0:r.errors;if(a!=null){let f=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);f>=0||_i(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,u=-1;if(t&&i&&i.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:p,errors:m}=t,v=d.route.loader&&p[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,p)=>{let m,v=!1,_=null,x=null;t&&(m=a&&d.route.id?a[d.route.id]:void 0,_=d.route.errorElement||V5,l&&(u<0&&p===0?($5("route-fallback",!1),v=!0,x=null):u===p&&(v=!0,x=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,p+1)),w=()=>{let S;return m?S=_:v?S=x:d.route.Component?S=K.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=f,K.createElement(G5,{match:d,routeContext:{outlet:f,matches:g,isDataRoute:t!=null},children:S})};return t&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?K.createElement(H5,{location:t.location,revalidation:t.revalidation,component:_,error:m,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):w()},null)}var iD=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(iD||{}),fy=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(fy||{});function j5(n){let e=K.useContext(cT);return e||_i(!1),e}function X5(n){let e=K.useContext(D5);return e||_i(!1),e}function Y5(n){let e=K.useContext(jl);return e||_i(!1),e}function rD(n){let e=Y5(),t=e.matches[e.matches.length-1];return t.route.id||_i(!1),t.route.id}function q5(){var n;let e=K.useContext(QN),t=X5(fy.UseRouteError),i=rD(fy.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function Z5(){let{router:n}=j5(iD.UseNavigateStable),e=rD(fy.UseNavigateStable),t=K.useRef(!1);return eD(()=>{t.current=!0}),K.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,Up({fromRouteId:e},s)))},[n,e])}const KP={};function $5(n,e,t){!e&&!KP[n]&&(KP[n]=!0)}function K5(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Za(n){_i(!1)}function J5(n){let{basename:e="/",children:t=null,location:i,navigationType:r=al.Pop,navigator:s,static:o=!1,future:a}=n;Em()&&_i(!1);let l=e.replace(/^\/*/,"/"),u=K.useMemo(()=>({basename:l,navigator:s,static:o,future:Up({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=bh(i));let{pathname:f="/",search:d="",hash:p="",state:m=null,key:v="default"}=i,_=K.useMemo(()=>{let x=uT(f,l);return x==null?null:{location:{pathname:x,search:d,hash:p,state:m,key:v},navigationType:r}},[l,f,d,p,m,v,r]);return _==null?null:K.createElement(gc.Provider,{value:u},K.createElement(i_.Provider,{children:t,value:_}))}function Q5(n){let{children:e,location:t}=n;return F5(kS(e),t)}new Promise(()=>{});function kS(n,e){e===void 0&&(e=[]);let t=[];return K.Children.forEach(n,(i,r)=>{if(!K.isValidElement(i))return;let s=[...e,r];if(i.type===K.Fragment){t.push.apply(t,kS(i.props.children,s));return}i.type!==Za&&_i(!1),!i.props.index||!i.props.children||_i(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=kS(i.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function OS(){return OS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},OS.apply(this,arguments)}function eH(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function tH(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function nH(n,e){return n.button===0&&(!e||e==="_self")&&!tH(n)}const iH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rH="6";try{window.__reactRouterVersion=rH}catch{}const sH="startTransition",JP=KB[sH];function oH(n){let{basename:e,children:t,future:i,window:r}=n,s=K.useRef();s.current==null&&(s.current=u5({window:r,v5Compat:!0}));let o=s.current,[a,l]=K.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},f=K.useCallback(d=>{u&&JP?JP(()=>l(d)):l(d)},[l,u]);return K.useLayoutEffect(()=>o.listen(f),[o,f]),K.useEffect(()=>K5(i),[i]),K.createElement(J5,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:i})}const aH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ei=K.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:f,viewTransition:d}=e,p=eH(e,iH),{basename:m}=K.useContext(gc),v,_=!1;if(typeof u=="string"&&lH.test(u)&&(v=u,aH))try{let S=new URL(window.location.href),E=u.startsWith("//")?new URL(S.protocol+u):new URL(u),b=uT(E.pathname,m);E.origin===S.origin&&b!=null?u=b+E.search+E.hash:_=!0}catch{}let x=k5(u,{relative:r}),g=uH(u,{replace:o,state:a,target:l,preventScrollReset:f,relative:r,viewTransition:d});function w(S){i&&i(S),S.defaultPrevented||g(S)}return K.createElement("a",OS({},p,{href:v||x,onClick:_||s?i:w,ref:t,target:l}))});var QP;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(QP||(QP={}));var eR;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(eR||(eR={}));function uH(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=tD(),u=vc(),f=nD(n,{relative:o});return K.useCallback(d=>{if(nH(d,t)){d.preventDefault();let p=i!==void 0?i:cy(u)===cy(f);l(n,{replace:p,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,f,i,r,t,n,s,o,a])}const sD=K.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),r_=K.createContext({}),s_=K.createContext(null),o_=typeof document<"u",fT=o_?K.useLayoutEffect:K.useEffect,oD=K.createContext({strict:!1}),hT=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),cH="framerAppearId",aD="data-"+hT(cH);function fH(n,e,t,i){const{visualElement:r}=K.useContext(r_),s=K.useContext(oD),o=K.useContext(s_),a=K.useContext(sD).reducedMotion,l=K.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;K.useInsertionEffect(()=>{u&&u.update(t,o)});const f=K.useRef(!!(t[aD]&&!window.HandoffComplete));return fT(()=>{u&&(u.render(),f.current&&u.animationState&&u.animationState.animateChanges())}),K.useEffect(()=>{u&&(u.updateFeatures(),!f.current&&u.animationState&&u.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),u}function Rf(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function hH(n,e,t){return K.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Rf(t)&&(t.current=i))},[e])}function Fp(n){return typeof n=="string"||Array.isArray(n)}function a_(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const dT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pT=["initial",...dT];function l_(n){return a_(n.animate)||pT.some(e=>Fp(n[e]))}function lD(n){return!!(l_(n)||n.variants)}function dH(n,e){if(l_(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Fp(t)?t:void 0,animate:Fp(i)?i:void 0}}return n.inherit!==!1?e:{}}function pH(n){const{initial:e,animate:t}=dH(n,K.useContext(r_));return K.useMemo(()=>({initial:e,animate:t}),[tR(e),tR(t)])}function tR(n){return Array.isArray(n)?n.join(" "):n}const nR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zp={};for(const n in nR)zp[n]={isEnabled:e=>nR[n].some(t=>!!e[t])};function mH(n){for(const e in n)zp[e]={...zp[e],...n[e]}}const mT=K.createContext({}),uD=K.createContext({}),gH=Symbol.for("motionComponentSymbol");function vH({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&mH(n);function s(a,l){let u;const f={...K.useContext(sD),...a,layoutId:yH(a)},{isStatic:d}=f,p=pH(a),m=i(a,d);if(!d&&o_){p.visualElement=fH(r,m,f,e);const v=K.useContext(uD),_=K.useContext(oD).strict;p.visualElement&&(u=p.visualElement.loadFeatures(f,_,n,v))}return K.createElement(r_.Provider,{value:p},u&&p.visualElement?K.createElement(u,{visualElement:p.visualElement,...f}):null,t(r,a,hH(m,p.visualElement,l),m,d,p.visualElement))}const o=K.forwardRef(s);return o[gH]=r,o}function yH({layoutId:n}){const e=K.useContext(mT).id;return e&&n!==void 0?e+"-"+n:n}function _H(n){function e(i,r={}){return vH(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const xH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gT(n){return typeof n!="string"||n.includes("-")?!1:!!(xH.indexOf(n)>-1||/[A-Z]/.test(n))}const hy={};function wH(n){Object.assign(hy,n)}const Tm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yc=new Set(Tm);function cD(n,{layout:e,layoutId:t}){return yc.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!hy[n]||n==="opacity")}const qr=n=>!!(n&&n.getVelocity),SH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MH=Tm.length;function EH(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<MH;o++){const a=Tm[o];if(n[a]!==void 0){const l=SH[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const fD=n=>e=>typeof e=="string"&&e.startsWith(n),hD=fD("--"),US=fD("var(--"),TH=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,AH=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Nl=(n,e,t)=>Math.min(Math.max(t,n),e),_c={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Zd={..._c,transform:n=>Nl(0,1,n)},Qg={..._c,default:1},$d=n=>Math.round(n*1e5)/1e5,u_=/(-)?([\d]*\.?[\d])+/g,dD=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,bH=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Am(n){return typeof n=="string"}const bm=n=>({test:e=>Am(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),$a=bm("deg"),Uo=bm("%"),It=bm("px"),CH=bm("vh"),PH=bm("vw"),iR={...Uo,parse:n=>Uo.parse(n)/100,transform:n=>Uo.transform(n*100)},rR={..._c,transform:Math.round},pD={borderWidth:It,borderTopWidth:It,borderRightWidth:It,borderBottomWidth:It,borderLeftWidth:It,borderRadius:It,radius:It,borderTopLeftRadius:It,borderTopRightRadius:It,borderBottomRightRadius:It,borderBottomLeftRadius:It,width:It,maxWidth:It,height:It,maxHeight:It,size:It,top:It,right:It,bottom:It,left:It,padding:It,paddingTop:It,paddingRight:It,paddingBottom:It,paddingLeft:It,margin:It,marginTop:It,marginRight:It,marginBottom:It,marginLeft:It,rotate:$a,rotateX:$a,rotateY:$a,rotateZ:$a,scale:Qg,scaleX:Qg,scaleY:Qg,scaleZ:Qg,skew:$a,skewX:$a,skewY:$a,distance:It,translateX:It,translateY:It,translateZ:It,x:It,y:It,z:It,perspective:It,transformPerspective:It,opacity:Zd,originX:iR,originY:iR,originZ:It,zIndex:rR,fillOpacity:Zd,strokeOpacity:Zd,numOctaves:rR};function vT(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,u=!1,f=!0;for(const d in e){const p=e[d];if(hD(d)){s[d]=p;continue}const m=pD[d],v=AH(p,m);if(yc.has(d)){if(l=!0,o[d]=v,!f)continue;p!==(m.default||0)&&(f=!1)}else d.startsWith("origin")?(u=!0,a[d]=v):r[d]=v}if(e.transform||(l||i?r.transform=EH(n.transform,t,f,i):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${p} ${m}`}}const yT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mD(n,e,t){for(const i in e)!qr(e[i])&&!cD(i,t)&&(n[i]=e[i])}function RH({transformTemplate:n},e,t){return K.useMemo(()=>{const i=yT();return vT(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function IH(n,e,t){const i=n.style||{},r={};return mD(r,i,n),Object.assign(r,RH(n,e,t)),n.transformValues?n.transformValues(r):r}function LH(n,e,t){const i={},r=IH(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const NH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dy(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||NH.has(n)}let gD=n=>!dy(n);function DH(n){n&&(gD=e=>e.startsWith("on")?!dy(e):n(e))}try{DH(require("@emotion/is-prop-valid").default)}catch{}function kH(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(gD(r)||t===!0&&dy(r)||!e&&!dy(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function sR(n,e,t){return typeof n=="string"?n:It.transform(e+t*n)}function OH(n,e,t){const i=sR(e,n.x,n.width),r=sR(t,n.y,n.height);return`${i} ${r}`}const UH={offset:"stroke-dashoffset",array:"stroke-dasharray"},FH={offset:"strokeDashoffset",array:"strokeDasharray"};function zH(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?UH:FH;n[s.offset]=It.transform(-i);const o=It.transform(e),a=It.transform(t);n[s.array]=`${o} ${a}`}function _T(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},f,d,p){if(vT(n,u,f,p),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:v,dimensions:_}=n;m.transform&&(_&&(v.transform=m.transform),delete m.transform),_&&(r!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=OH(_,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),i!==void 0&&(m.scale=i),o!==void 0&&zH(m,o,a,l,!1)}const vD=()=>({...yT(),attrs:{}}),xT=n=>typeof n=="string"&&n.toLowerCase()==="svg";function BH(n,e,t,i){const r=K.useMemo(()=>{const s=vD();return _T(s,e,{enableHardwareAcceleration:!1},xT(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};mD(s,n.style,n),r.style={...s,...r.style}}return r}function VH(n=!1){return(t,i,r,{latestValues:s},o)=>{const l=(gT(t)?BH:LH)(i,s,o,t),f={...kH(i,typeof t=="string",n),...l,ref:r},{children:d}=i,p=K.useMemo(()=>qr(d)?d.get():d,[d]);return K.createElement(t,{...f,children:p})}}function yD(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const _D=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xD(n,e,t,i){yD(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(_D.has(r)?r:hT(r),e.attrs[r])}function wT(n,e){const{style:t}=n,i={};for(const r in t)(qr(t[r])||e.style&&qr(e.style[r])||cD(r,n))&&(i[r]=t[r]);return i}function wD(n,e){const t=wT(n,e);for(const i in n)if(qr(n[i])||qr(e[i])){const r=Tm.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;t[r]=n[i]}return t}function ST(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}function SD(n){const e=K.useRef(null);return e.current===null&&(e.current=n()),e.current}const py=n=>Array.isArray(n),HH=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),GH=n=>py(n)?n[n.length-1]||0:n;function xv(n){const e=qr(n)?n.get():n;return HH(e)?e.toValue():e}function WH({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:jH(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const MD=n=>(e,t)=>{const i=K.useContext(r_),r=K.useContext(s_),s=()=>WH(n,e,i,r);return t?s():SD(s)};function jH(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=xv(s[p]);let{initial:o,animate:a}=n;const l=l_(n),u=lD(n);e&&u&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=t?t.initial===!1:!1;f=f||o===!1;const d=f?a:o;return d&&typeof d!="boolean"&&!a_(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const v=ST(n,m);if(!v)return;const{transitionEnd:_,transition:x,...g}=v;for(const w in g){let S=g[w];if(Array.isArray(S)){const E=f?S.length-1:0;S=S[E]}S!==null&&(r[w]=S)}for(const w in _)r[w]=_[w]}),r}const ei=n=>n;class oR{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function XH(n){let e=new oR,t=new oR,i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,f=!1)=>{const d=f&&r,p=d?e:t;return u&&o.add(l),p.add(l)&&d&&r&&(i=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.clear(),i=e.order.length,i)for(let u=0;u<i;u++){const f=e.order[u];f(l),o.has(f)&&(a.schedule(f),n())}r=!1,s&&(s=!1,a.process(l))}};return a}const e0=["prepare","read","update","preRender","render","postRender"],YH=40;function qH(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=e0.reduce((d,p)=>(d[p]=XH(()=>t=!0),d),{}),o=d=>s[d].process(r),a=()=>{const d=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(d-r.timestamp,YH),1),r.timestamp=d,r.isProcessing=!0,e0.forEach(o),r.isProcessing=!1,t&&e&&(i=!1,n(a))},l=()=>{t=!0,i=!0,r.isProcessing||n(a)};return{schedule:e0.reduce((d,p)=>{const m=s[p];return d[p]=(v,_=!1,x=!1)=>(t||l(),m.schedule(v,_,x)),d},{}),cancel:d=>e0.forEach(p=>s[p].cancel(d)),state:r,steps:s}}const{schedule:In,cancel:Ta,state:ir,steps:E1}=qH(typeof requestAnimationFrame<"u"?requestAnimationFrame:ei,!0),ZH={useVisualState:MD({scrapeMotionValuesFromProps:wD,createRenderState:vD,onMount:(n,e,{renderState:t,latestValues:i})=>{In.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),In.render(()=>{_T(t,i,{enableHardwareAcceleration:!1},xT(e.tagName),n.transformTemplate),xD(e,t)})}})},$H={useVisualState:MD({scrapeMotionValuesFromProps:wT,createRenderState:yT})};function KH(n,{forwardMotionProps:e=!1},t,i){return{...gT(n)?ZH:$H,preloadedFeatures:t,useRender:VH(e),createVisualElement:i,Component:n}}function ma(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const ED=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function c_(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const JH=n=>e=>ED(e)&&n(e,c_(e));function ya(n,e,t,i){return ma(n,e,JH(t),i)}const QH=(n,e)=>t=>e(n(t)),Ml=(...n)=>n.reduce(QH);function TD(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const aR=TD("dragHorizontal"),lR=TD("dragVertical");function AD(n){let e=!1;if(n==="y")e=lR();else if(n==="x")e=aR();else{const t=aR(),i=lR();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function bD(){const n=AD(!0);return n?(n(),!1):!0}class Xl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function uR(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.pointerType==="touch"||bD())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[i]&&In.update(()=>a[i](s,o))};return ya(n.current,t,r,{passive:!n.getProps()[i]})}class e8 extends Xl{mount(){this.unmount=Ml(uR(this.node,!0),uR(this.node,!1))}unmount(){}}class t8 extends Xl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ml(ma(this.node.current,"focus",()=>this.onFocus()),ma(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const CD=(n,e)=>e?n===e?!0:CD(n,e.parentElement):!1;function T1(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,c_(t))}class n8 extends Xl{constructor(){super(...arguments),this.removeStartListeners=ei,this.removeEndListeners=ei,this.removeAccessibleListeners=ei,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),s=ya(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:f,globalTapTarget:d}=this.node.getProps();In.update(()=>{!d&&!CD(this.node.current,a.target)?f&&f(a,l):u&&u(a,l)})},{passive:!(i.onTap||i.onPointerUp)}),o=ya(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Ml(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||T1("up",(l,u)=>{const{onTap:f}=this.node.getProps();f&&In.update(()=>f(l,u))})};this.removeEndListeners(),this.removeEndListeners=ma(this.node.current,"keyup",o),T1("down",(a,l)=>{this.startPress(a,l)})},t=ma(this.node.current,"keydown",e),i=()=>{this.isPressing&&T1("cancel",(s,o)=>this.cancelPress(s,o))},r=ma(this.node.current,"blur",i);this.removeAccessibleListeners=Ml(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&In.update(()=>i(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!bD()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&In.update(()=>i(e,t))}mount(){const e=this.node.getProps(),t=ya(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=ma(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ml(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const FS=new WeakMap,A1=new WeakMap,i8=n=>{const e=FS.get(n.target);e&&e(n)},r8=n=>{n.forEach(i8)};function s8({root:n,...e}){const t=n||document;A1.has(t)||A1.set(t,{});const i=A1.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(r8,{root:n,...e})),i[r]}function o8(n,e,t){const i=s8(e);return FS.set(n,t),i.observe(n),()=>{FS.delete(n),i.unobserve(n)}}const a8={some:0,all:1};class l8 extends Xl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:a8[r]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),p=u?f:d;p&&p(l)};return o8(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(u8(e,t))&&this.startObserver()}unmount(){}}function u8({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const c8={inView:{Feature:l8},tap:{Feature:n8},focus:{Feature:t8},hover:{Feature:e8}};function PD(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function f8(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function h8(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function f_(n,e,t){const i=n.getProps();return ST(i,e,t!==void 0?t:i.custom,f8(n),h8(n))}let d8=ei,h_=ei;const El=n=>n*1e3,_a=n=>n/1e3,p8={current:!1},RD=n=>Array.isArray(n)&&typeof n[0]=="number";function ID(n){return!!(!n||typeof n=="string"&&LD[n]||RD(n)||Array.isArray(n)&&n.every(ID))}const Rd=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,LD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rd([0,.65,.55,1]),circOut:Rd([.55,0,1,.45]),backIn:Rd([.31,.01,.66,-.59]),backOut:Rd([.33,1.53,.69,.99])};function ND(n){if(n)return RD(n)?Rd(n):Array.isArray(n)?n.map(ND):LD[n]}function m8(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:t};l&&(u.offset=l);const f=ND(a);return Array.isArray(f)&&(u.easing=f),n.animate(u,{delay:i,duration:r,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function g8(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const DD=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,v8=1e-7,y8=12;function _8(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=DD(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>v8&&++a<y8);return o}function Cm(n,e,t,i){if(n===e&&t===i)return ei;const r=s=>_8(s,0,1,n,t);return s=>s===0||s===1?s:DD(r(s),e,i)}const x8=Cm(.42,0,1,1),w8=Cm(0,0,.58,1),kD=Cm(.42,0,.58,1),S8=n=>Array.isArray(n)&&typeof n[0]!="number",OD=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,UD=n=>e=>1-n(1-e),MT=n=>1-Math.sin(Math.acos(n)),FD=UD(MT),M8=OD(MT),zD=Cm(.33,1.53,.69,.99),ET=UD(zD),E8=OD(ET),T8=n=>(n*=2)<1?.5*ET(n):.5*(2-Math.pow(2,-10*(n-1))),A8={linear:ei,easeIn:x8,easeInOut:kD,easeOut:w8,circIn:MT,circInOut:M8,circOut:FD,backIn:ET,backInOut:E8,backOut:zD,anticipate:T8},cR=n=>{if(Array.isArray(n)){h_(n.length===4);const[e,t,i,r]=n;return Cm(e,t,i,r)}else if(typeof n=="string")return A8[n];return n},TT=(n,e)=>t=>!!(Am(t)&&bH.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),BD=(n,e,t)=>i=>{if(!Am(i))return i;const[r,s,o,a]=i.match(u_);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},b8=n=>Nl(0,255,n),b1={..._c,transform:n=>Math.round(b8(n))},Lu={test:TT("rgb","red"),parse:BD("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+b1.transform(n)+", "+b1.transform(e)+", "+b1.transform(t)+", "+$d(Zd.transform(i))+")"};function C8(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const zS={test:TT("#"),parse:C8,transform:Lu.transform},If={test:TT("hsl","hue"),parse:BD("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Uo.transform($d(e))+", "+Uo.transform($d(t))+", "+$d(Zd.transform(i))+")"},yr={test:n=>Lu.test(n)||zS.test(n)||If.test(n),parse:n=>Lu.test(n)?Lu.parse(n):If.test(n)?If.parse(n):zS.parse(n),transform:n=>Am(n)?n:n.hasOwnProperty("red")?Lu.transform(n):If.transform(n)},jn=(n,e,t)=>-t*n+t*e+n;function C1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function P8({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=C1(l,a,n+1/3),s=C1(l,a,n),o=C1(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const P1=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},R8=[zS,Lu,If],I8=n=>R8.find(e=>e.test(n));function fR(n){const e=I8(n);let t=e.parse(n);return e===If&&(t=P8(t)),t}const VD=(n,e)=>{const t=fR(n),i=fR(e),r={...t};return s=>(r.red=P1(t.red,i.red,s),r.green=P1(t.green,i.green,s),r.blue=P1(t.blue,i.blue,s),r.alpha=jn(t.alpha,i.alpha,s),Lu.transform(r))};function L8(n){var e,t;return isNaN(n)&&Am(n)&&(((e=n.match(u_))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(dD))===null||t===void 0?void 0:t.length)||0)>0}const HD={regex:TH,countKey:"Vars",token:"${v}",parse:ei},GD={regex:dD,countKey:"Colors",token:"${c}",parse:yr.parse},WD={regex:u_,countKey:"Numbers",token:"${n}",parse:_c.parse};function R1(n,{regex:e,countKey:t,token:i,parse:r}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,i),n.values.push(...s.map(r)))}function my(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&R1(t,HD),R1(t,GD),R1(t,WD),t}function jD(n){return my(n).values}function XD(n){const{values:e,numColors:t,numVars:i,tokenised:r}=my(n),s=e.length;return o=>{let a=r;for(let l=0;l<s;l++)l<i?a=a.replace(HD.token,o[l]):l<i+t?a=a.replace(GD.token,yr.transform(o[l])):a=a.replace(WD.token,$d(o[l]));return a}}const N8=n=>typeof n=="number"?0:n;function D8(n){const e=jD(n);return XD(n)(e.map(N8))}const Dl={test:L8,parse:jD,createTransformer:XD,getAnimatableNone:D8},YD=(n,e)=>t=>`${t>0?e:n}`;function qD(n,e){return typeof n=="number"?t=>jn(n,e,t):yr.test(n)?VD(n,e):n.startsWith("var(")?YD(n,e):$D(n,e)}const ZD=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>qD(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},k8=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=qD(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},$D=(n,e)=>{const t=Dl.createTransformer(e),i=my(n),r=my(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?Ml(ZD(i.values,r.values),t):YD(n,e)},Bp=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},hR=(n,e)=>t=>jn(n,e,t);function O8(n){return typeof n=="number"?hR:typeof n=="string"?yr.test(n)?VD:$D:Array.isArray(n)?ZD:typeof n=="object"?k8:hR}function U8(n,e,t){const i=[],r=t||O8(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||ei:e;a=Ml(l,a)}i.push(a)}return i}function KD(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(h_(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=U8(e,i,r),a=o.length,l=u=>{let f=0;if(a>1)for(;f<n.length-2&&!(u<n[f+1]);f++);const d=Bp(n[f],n[f+1],u);return o[f](d)};return t?u=>l(Nl(n[0],n[s-1],u)):l}function F8(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Bp(0,e,i);n.push(jn(t,1,r))}}function z8(n){const e=[0];return F8(e,n.length-1),e}function B8(n,e){return n.map(t=>t*e)}function V8(n,e){return n.map(()=>e||kD).splice(0,n.length-1)}function gy({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=S8(i)?i.map(cR):cR(i),s={done:!1,value:e[0]},o=B8(t&&t.length===e.length?t:z8(e),n),a=KD(o,e,{ease:Array.isArray(r)?r:V8(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function JD(n,e){return e?n*(1e3/e):0}const H8=5;function QD(n,e,t){const i=Math.max(e-H8,0);return JD(t-n(i),e-i)}const I1=.001,G8=.01,dR=10,W8=.05,j8=1;function X8({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;d8(n<=El(dR));let o=1-e;o=Nl(W8,j8,o),n=Nl(G8,dR,_a(n)),o<1?(r=u=>{const f=u*o,d=f*n,p=f-t,m=BS(u,o),v=Math.exp(-d);return I1-p/m*v},s=u=>{const d=u*o*n,p=d*t+t,m=Math.pow(o,2)*Math.pow(u,2)*n,v=Math.exp(-d),_=BS(Math.pow(u,2),o);return(-r(u)+I1>0?-1:1)*((p-m)*v)/_}):(r=u=>{const f=Math.exp(-u*n),d=(u-t)*n+1;return-I1+f*d},s=u=>{const f=Math.exp(-u*n),d=(t-u)*(n*n);return f*d});const a=5/n,l=q8(r,s,a);if(n=El(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:n}}}const Y8=12;function q8(n,e,t){let i=t;for(let r=1;r<Y8;r++)i=i-n(i)/e(i);return i}function BS(n,e){return n*Math.sqrt(1-e*e)}const Z8=["duration","bounce"],$8=["stiffness","damping","mass"];function pR(n,e){return e.some(t=>n[t]!==void 0)}function K8(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!pR(n,$8)&&pR(n,Z8)){const t=X8(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function ek({keyframes:n,restDelta:e,restSpeed:t,...i}){const r=n[0],s=n[n.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:u,duration:f,velocity:d,isResolvedFromDuration:p}=K8({...i,velocity:-_a(i.velocity||0)}),m=d||0,v=l/(2*Math.sqrt(a*u)),_=s-r,x=_a(Math.sqrt(a/u)),g=Math.abs(_)<5;t||(t=g?.01:2),e||(e=g?.005:.5);let w;if(v<1){const S=BS(x,v);w=E=>{const b=Math.exp(-v*x*E);return s-b*((m+v*x*_)/S*Math.sin(S*E)+_*Math.cos(S*E))}}else if(v===1)w=S=>s-Math.exp(-x*S)*(_+(m+x*_)*S);else{const S=x*Math.sqrt(v*v-1);w=E=>{const b=Math.exp(-v*x*E),P=Math.min(S*E,300);return s-b*((m+v*x*_)*Math.sinh(P)+S*_*Math.cosh(P))/S}}return{calculatedDuration:p&&f||null,next:S=>{const E=w(S);if(p)o.done=S>=f;else{let b=m;S!==0&&(v<1?b=QD(w,S,E):b=0);const P=Math.abs(b)<=t,R=Math.abs(s-E)<=e;o.done=P&&R}return o.value=o.done?s:E,o}}}function mR({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:f}){const d=n[0],p={done:!1,value:d},m=I=>a!==void 0&&I<a||l!==void 0&&I>l,v=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let _=t*e;const x=d+_,g=o===void 0?x:o(x);g!==x&&(_=g-d);const w=I=>-_*Math.exp(-I/i),S=I=>g+w(I),E=I=>{const C=w(I),L=S(I);p.done=Math.abs(C)<=u,p.value=p.done?g:L};let b,P;const R=I=>{m(p.value)&&(b=I,P=ek({keyframes:[p.value,v(p.value)],velocity:QD(S,I,p.value),damping:r,stiffness:s,restDelta:u,restSpeed:f}))};return R(0),{calculatedDuration:null,next:I=>{let C=!1;return!P&&b===void 0&&(C=!0,E(I),R(I)),b!==void 0&&I>b?P.next(I-b):(!C&&E(I),p)}}}const J8=n=>{const e=({timestamp:t})=>n(t);return{start:()=>In.update(e,!0),stop:()=>Ta(e),now:()=>ir.isProcessing?ir.timestamp:performance.now()}},gR=2e4;function vR(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<gR;)e+=t,i=n.next(e);return e>=gR?1/0:e}const Q8={decay:mR,inertia:mR,tween:gy,keyframes:gy,spring:ek};function vy({autoplay:n=!0,delay:e=0,driver:t=J8,keyframes:i,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:f,onUpdate:d,...p}){let m=1,v=!1,_,x;const g=()=>{x=new Promise(G=>{_=G})};g();let w;const S=Q8[r]||gy;let E;S!==gy&&typeof i[0]!="number"&&(E=KD([0,100],i,{clamp:!1}),i=[0,100]);const b=S({...p,keyframes:i});let P;a==="mirror"&&(P=S({...p,keyframes:[...i].reverse(),velocity:-(p.velocity||0)}));let R="idle",I=null,C=null,L=null;b.calculatedDuration===null&&s&&(b.calculatedDuration=vR(b));const{calculatedDuration:B}=b;let W=1/0,ie=1/0;B!==null&&(W=B+o,ie=W*(s+1)-o);let z=0;const ne=G=>{if(C===null)return;m>0&&(C=Math.min(C,G)),m<0&&(C=Math.min(G-ie/m,C)),I!==null?z=I:z=Math.round(G-C)*m;const te=z-e*(m>=0?1:-1),me=m>=0?te<0:te>ie;z=Math.max(te,0),R==="finished"&&I===null&&(z=ie);let xe=z,Ce=b;if(s){const _t=Math.min(z,ie)/W;let Nt=Math.floor(_t),Be=_t%1;!Be&&_t>=1&&(Be=1),Be===1&&Nt--,Nt=Math.min(Nt,s+1),!!(Nt%2)&&(a==="reverse"?(Be=1-Be,o&&(Be-=o/W)):a==="mirror"&&(Ce=P)),xe=Nl(0,1,Be)*W}const Ee=me?{done:!1,value:i[0]}:Ce.next(xe);E&&(Ee.value=E(Ee.value));let{done:De}=Ee;!me&&B!==null&&(De=m>=0?z>=ie:z<=0);const We=I===null&&(R==="finished"||R==="running"&&De);return d&&d(Ee.value),We&&X(),Ee},ee=()=>{w&&w.stop(),w=void 0},re=()=>{R="idle",ee(),_(),g(),C=L=null},X=()=>{R="finished",f&&f(),ee(),_()},Q=()=>{if(v)return;w||(w=t(ne));const G=w.now();l&&l(),I!==null?C=G-I:(!C||R==="finished")&&(C=G),R==="finished"&&g(),L=C,I=null,R="running",w.start()};n&&Q();const k={then(G,te){return x.then(G,te)},get time(){return _a(z)},set time(G){G=El(G),z=G,I!==null||!w||m===0?I=G:C=w.now()-G/m},get duration(){const G=b.calculatedDuration===null?vR(b):b.calculatedDuration;return _a(G)},get speed(){return m},set speed(G){G===m||!w||(m=G,k.time=_a(z))},get state(){return R},play:Q,pause:()=>{R="paused",I=z},stop:()=>{v=!0,R!=="idle"&&(R="idle",u&&u(),re())},cancel:()=>{L!==null&&ne(L),re()},complete:()=>{R="finished"},sample:G=>(C=0,ne(G))};return k}function e6(n){let e;return()=>(e===void 0&&(e=n()),e)}const t6=e6(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),n6=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),t0=10,i6=2e4,r6=(n,e)=>e.type==="spring"||n==="backgroundColor"||!ID(e.ease);function s6(n,e,{onUpdate:t,onComplete:i,...r}){if(!(t6()&&n6.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const f=()=>{l=new Promise(S=>{a=S})};f();let{keyframes:d,duration:p=300,ease:m,times:v}=r;if(r6(e,r)){const S=vy({...r,repeat:0,delay:0});let E={done:!1,value:d[0]};const b=[];let P=0;for(;!E.done&&P<i6;)E=S.sample(P),b.push(E.value),P+=t0;v=void 0,d=b,p=P-t0,m="linear"}const _=m8(n.owner.current,e,d,{...r,duration:p,ease:m,times:v}),x=()=>{u=!1,_.cancel()},g=()=>{u=!0,In.update(x),a(),f()};return _.onfinish=()=>{u||(n.set(g8(d,r)),i&&i(),g())},{then(S,E){return l.then(S,E)},attachTimeline(S){return _.timeline=S,_.onfinish=null,ei},get time(){return _a(_.currentTime||0)},set time(S){_.currentTime=El(S)},get speed(){return _.playbackRate},set speed(S){_.playbackRate=S},get duration(){return _a(p)},play:()=>{o||(_.play(),Ta(x))},pause:()=>_.pause(),stop:()=>{if(o=!0,_.playState==="idle")return;const{currentTime:S}=_;if(S){const E=vy({...r,autoplay:!1});n.setWithVelocity(E.sample(S-t0).value,E.sample(S).value,t0)}g()},complete:()=>{u||_.finish()},cancel:g}}function o6({keyframes:n,delay:e,onUpdate:t,onComplete:i}){const r=()=>(t&&t(n[n.length-1]),i&&i(),{time:0,speed:1,duration:0,play:ei,pause:ei,stop:ei,then:s=>(s(),Promise.resolve()),cancel:ei,complete:ei});return e?vy({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const a6={type:"spring",stiffness:500,damping:25,restSpeed:10},l6=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),u6={type:"keyframes",duration:.8},c6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},f6=(n,{keyframes:e})=>e.length>2?u6:yc.has(n)?n.startsWith("scale")?l6(e[1]):a6:c6,VS=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Dl.test(e)||e==="0")&&!e.startsWith("url(")),h6=new Set(["brightness","contrast","saturate","opacity"]);function d6(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(u_)||[];if(!i)return n;const r=t.replace(i,"");let s=h6.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const p6=/([a-z-]*)\(.*?\)/g,HS={...Dl,getAnimatableNone:n=>{const e=n.match(p6);return e?e.map(d6).join(" "):n}},m6={...pD,color:yr,backgroundColor:yr,outlineColor:yr,fill:yr,stroke:yr,borderColor:yr,borderTopColor:yr,borderRightColor:yr,borderBottomColor:yr,borderLeftColor:yr,filter:HS,WebkitFilter:HS},AT=n=>m6[n];function tk(n,e){let t=AT(n);return t!==HS&&(t=Dl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const nk=n=>/^0[^.\s]+$/.test(n);function g6(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||nk(n)}function v6(n,e,t,i){const r=VS(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=i.from!==void 0?i.from:n.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),g6(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(r&&l.length&&a)for(let u=0;u<l.length;u++){const f=l[u];s[f]=tk(e,a)}return s}function y6({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...f}){return!!Object.keys(f).length}function bT(n,e){return n[e]||n.default||n}const _6={skipAnimations:!1},CT=(n,e,t,i={})=>r=>{const s=bT(i,n)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-El(o);const l=v6(e,n,t,s),u=l[0],f=l[l.length-1],d=VS(n,u),p=VS(n,f);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(y6(s)||(m={...m,...f6(n,m)}),m.duration&&(m.duration=El(m.duration)),m.repeatDelay&&(m.repeatDelay=El(m.repeatDelay)),!d||!p||p8.current||s.type===!1||_6.skipAnimations)return o6(m);if(!i.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=s6(e,n,m);if(v)return v}return vy(m)};function yy(n){return!!(qr(n)&&n.add)}const ik=n=>/^\-?\d*\.?\d+$/.test(n);function PT(n,e){n.indexOf(e)===-1&&n.push(e)}function RT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class IT{constructor(){this.subscriptions=[]}add(e){return PT(this.subscriptions,e),()=>RT(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const x6=n=>!isNaN(parseFloat(n));class w6{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=ir;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,In.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>In.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=x6(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new IT);const i=this.events[e].add(t);return e==="change"?()=>{i(),In.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?JD(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uh(n,e){return new w6(n,e)}const rk=n=>e=>e.test(n),S6={test:n=>n==="auto",parse:n=>n},sk=[_c,It,Uo,$a,PH,CH,S6],ad=n=>sk.find(rk(n)),M6=[...sk,yr,Dl],E6=n=>M6.find(rk(n));function T6(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,uh(t))}function A6(n,e){const t=f_(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const o in s){const a=GH(s[o]);T6(n,o,a)}}function b6(n,e,t){var i,r;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let f=null;Array.isArray(u)&&(f=u[0]),f===null&&(f=(r=(i=t[l])!==null&&i!==void 0?i:n.readValue(l))!==null&&r!==void 0?r:e[l]),f!=null&&(typeof f=="string"&&(ik(f)||nk(f))?f=parseFloat(f):!E6(f)&&Dl.test(u)&&(f=tk(l,u)),n.addValue(l,uh(f,{owner:n})),t[l]===void 0&&(t[l]=f),f!==null&&n.setBaseTarget(l,f))}}function C6(n,e){return e?(e[n]||e.default||e).from:void 0}function P6(n,e,t){const i={};for(const r in n){const s=C6(r,e);if(s!==void 0)i[r]=s;else{const o=t.getValue(r);o&&(i[r]=o.get())}}return i}function R6({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function I6(n,e){const t=n.get();if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}else return t!==e}function ok(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");i&&(s=i);const u=[],f=r&&n.animationState&&n.animationState.getState()[r];for(const d in a){const p=n.getValue(d),m=a[d];if(!p||m===void 0||f&&R6(f,d))continue;const v={delay:t,elapsed:0,...bT(s||{},d)};if(window.HandoffAppearAnimations){const g=n.getProps()[aD];if(g){const w=window.HandoffAppearAnimations(g,d,p,In);w!==null&&(v.elapsed=w,v.isHandoff=!0)}}let _=!v.isHandoff&&!I6(p,m);if(v.type==="spring"&&(p.getVelocity()||v.velocity)&&(_=!1),p.animation&&(_=!1),_)continue;p.start(CT(d,p,m,n.shouldReduceMotion&&yc.has(d)?{type:!1}:v));const x=p.animation;yy(l)&&(l.add(d),x.then(()=>l.remove(d))),u.push(x)}return o&&Promise.all(u).then(()=>{o&&A6(n,o)}),u}function GS(n,e,t={}){const i=f_(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>Promise.all(ok(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:d}=r;return L6(n,e,u+l,f,d,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(t.delay)])}function L6(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(u=0)=>u*i:(u=0)=>a-u*i;return Array.from(n.variantChildren).sort(N6).forEach((u,f)=>{u.notify("AnimationStart",e),o.push(GS(u,e,{...s,delay:t+l(f)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function N6(n,e){return n.sortNodePosition(e)}function D6(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>GS(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=GS(n,e,t);else{const r=typeof e=="function"?f_(n,e,t.custom):e;i=Promise.all(ok(n,r,t))}return i.then(()=>n.notify("AnimationComplete",e))}const k6=[...dT].reverse(),O6=dT.length;function U6(n){return e=>Promise.all(e.map(({animation:t,options:i})=>D6(n,t,i)))}function F6(n){let e=U6(n);const t=B6();let i=!0;const r=(l,u)=>{const f=f_(n,u);if(f){const{transition:d,transitionEnd:p,...m}=f;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,u){const f=n.getProps(),d=n.getVariantContext(!0)||{},p=[],m=new Set;let v={},_=1/0;for(let g=0;g<O6;g++){const w=k6[g],S=t[w],E=f[w]!==void 0?f[w]:d[w],b=Fp(E),P=w===u?S.isActive:null;P===!1&&(_=g);let R=E===d[w]&&E!==f[w]&&b;if(R&&i&&n.manuallyAnimateOnMount&&(R=!1),S.protectedKeys={...v},!S.isActive&&P===null||!E&&!S.prevProp||a_(E)||typeof E=="boolean")continue;let C=z6(S.prevProp,E)||w===u&&S.isActive&&!R&&b||g>_&&b,L=!1;const B=Array.isArray(E)?E:[E];let W=B.reduce(r,{});P===!1&&(W={});const{prevResolvedValues:ie={}}=S,z={...ie,...W},ne=ee=>{C=!0,m.has(ee)&&(L=!0,m.delete(ee)),S.needsAnimating[ee]=!0};for(const ee in z){const re=W[ee],X=ie[ee];if(v.hasOwnProperty(ee))continue;let Q=!1;py(re)&&py(X)?Q=!PD(re,X):Q=re!==X,Q?re!==void 0?ne(ee):m.add(ee):re!==void 0&&m.has(ee)?ne(ee):S.protectedKeys[ee]=!0}S.prevProp=E,S.prevResolvedValues=W,S.isActive&&(v={...v,...W}),i&&n.blockInitialAnimation&&(C=!1),C&&(!R||L)&&p.push(...B.map(ee=>({animation:ee,options:{type:w,...l}})))}if(m.size){const g={};m.forEach(w=>{const S=n.getBaseTarget(w);S!==void 0&&(g[w]=S)}),p.push({animation:g})}let x=!!p.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(x=!1),i=!1,x?e(p):Promise.resolve()}function a(l,u,f){var d;if(t[l].isActive===u)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),t[l].isActive=u;const p=o(f,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function z6(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!PD(e,n):!1}function ou(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function B6(){return{animate:ou(!0),whileInView:ou(),whileHover:ou(),whileTap:ou(),whileDrag:ou(),whileFocus:ou(),exit:ou()}}class V6 extends Xl{constructor(e){super(e),e.animationState||(e.animationState=F6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),a_(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let H6=0;class G6 extends Xl{constructor(){super(...arguments),this.id=H6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const W6={animation:{Feature:V6},exit:{Feature:G6}},yR=(n,e)=>Math.abs(n-e);function j6(n,e){const t=yR(n.x,e.x),i=yR(n.y,e.y);return Math.sqrt(t**2+i**2)}class ak{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=N1(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=j6(d.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:v}=d,{timestamp:_}=ir;this.history.push({...v,timestamp:_});const{onStart:x,onMove:g}=this.handlers;p||(x&&x(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=L1(p,this.transformPagePoint),In.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=N1(d.type==="pointercancel"?this.lastMoveEventInfo:L1(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,x),v&&v(d,x)},!ED(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const o=c_(e),a=L1(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=ir;this.history=[{...l,timestamp:u}];const{onSessionStart:f}=t;f&&f(e,N1(a,this.history)),this.removeListeners=Ml(ya(this.contextWindow,"pointermove",this.handlePointerMove),ya(this.contextWindow,"pointerup",this.handlePointerUp),ya(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ta(this.updatePoint)}}function L1(n,e){return e?{point:e(n.point)}:n}function _R(n,e){return{x:n.x-e.x,y:n.y-e.y}}function N1({point:n},e){return{point:n,delta:_R(n,lk(e)),offset:_R(n,X6(e)),velocity:Y6(e,.1)}}function X6(n){return n[0]}function lk(n){return n[n.length-1]}function Y6(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=lk(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>El(e)));)t--;if(!i)return{x:0,y:0};const s=_a(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ys(n){return n.max-n.min}function WS(n,e=0,t=.01){return Math.abs(n-e)<=t}function xR(n,e,t,i=.5){n.origin=i,n.originPoint=jn(e.min,e.max,n.origin),n.scale=ys(t)/ys(e),(WS(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=jn(t.min,t.max,n.origin)-n.originPoint,(WS(n.translate)||isNaN(n.translate))&&(n.translate=0)}function Kd(n,e,t,i){xR(n.x,e.x,t.x,i?i.originX:void 0),xR(n.y,e.y,t.y,i?i.originY:void 0)}function wR(n,e,t){n.min=t.min+e.min,n.max=n.min+ys(e)}function q6(n,e,t){wR(n.x,e.x,t.x),wR(n.y,e.y,t.y)}function SR(n,e,t){n.min=e.min-t.min,n.max=n.min+ys(e)}function Jd(n,e,t){SR(n.x,e.x,t.x),SR(n.y,e.y,t.y)}function Z6(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?jn(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?jn(t,n,i.max):Math.min(n,t)),n}function MR(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function $6(n,{top:e,left:t,bottom:i,right:r}){return{x:MR(n.x,t,r),y:MR(n.y,e,i)}}function ER(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function K6(n,e){return{x:ER(n.x,e.x),y:ER(n.y,e.y)}}function J6(n,e){let t=.5;const i=ys(n),r=ys(e);return r>i?t=Bp(e.min,e.max-i,n.min):i>r&&(t=Bp(n.min,n.max-r,e.min)),Nl(0,1,t)}function Q6(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const jS=.35;function eG(n=jS){return n===!1?n=0:n===!0&&(n=jS),{x:TR(n,"left","right"),y:TR(n,"top","bottom")}}function TR(n,e,t){return{min:AR(n,e),max:AR(n,t)}}function AR(n,e){return typeof n=="number"?n:n[e]||0}const bR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lf=()=>({x:bR(),y:bR()}),CR=()=>({min:0,max:0}),hi=()=>({x:CR(),y:CR()});function Os(n){return[n("x"),n("y")]}function uk({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function tG({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function nG(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function D1(n){return n===void 0||n===1}function XS({scale:n,scaleX:e,scaleY:t}){return!D1(n)||!D1(e)||!D1(t)}function xu(n){return XS(n)||ck(n)||n.z||n.rotate||n.rotateX||n.rotateY}function ck(n){return PR(n.x)||PR(n.y)}function PR(n){return n&&n!=="0%"}function _y(n,e,t){const i=n-t,r=e*i;return t+r}function RR(n,e,t,i,r){return r!==void 0&&(n=_y(n,r,i)),_y(n,t,i)+e}function YS(n,e=0,t=1,i,r){n.min=RR(n.min,e,t,i,r),n.max=RR(n.max,e,t,i,r)}function fk(n,{x:e,y:t}){YS(n.x,e.translate,e.scale,e.originPoint),YS(n.y,t.translate,t.scale,t.originPoint)}function iG(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Nf(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,fk(n,o)),i&&xu(s.latestValues)&&Nf(n,s.latestValues))}e.x=IR(e.x),e.y=IR(e.y)}function IR(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function el(n,e){n.min=n.min+e,n.max=n.max+e}function LR(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=jn(n.min,n.max,s);YS(n,e[t],e[i],o,e.scale)}const rG=["x","scaleX","originX"],sG=["y","scaleY","originY"];function Nf(n,e){LR(n.x,e,rG),LR(n.y,e,sG)}function hk(n,e){return uk(nG(n.getBoundingClientRect(),e))}function oG(n,e,t){const i=hk(n,t),{scroll:r}=e;return r&&(el(i.x,r.offset.x),el(i.y,r.offset.y)),i}const dk=({current:n})=>n?n.ownerDocument.defaultView:null,aG=new WeakMap;class lG{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hi(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(c_(f,"page").point)},s=(f,d)=>{const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=AD(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Os(x=>{let g=this.getAxisMotionValue(x).get()||0;if(Uo.test(g)){const{projection:w}=this.visualElement;if(w&&w.layout){const S=w.layout.layoutBox[x];S&&(g=ys(S)*(parseFloat(g)/100))}}this.originPoint[x]=g}),v&&In.update(()=>v(f,d),!1,!0);const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(f,d)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:_}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=d;if(m&&this.currentDirection===null){this.currentDirection=uG(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,x),this.updateAxis("y",d.point,x),this.visualElement.render(),_&&_(f,d)},a=(f,d)=>this.stop(f,d),l=()=>Os(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ak(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:dk(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&In.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!n0(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=Z6(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&Rf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=$6(r.layoutBox,t):this.constraints=!1,this.elastic=eG(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Os(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Q6(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Rf(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=oG(i,r.root,this.visualElement.getTransformPagePoint());let o=K6(r.layout.layoutBox,s);if(t){const a=t(tG(o));this.hasMutatedConstraints=!!a,a&&(o=uk(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Os(f=>{if(!n0(f,t,this.currentDirection))return;let d=l&&l[f]||{};o&&(d={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:i?e[f]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(f,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(CT(e,i,0,t))}stopAnimation(){Os(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Os(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Os(t=>{const{drag:i}=this.getProps();if(!n0(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-jn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Rf(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Os(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=J6({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Os(o=>{if(!n0(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(jn(l,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;aG.set(this.visualElement,this);const e=this.visualElement.current,t=ya(e,"pointerdown",l=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Rf(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=ma(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Os(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=l[f].translate,d.set(d.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=jS,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function n0(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function uG(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class cG extends Xl{constructor(e){super(e),this.removeGroupControls=ei,this.removeListeners=ei,this.controls=new lG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ei}unmount(){this.removeGroupControls(),this.removeListeners()}}const NR=n=>(e,t)=>{n&&In.update(()=>n(e,t))};class fG extends Xl{constructor(){super(...arguments),this.removePointerDownListener=ei}onPointerDown(e){this.session=new ak(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:NR(e),onStart:NR(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&In.update(()=>r(s,o))}}}mount(){this.removePointerDownListener=ya(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function hG(){const n=K.useContext(s_);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=K.useId();return K.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}const wv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function DR(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const ld={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(It.test(n))n=parseFloat(n);else return n;const t=DR(n,e.target.x),i=DR(n,e.target.y);return`${t}% ${i}%`}},dG={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Dl.parse(n);if(r.length>5)return i;const s=Dl.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const u=jn(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),s(r)}};class pG extends Vy.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;wH(mG),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),wv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||In.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pk(n){const[e,t]=hG(),i=K.useContext(mT);return Vy.createElement(pG,{...n,layoutGroup:i,switchLayoutGroup:K.useContext(uD),isPresent:e,safeToRemove:t})}const mG={borderRadius:{...ld,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ld,borderTopRightRadius:ld,borderBottomLeftRadius:ld,borderBottomRightRadius:ld,boxShadow:dG},mk=["TopLeft","TopRight","BottomLeft","BottomRight"],gG=mk.length,kR=n=>typeof n=="string"?parseFloat(n):n,OR=n=>typeof n=="number"||It.test(n);function vG(n,e,t,i,r,s){r?(n.opacity=jn(0,t.opacity!==void 0?t.opacity:1,yG(i)),n.opacityExit=jn(e.opacity!==void 0?e.opacity:1,0,_G(i))):s&&(n.opacity=jn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<gG;o++){const a=`border${mk[o]}Radius`;let l=UR(e,a),u=UR(t,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||OR(l)===OR(u)?(n[a]=Math.max(jn(kR(l),kR(u),i),0),(Uo.test(u)||Uo.test(l))&&(n[a]+="%")):n[a]=u}(e.rotate||t.rotate)&&(n.rotate=jn(e.rotate||0,t.rotate||0,i))}function UR(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const yG=gk(0,.5,FD),_G=gk(.5,.95,ei);function gk(n,e,t){return i=>i<n?0:i>e?1:t(Bp(n,e,i))}function FR(n,e){n.min=e.min,n.max=e.max}function Ds(n,e){FR(n.x,e.x),FR(n.y,e.y)}function zR(n,e,t,i,r){return n-=e,n=_y(n,1/t,i),r!==void 0&&(n=_y(n,1/r,i)),n}function xG(n,e=0,t=1,i=.5,r,s=n,o=n){if(Uo.test(e)&&(e=parseFloat(e),e=jn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=jn(s.min,s.max,i);n===s&&(a-=e),n.min=zR(n.min,e,t,a,r),n.max=zR(n.max,e,t,a,r)}function BR(n,e,[t,i,r],s,o){xG(n,e[t],e[i],e[r],e.scale,s,o)}const wG=["x","scaleX","originX"],SG=["y","scaleY","originY"];function VR(n,e,t,i){BR(n.x,e,wG,t?t.x:void 0,i?i.x:void 0),BR(n.y,e,SG,t?t.y:void 0,i?i.y:void 0)}function HR(n){return n.translate===0&&n.scale===1}function vk(n){return HR(n.x)&&HR(n.y)}function MG(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function yk(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function GR(n){return ys(n.x)/ys(n.y)}class EG{constructor(){this.members=[]}add(e){PT(this.members,e),e.scheduleRender()}remove(e){if(RT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WR(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:u,rotateY:f}=t;l&&(i+=`rotate(${l}deg) `),u&&(i+=`rotateX(${u}deg) `),f&&(i+=`rotateY(${f}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const TG=(n,e)=>n.depth-e.depth;class AG{constructor(){this.children=[],this.isDirty=!1}add(e){PT(this.children,e),this.isDirty=!0}remove(e){RT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(TG),this.isDirty=!1,this.children.forEach(e)}}function bG(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(Ta(i),n(s-e))};return In.read(i,!0),()=>Ta(i)}function CG(n){window.MotionDebug&&window.MotionDebug.record(n)}function PG(n){return n instanceof SVGElement&&n.tagName!=="svg"}function RG(n,e,t){const i=qr(n)?n:uh(n);return i.start(CT("",i,e,t)),i.animation}const jR=["","X","Y","Z"],IG={visibility:"hidden"},XR=1e3;let LG=0;const wu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function _k({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=LG++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,wu.totalNodes=wu.resolvedTargetDeltas=wu.recalculatedProjection=0,this.nodes.forEach(kG),this.nodes.forEach(BG),this.nodes.forEach(VG),this.nodes.forEach(OG),CG(wu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new AG)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new IT),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=PG(o),this.instance=o;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),n){let d;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=bG(p,250),wv.hasAnimatedSinceResize&&(wv.hasAnimatedSinceResize=!1,this.nodes.forEach(qR))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||f.getDefaultTransition()||XG,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=f.getProps(),w=!this.targetLayout||!yk(this.targetLayout,v)||m,S=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,S);const E={...bT(_,"layout"),onPlay:x,onComplete:g};(f.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else p||qR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ta(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HG),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(YR);return}this.isUpdating||this.nodes.forEach(FG),this.isUpdating=!1,this.nodes.forEach(zG),this.nodes.forEach(NG),this.nodes.forEach(DG),this.clearAllSnapshots();const a=performance.now();ir.delta=Nl(0,1e3/60,a-ir.timestamp),ir.timestamp=a,ir.isProcessing=!0,E1.update.process(ir),E1.preRender.process(ir),E1.render.process(ir),ir.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(UG),this.sharedNodes.forEach(GG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,In.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){In.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!vk(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(a||xu(this.latestValues)||f)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),YG(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return hi();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(el(a.x,l.offset.x),el(a.y,l.offset.y)),a}removeElementScroll(o){const a=hi();Ds(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:f,options:d}=u;if(u!==this.root&&f&&d.layoutScroll){if(f.isRoot){Ds(a,o);const{scroll:p}=this.root;p&&(el(a.x,-p.offset.x),el(a.y,-p.offset.y))}el(a.x,f.offset.x),el(a.y,f.offset.y)}}return a}applyTransform(o,a=!1){const l=hi();Ds(l,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Nf(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),xu(f.latestValues)&&Nf(l,f.latestValues)}return xu(this.latestValues)&&Nf(l,this.latestValues),l}removeTransform(o){const a=hi();Ds(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!xu(u.latestValues))continue;XS(u.latestValues)&&u.updateSnapshot();const f=hi(),d=u.measurePageBox();Ds(f,d),VR(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return xu(this.latestValues)&&VR(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ir.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=ir.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hi(),this.relativeTargetOrigin=hi(),Jd(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ds(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=hi(),this.targetWithTransforms=hi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),q6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ds(this.target,this.layout.layoutBox),fk(this.target,this.targetDelta)):Ds(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hi(),this.relativeTargetOrigin=hi(),Jd(this.relativeTargetOrigin,this.target,m.target),Ds(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}wu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||XS(this.parent.latestValues)||ck(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ir.timestamp&&(u=!1),u)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;Ds(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;iG(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=Lf(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Lf(),this.projectionDeltaWithTransform=Lf());const _=this.projectionTransform;Kd(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=WR(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),wu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},f={...this.latestValues},d=Lf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=hi(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,_=m!==v,x=this.getStack(),g=!x||x.members.length<=1,w=!!(_&&!g&&this.options.crossfade===!0&&!this.path.some(jG));this.animationProgress=0;let S;this.mixTargetDelta=E=>{const b=E/1e3;ZR(d.x,o.x,b),ZR(d.y,o.y,b),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),WG(this.relativeTarget,this.relativeTargetOrigin,p,b),S&&MG(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=hi()),Ds(S,this.relativeTarget)),_&&(this.animationValues=f,vG(f,u,this.latestValues,b,w,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ta(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=In.update(()=>{wv.hasAnimatedSinceResize=!0,this.currentAnimation=RG(0,XR,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(XR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:f}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&xk(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||hi();const d=ys(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=ys(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Ds(a,l),Nf(a,f),Kd(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new EG),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let f=0;f<jR.length;f++){const d="rotate"+jR[f];l[d]&&(u[d]=l[d],o.setStaticValue(d,0))}o.render();for(const f in u)o.setStaticValue(f,u[f]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return IG;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=xv(o==null?void 0:o.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=xv(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!xu(this.latestValues)&&(_.transform=f?f({},""):"none",this.hasProjected=!1),_}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=WR(this.projectionDeltaWithTransform,this.treeScale,p),f&&(u.transform=f(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const _ in hy){if(p[_]===void 0)continue;const{correct:x,applyTo:g}=hy[_],w=u.transform==="none"?p[_]:x(p[_],d);if(g){const S=g.length;for(let E=0;E<S;E++)u[g[E]]=w}else u[_]=w}return this.options.layoutId&&(u.pointerEvents=d===this?xv(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(YR),this.root.sharedNodes.clear()}}}function NG(n){n.updateLayout()}function DG(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?Os(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=ys(p);p.min=i[d].min,p.max=p.min+m}):xk(s,t.layoutBox,i)&&Os(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=ys(i[d]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+m)});const a=Lf();Kd(a,i,t.layoutBox);const l=Lf();o?Kd(l,n.applyTransform(r,!0),t.measuredBox):Kd(l,i,t.layoutBox);const u=!vk(a);let f=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const v=hi();Jd(v,t.layoutBox,p.layoutBox);const _=hi();Jd(_,i,m.layoutBox),yk(v,_)||(f=!0),d.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=v,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function kG(n){wu.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function OG(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function UG(n){n.clearSnapshot()}function YR(n){n.clearMeasurements()}function FG(n){n.isLayoutDirty=!1}function zG(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function qR(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function BG(n){n.resolveTargetDelta()}function VG(n){n.calcProjection()}function HG(n){n.resetRotation()}function GG(n){n.removeLeadSnapshot()}function ZR(n,e,t){n.translate=jn(e.translate,0,t),n.scale=jn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function $R(n,e,t,i){n.min=jn(e.min,t.min,i),n.max=jn(e.max,t.max,i)}function WG(n,e,t,i){$R(n.x,e.x,t.x,i),$R(n.y,e.y,t.y,i)}function jG(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const XG={duration:.45,ease:[.4,0,.1,1]},KR=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),JR=KR("applewebkit/")&&!KR("chrome/")?Math.round:ei;function QR(n){n.min=JR(n.min),n.max=JR(n.max)}function YG(n){QR(n.x),QR(n.y)}function xk(n,e,t){return n==="position"||n==="preserve-aspect"&&!WS(GR(e),GR(t),.2)}const qG=_k({attachResizeListener:(n,e)=>ma(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),k1={current:void 0},wk=_k({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!k1.current){const n=new qG({});n.mount(window),n.setOptions({layoutScroll:!0}),k1.current=n}return k1.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),ZG={pan:{Feature:fG},drag:{Feature:cG,ProjectionNode:wk,MeasureLayout:pk}},$G=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function KG(n){const e=$G.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function qS(n,e,t=1){const[i,r]=KG(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return ik(o)?parseFloat(o):o}else return US(r)?qS(r,e,t+1):r}function JG(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!US(s))return;const o=qS(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!US(s))continue;const o=qS(s,i);o&&(e[r]=o,t||(t={}),t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const QG=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Sk=n=>QG.has(n),eW=n=>Object.keys(n).some(Sk),e2=n=>n===_c||n===It,t2=(n,e)=>parseFloat(n.split(", ")[e]),n2=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return t2(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?t2(s[1],n):0}},tW=new Set(["x","y","z"]),nW=Tm.filter(n=>!tW.has(n));function iW(n){const e=[];return nW.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const ch={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:n2(4,13),y:n2(5,14)};ch.translateX=ch.x;ch.translateY=ch.y;const rW=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(u=>{a[u]=ch[u](i,s)}),e.render();const l=e.measureViewportBox();return t.forEach(u=>{const f=e.getValue(u);f&&f.jump(a[u]),n[u]=ch[u](l,s)}),n},sW=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(Sk);let s=[],o=!1;const a=[];if(r.forEach(l=>{const u=n.getValue(l);if(!n.hasValue(l))return;let f=t[l],d=ad(f);const p=e[l];let m;if(py(p)){const v=p.length,_=p[0]===null?1:0;f=p[_],d=ad(f);for(let x=_;x<v&&p[x]!==null;x++)m?h_(ad(p[x])===m):m=ad(p[x])}else m=ad(p);if(d!==m)if(e2(d)&&e2(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===It&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(f===0||p===0)?f===0?u.set(m.transform(f)):e[l]=d.transform(p):(o||(s=iW(n),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=rW(e,n,a);return s.length&&s.forEach(([f,d])=>{n.getValue(f).set(d)}),n.render(),o_&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:i}}else return{target:e,transitionEnd:i}};function oW(n,e,t,i){return eW(e)?sW(n,e,t,i):{target:e,transitionEnd:i}}const aW=(n,e,t,i)=>{const r=JG(n,e,i);return e=r.target,i=r.transitionEnd,oW(n,e,t,i)},ZS={current:null},Mk={current:!1};function lW(){if(Mk.current=!0,!!o_)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>ZS.current=n.matches;n.addListener(e),e()}else ZS.current=!1}function uW(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(qr(s))n.addValue(r,s),yy(i)&&i.add(r);else if(qr(o))n.addValue(r,uh(s,{owner:n})),yy(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,uh(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const i2=new WeakMap,Ek=Object.keys(zp),cW=Ek.length,r2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],fW=pT.length;class hW{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>In.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=l_(t),this.isVariantNode=lD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(t,{});for(const d in f){const p=f[d];a[d]!==void 0&&qr(p)&&(p.set(a[d],!1),yy(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,i2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),Mk.current||lW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ZS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){i2.delete(this.current),this.projection&&this.projection.unmount(),Ta(this.notifyUpdate),Ta(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=yc.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&In.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s){let o,a;for(let l=0;l<cW;l++){const u=Ek[l],{isEnabled:f,Feature:d,ProjectionNode:p,MeasureLayout:m}=zp[u];p&&(o=p),f(t)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:f,dragConstraints:d,layoutScroll:p,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!f||d&&Rf(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<r2.length;i++){const r=r2[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=uW(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<fW;i++){const r=pT[i],s=this.props[r];(Fp(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=uh(t,{owner:this}),this.addValue(e,i)),i}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=ST(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!qr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new IT),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Tk extends hW{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let o=P6(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),o&&(o=r(o))),s){b6(this,i,o);const a=aW(this,i,o,t);t=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:t,...i}}}function dW(n){return window.getComputedStyle(n)}class pW extends Tk{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(yc.has(t)){const i=AT(t);return i&&i.default||0}else{const i=dW(e),r=(hD(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return hk(e,t)}build(e,t,i,r){vT(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return wT(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){yD(e,t,i,r)}}class mW extends Tk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(yc.has(t)){const i=AT(t);return i&&i.default||0}return t=_D.has(t)?t:hT(t),e.getAttribute(t)}measureInstanceViewportBox(){return hi()}scrapeMotionValuesFromProps(e,t){return wD(e,t)}build(e,t,i,r){_T(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){xD(e,t,i,r)}mount(e){this.isSVGTag=xT(e.tagName),super.mount(e)}}const gW=(n,e)=>gT(n)?new mW(e,{enableHardwareAcceleration:!1}):new pW(e,{enableHardwareAcceleration:!0}),vW={layout:{ProjectionNode:wk,MeasureLayout:pk}},yW={...W6,...c8,...ZG,...vW},je=_H((n,e)=>KH(n,e,yW,gW));function Ak(){const n=K.useRef(!1);return fT(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function _W(){const n=Ak(),[e,t]=K.useState(0),i=K.useCallback(()=>{n.current&&t(e+1)},[e]);return[K.useCallback(()=>In.postRender(i),[i]),e]}class xW extends K.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function wW({children:n,isPresent:e}){const t=K.useId(),i=K.useRef(null),r=K.useRef({width:0,height:0,top:0,left:0});return K.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=r.current;if(e||!i.current||!s||!o)return;i.current.dataset.motionPopId=t;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),K.createElement(xW,{isPresent:e,childRef:i,sizeRef:r},K.cloneElement(n,{ref:i}))}const O1=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=SD(SW),l=K.useId(),u=K.useMemo(()=>({id:l,initial:e,isPresent:t,custom:r,onExitComplete:f=>{a.set(f,!0);for(const d of a.values())if(!d)return;i&&i()},register:f=>(a.set(f,!1),()=>a.delete(f))}),s?void 0:[t]);return K.useMemo(()=>{a.forEach((f,d)=>a.set(d,!1))},[t]),K.useEffect(()=>{!t&&!a.size&&i&&i()},[t]),o==="popLayout"&&(n=K.createElement(wW,{isPresent:t},n)),K.createElement(s_.Provider,{value:u},n)};function SW(){return new Map}function MW(n){return K.useEffect(()=>()=>n(),[])}const Su=n=>n.key||"";function EW(n,e){n.forEach(t=>{const i=Su(t);e.set(i,t)})}function TW(n){const e=[];return K.Children.forEach(n,t=>{K.isValidElement(t)&&e.push(t)}),e}const AW=({children:n,custom:e,initial:t=!0,onExitComplete:i,exitBeforeEnter:r,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=K.useContext(mT).forceRender||_W()[0],l=Ak(),u=TW(n);let f=u;const d=K.useRef(new Map).current,p=K.useRef(f),m=K.useRef(new Map).current,v=K.useRef(!0);if(fT(()=>{v.current=!1,EW(u,m),p.current=f}),MW(()=>{v.current=!0,m.clear(),d.clear()}),v.current)return K.createElement(K.Fragment,null,f.map(w=>K.createElement(O1,{key:Su(w),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:s,mode:o},w)));f=[...f];const _=p.current.map(Su),x=u.map(Su),g=_.length;for(let w=0;w<g;w++){const S=_[w];x.indexOf(S)===-1&&!d.has(S)&&d.set(S,void 0)}return o==="wait"&&d.size&&(f=[]),d.forEach((w,S)=>{if(x.indexOf(S)!==-1)return;const E=m.get(S);if(!E)return;const b=_.indexOf(S);let P=w;if(!P){const R=()=>{d.delete(S);const I=Array.from(m.keys()).filter(C=>!x.includes(C));if(I.forEach(C=>m.delete(C)),p.current=u.filter(C=>{const L=Su(C);return L===S||I.includes(L)}),!d.size){if(l.current===!1)return;a(),i&&i()}};P=K.createElement(O1,{key:Su(E),isPresent:!1,onExitComplete:R,custom:e,presenceAffectsLayout:s,mode:o},E),d.set(S,P)}f.splice(b,0,P)}),f=f.map(w=>{const S=w.key;return d.has(S)?w:K.createElement(O1,{key:Su(w),isPresent:!0,presenceAffectsLayout:s,mode:o},w)}),K.createElement(K.Fragment,null,d.size?f:f.map(w=>K.cloneElement(w)))};function bW(n,e,t){var i;if(typeof n=="string"){let r=document;e&&(h_(!!e.current),r=e.current),t?((i=t[n])!==null&&i!==void 0||(t[n]=r.querySelectorAll(n)),n=t[n]):n=r.querySelectorAll(n)}else n instanceof Element&&(n=[n]);return Array.from(n||[])}const CW={some:0,all:1};function PW(n,e,{root:t,margin:i,amount:r="some"}={}){const s=bW(n),o=new WeakMap,a=u=>{u.forEach(f=>{const d=o.get(f.target);if(f.isIntersecting!==!!d)if(f.isIntersecting){const p=e(f);typeof p=="function"?o.set(f.target,p):l.unobserve(f.target)}else d&&(d(f),o.delete(f.target))})},l=new IntersectionObserver(a,{root:t,rootMargin:i,threshold:typeof r=="number"?r:CW[r]});return s.forEach(u=>l.observe(u)),()=>l.disconnect()}function RW(n,{root:e,margin:t,amount:i,once:r=!1}={}){const[s,o]=K.useState(!1);return K.useEffect(()=>{if(!n.current||r&&s)return;const a=()=>(o(!0),r?void 0:()=>o(!1)),l={root:e&&e.current||void 0,margin:t,amount:i};return PW(n.current,a,l)},[e,n,t,r,i]),s}function la(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function bk(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ds={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},fh={duration:.5,overwrite:!1,delay:0},LT,Xi,Fn,Ws=1e8,Sn=1/Ws,$S=Math.PI*2,IW=$S/4,LW=0,Ck=Math.sqrt,NW=Math.cos,DW=Math.sin,Vi=function(e){return typeof e=="string"},ti=function(e){return typeof e=="function"},Aa=function(e){return typeof e=="number"},NT=function(e){return typeof e>"u"},Go=function(e){return typeof e=="object"},Gr=function(e){return e!==!1},DT=function(){return typeof window<"u"},i0=function(e){return ti(e)||Vi(e)},Pk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},lr=Array.isArray,KS=/(?:-?\.?\d|\.)+/gi,Rk=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Df=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,U1=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Ik=/[+-]=-?[.\d]+/,Lk=/[^,'"\[\]\s]+/gi,kW=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Wn,bo,JS,kT,_s={},xy={},Nk,Dk=function(e){return(xy=hh(e,_s))&&Zr},OT=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Vp=function(e,t){return!t&&console.warn(e)},kk=function(e,t){return e&&(_s[e]=t)&&xy&&(xy[e]=t)||_s},Hp=function(){return 0},OW={suppressEvents:!0,isStart:!0,kill:!1},Sv={suppressEvents:!0,kill:!1},UW={suppressEvents:!0},UT={},Tl=[],QS={},Ok,ss={},F1={},s2=30,Mv=[],FT="",zT=function(e){var t=e[0],i,r;if(Go(t)||ti(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=Mv.length;r--&&!Mv[r].targetTest(t););i=Mv[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new oO(e[r],i)))||e.splice(r,1);return e},Gu=function(e){return e._gsap||zT(js(e))[0]._gsap},Uk=function(e,t,i){return(i=e[t])&&ti(i)?e[t]():NT(i)&&e.getAttribute&&e.getAttribute(t)||i},Wr=function(e,t){return(e=e.split(",")).forEach(t)||e},si=function(e){return Math.round(e*1e5)/1e5||0},mi=function(e){return Math.round(e*1e7)/1e7||0},qf=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+r:i==="-"?e-r:i==="*"?e*r:e/r},FW=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},wy=function(){var e=Tl.length,t=Tl.slice(0),i,r;for(QS={},Tl.length=0,i=0;i<e;i++)r=t[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},Fk=function(e,t,i,r){Tl.length&&!Xi&&wy(),e.render(t,i,r||Xi&&t<0&&(e._initted||e._startAt)),Tl.length&&!Xi&&wy()},zk=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(Lk).length<2?t:Vi(e)?e.trim():e},Bk=function(e){return e},xs=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},zW=function(e){return function(t,i){for(var r in i)r in t||r==="duration"&&e||r==="ease"||(t[r]=i[r])}},hh=function(e,t){for(var i in t)e[i]=t[i];return e},o2=function n(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=Go(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},Sy=function(e,t){var i={},r;for(r in e)r in t||(i[r]=e[r]);return i},Qd=function(e){var t=e.parent||Wn,i=e.keyframes?zW(lr(e.keyframes)):xs;if(Gr(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},BW=function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0},Vk=function(e,t,i,r,s){i===void 0&&(i="_first"),r===void 0&&(r="_last");var o=e[r],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},d_=function(e,t,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var s=t._prev,o=t._next;s?s._next=o:e[i]===t&&(e[i]=o),o?o._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},kl=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Wu=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},VW=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},eM=function(e,t,i,r){return e._startAt&&(Xi?e._startAt.revert(Sv):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},HW=function n(e){return!e||e._ts&&n(e.parent)},a2=function(e){return e._repeat?dh(e._tTime,e=e.duration()+e._rDelay)*e:0},dh=function(e,t){var i=Math.floor(e=mi(e/t));return e&&i===e?i-1:i},My=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},p_=function(e){return e._end=mi(e._start+(e._tDur/Math.abs(e._ts||e._rts||Sn)||0))},m_=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=mi(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),p_(e),i._dirty||Wu(i,e)),e},Hk=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=My(e.rawTime(),t),(!t._dur||Pm(0,t.totalDuration(),i)-t._tTime>Sn)&&t.render(i,!0)),Wu(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-Sn}},Ro=function(e,t,i,r){return t.parent&&kl(t),t._start=mi((Aa(i)?i:i||e!==Wn?Us(e,i,t):e._time)+t._delay),t._end=mi(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Vk(e,t,"_first","_last",e._sort?"_start":0),tM(t)||(e._recent=t),r||Hk(e,t),e._ts<0&&m_(e,e._tTime),e},Gk=function(e,t){return(_s.ScrollTrigger||OT("scrollTrigger",t))&&_s.ScrollTrigger.create(t,e)},Wk=function(e,t,i,r,s){if(VT(e,t,s),!e._initted)return 1;if(!i&&e._pt&&!Xi&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Ok!==as.frame)return Tl.push(e),e._lazy=[s,r],1},GW=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},tM=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},WW=function(e,t,i,r){var s=e.ratio,o=t<0||!t&&(!e._start&&GW(e)&&!(!e._initted&&tM(e))||(e._ts<0||e._dp._ts<0)&&!tM(e))?0:1,a=e._rDelay,l=0,u,f,d;if(a&&e._repeat&&(l=Pm(0,e._tDur,t),f=dh(l,a),e._yoyo&&f&1&&(o=1-o),f!==dh(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Xi||r||e._zTime===Sn||!t&&e._zTime){if(!e._initted&&Wk(e,t,r,i,l))return;for(d=e._zTime,e._zTime=t||(i?Sn:0),i||(i=t&&!d),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;t<0&&eM(e,t,i,!0),e._onUpdate&&!i&&fs(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&fs(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&kl(e,1),!i&&!Xi&&(fs(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},jW=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},ph=function(e,t,i,r){var s=e._repeat,o=mi(t)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:mi(o*(s+1)+e._rDelay*s):o,a>0&&!r&&m_(e,e._tTime=e._tDur*a),e.parent&&p_(e),i||Wu(e.parent,e),e},l2=function(e){return e instanceof Mr?Wu(e):ph(e,e._dur)},XW={_start:0,endTime:Hp,totalDuration:Hp},Us=function n(e,t,i){var r=e.labels,s=e._recent||XW,o=e.duration()>=Ws?s.endTime(!1):e._dur,a,l,u;return Vi(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),u=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(u?(a<0?s:i).totalDuration()/100:1)):a<0?(t in r||(r[t]=o),r[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),u&&i&&(l=l/100*(lr(i)?i[0]:i).totalDuration()),a>1?n(e,t.substr(0,a-1),i)+l:o+l)):t==null?o:+t},ep=function(e,t,i){var r=Aa(t[1]),s=(r?2:1)+(e<2?0:1),o=t[s],a,l;if(r&&(o.duration=t[1]),o.parent=i,e){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Gr(l.vars.inherit)&&l.parent;o.immediateRender=Gr(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new pi(t[0],o,t[s+1])},Yl=function(e,t){return e||e===0?t(e):t},Pm=function(e,t,i){return i<e?e:i>t?t:i},or=function(e,t){return!Vi(e)||!(t=kW.exec(e))?"":t[1]},YW=function(e,t,i){return Yl(i,function(r){return Pm(e,t,r)})},nM=[].slice,jk=function(e,t){return e&&Go(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Go(e[0]))&&!e.nodeType&&e!==bo},qW=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(r){var s;return Vi(r)&&!t||jk(r,1)?(s=i).push.apply(s,js(r)):i.push(r)})||i},js=function(e,t,i){return Fn&&!t&&Fn.selector?Fn.selector(e):Vi(e)&&!i&&(JS||!mh())?nM.call((t||kT).querySelectorAll(e),0):lr(e)?qW(e,i):jk(e)?nM.call(e,0):e?[e]:[]},iM=function(e){return e=js(e)[0]||Vp("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return js(t,i.querySelectorAll?i:i===e?Vp("Invalid scope")||kT.createElement("div"):e)}},Xk=function(e){return e.sort(function(){return .5-Math.random()})},Yk=function(e){if(ti(e))return e;var t=Go(e)?e:{each:e},i=ju(t.ease),r=t.from||0,s=parseFloat(t.base)||0,o={},a=r>0&&r<1,l=isNaN(r)||a,u=t.axis,f=r,d=r;return Vi(r)?f=d={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(f=r[0],d=r[1]),function(p,m,v){var _=(v||t).length,x=o[_],g,w,S,E,b,P,R,I,C;if(!x){if(C=t.grid==="auto"?0:(t.grid||[1,Ws])[1],!C){for(R=-Ws;R<(R=v[C++].getBoundingClientRect().left)&&C<_;);C<_&&C--}for(x=o[_]=[],g=l?Math.min(C,_)*f-.5:r%C,w=C===Ws?0:l?_*d/C-.5:r/C|0,R=0,I=Ws,P=0;P<_;P++)S=P%C-g,E=w-(P/C|0),x[P]=b=u?Math.abs(u==="y"?E:S):Ck(S*S+E*E),b>R&&(R=b),b<I&&(I=b);r==="random"&&Xk(x),x.max=R-I,x.min=I,x.v=_=(parseFloat(t.amount)||parseFloat(t.each)*(C>_?_-1:u?u==="y"?_/C:C:Math.max(C,_/C))||0)*(r==="edges"?-1:1),x.b=_<0?s-_:s,x.u=or(t.amount||t.each)||0,i=i&&_<0?iO(i):i}return _=(x[p]-x.min)/x.max||0,mi(x.b+(i?i(_):_)*x.v)+x.u}},rM=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=mi(Math.round(parseFloat(i)/e)*e*t);return(r-r%1)/t+(Aa(i)?0:or(i))}},qk=function(e,t){var i=lr(e),r,s;return!i&&Go(e)&&(r=i=e.radius||Ws,e.values?(e=js(e.values),(s=!Aa(e[0]))&&(r*=r)):e=rM(e.increment)),Yl(t,i?ti(e)?function(o){return s=e(o),Math.abs(s-o)<=r?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),u=Ws,f=0,d=e.length,p,m;d--;)s?(p=e[d].x-a,m=e[d].y-l,p=p*p+m*m):p=Math.abs(e[d]-a),p<u&&(u=p,f=d);return f=!r||u<=r?e[f]:o,s||f===o||Aa(o)?f:f+or(o)}:rM(e))},Zk=function(e,t,i,r){return Yl(lr(e)?!t:i===!0?!!(i=0):!r,function(){return lr(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*r)/r})},ZW=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(s,o){return o(s)},r)}},$W=function(e,t){return function(i){return e(parseFloat(i))+(t||or(i))}},KW=function(e,t,i){return Kk(e,t,0,1,i)},$k=function(e,t,i){return Yl(i,function(r){return e[~~t(r)]})},JW=function n(e,t,i){var r=t-e;return lr(e)?$k(e,n(0,e.length),t):Yl(i,function(s){return(r+(s-e)%r)%r+e})},QW=function n(e,t,i){var r=t-e,s=r*2;return lr(e)?$k(e,n(0,e.length-1),t):Yl(i,function(o){return o=(s+(o-e)%s)%s||0,e+(o>r?s-o:o)})},Gp=function(e){for(var t=0,i="",r,s,o,a;~(r=e.indexOf("random(",t));)o=e.indexOf(")",r),a=e.charAt(r+7)==="[",s=e.substr(r+7,o-r-7).match(a?Lk:KS),i+=e.substr(t,r-t)+Zk(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return i+e.substr(t,e.length-t)},Kk=function(e,t,i,r,s){var o=t-e,a=r-i;return Yl(s,function(l){return i+((l-e)/o*a||0)})},ej=function n(e,t,i,r){var s=isNaN(e+t)?0:function(m){return(1-m)*e+m*t};if(!s){var o=Vi(e),a={},l,u,f,d,p;if(i===!0&&(r=1)&&(i=null),o)e={p:e},t={p:t};else if(lr(e)&&!lr(t)){for(f=[],d=e.length,p=d-2,u=1;u<d;u++)f.push(n(e[u-1],e[u]));d--,s=function(v){v*=d;var _=Math.min(p,~~v);return f[_](v-_)},i=t}else r||(e=hh(lr(e)?[]:{},e));if(!f){for(l in t)BT.call(a,e,l,"get",t[l]);s=function(v){return WT(v,a)||(o?e.p:e)}}}return Yl(i,s)},u2=function(e,t,i){var r=e.labels,s=Ws,o,a,l;for(o in r)a=r[o]-t,a<0==!!i&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},fs=function(e,t,i){var r=e.vars,s=r[t],o=Fn,a=e._ctx,l,u,f;if(s)return l=r[t+"Params"],u=r.callbackScope||e,i&&Tl.length&&wy(),a&&(Fn=a),f=l?s.apply(u,l):s.call(u),Fn=o,f},Id=function(e){return kl(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Xi),e.progress()<1&&fs(e,"onInterrupt"),e},kf,Jk=[],Qk=function(e){if(e)if(e=!e.name&&e.default||e,DT()||e.headless){var t=e.name,i=ti(e),r=t&&!i&&e.init?function(){this._props=[]}:e,s={init:Hp,render:WT,add:BT,kill:gj,modifier:mj,rawVars:0},o={targetTest:0,get:0,getSetter:GT,aliases:{},register:0};if(mh(),e!==r){if(ss[t])return;xs(r,xs(Sy(e,s),o)),hh(r.prototype,hh(s,Sy(e,o))),ss[r.prop=t]=r,e.targetTest&&(Mv.push(r),UT[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}kk(t,r),e.register&&e.register(Zr,r,jr)}else Jk.push(e)},wn=255,Ld={aqua:[0,wn,wn],lime:[0,wn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,wn],navy:[0,0,128],white:[wn,wn,wn],olive:[128,128,0],yellow:[wn,wn,0],orange:[wn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[wn,0,0],pink:[wn,192,203],cyan:[0,wn,wn],transparent:[wn,wn,wn,0]},z1=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*wn+.5|0},eO=function(e,t,i){var r=e?Aa(e)?[e>>16,e>>8&wn,e&wn]:0:Ld.black,s,o,a,l,u,f,d,p,m,v;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ld[e])r=Ld[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&wn,r&wn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&wn,e&wn]}else if(e.substr(0,3)==="hsl"){if(r=v=e.match(KS),!t)l=+r[0]%360/360,u=+r[1]/100,f=+r[2]/100,o=f<=.5?f*(u+1):f+u-f*u,s=f*2-o,r.length>3&&(r[3]*=1),r[0]=z1(l+1/3,s,o),r[1]=z1(l,s,o),r[2]=z1(l-1/3,s,o);else if(~e.indexOf("="))return r=e.match(Rk),i&&r.length<4&&(r[3]=1),r}else r=e.match(KS)||Ld.transparent;r=r.map(Number)}return t&&!v&&(s=r[0]/wn,o=r[1]/wn,a=r[2]/wn,d=Math.max(s,o,a),p=Math.min(s,o,a),f=(d+p)/2,d===p?l=u=0:(m=d-p,u=f>.5?m/(2-d-p):m/(d+p),l=d===s?(o-a)/m+(o<a?6:0):d===o?(a-s)/m+2:(s-o)/m+4,l*=60),r[0]=~~(l+.5),r[1]=~~(u*100+.5),r[2]=~~(f*100+.5)),i&&r.length<4&&(r[3]=1),r},tO=function(e){var t=[],i=[],r=-1;return e.split(Al).forEach(function(s){var o=s.match(Df)||[];t.push.apply(t,o),i.push(r+=o.length+1)}),t.c=i,t},c2=function(e,t,i){var r="",s=(e+r).match(Al),o=t?"hsla(":"rgba(",a=0,l,u,f,d;if(!s)return e;if(s=s.map(function(p){return(p=eO(p,t,1))&&o+(t?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),i&&(f=tO(e),l=i.c,l.join(r)!==f.c.join(r)))for(u=e.replace(Al,"1").split(Df),d=u.length-1;a<d;a++)r+=u[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(f.length?f:s.length?s:i).shift());if(!u)for(u=e.split(Al),d=u.length-1;a<d;a++)r+=u[a]+s[a];return r+u[d]},Al=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ld)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),tj=/hsl[a]?\(/,nO=function(e){var t=e.join(" "),i;if(Al.lastIndex=0,Al.test(t))return i=tj.test(t),e[1]=c2(e[1],i),e[0]=c2(e[0],i,tO(e[1])),!0},Wp,as=function(){var n=Date.now,e=500,t=33,i=n(),r=i,s=1e3/240,o=s,a=[],l,u,f,d,p,m,v=function _(x){var g=n()-r,w=x===!0,S,E,b,P;if((g>e||g<0)&&(i+=g-t),r+=g,b=r-i,S=b-o,(S>0||w)&&(P=++d.frame,p=b-d.time*1e3,d.time=b=b/1e3,o+=S+(S>=s?4:s-S),E=1),w||(l=u(_)),E)for(m=0;m<a.length;m++)a[m](b,p,P,x)};return d={time:0,frame:0,tick:function(){v(!0)},deltaRatio:function(x){return p/(1e3/(x||60))},wake:function(){Nk&&(!JS&&DT()&&(bo=JS=window,kT=bo.document||{},_s.gsap=Zr,(bo.gsapVersions||(bo.gsapVersions=[])).push(Zr.version),Dk(xy||bo.GreenSockGlobals||!bo.gsap&&bo||{}),Jk.forEach(Qk)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&d.sleep(),u=f||function(x){return setTimeout(x,o-d.time*1e3+1|0)},Wp=1,v(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(l),Wp=0,u=Hp},lagSmoothing:function(x,g){e=x||1/0,t=Math.min(g||33,e)},fps:function(x){s=1e3/(x||240),o=d.time*1e3+s},add:function(x,g,w){var S=g?function(E,b,P,R){x(E,b,P,R),d.remove(S)}:x;return d.remove(x),a[w?"unshift":"push"](S),mh(),S},remove:function(x,g){~(g=a.indexOf(x))&&a.splice(g,1)&&m>=g&&m--},_listeners:a},d}(),mh=function(){return!Wp&&as.wake()},en={},nj=/^[\d.\-M][\d.\-,\s]/,ij=/["']/g,rj=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),r=i[0],s=1,o=i.length,a,l,u;s<o;s++)l=i[s],a=s!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),t[r]=isNaN(u)?u.replace(ij,"").trim():+u,r=l.substr(a+1).trim();return t},sj=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)},oj=function(e){var t=(e+"").split("("),i=en[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[rj(t[1])]:sj(e).split(",").map(zk)):en._CE&&nj.test(e)?en._CE("",e):i},iO=function(e){return function(t){return 1-e(1-t)}},rO=function n(e,t){for(var i=e._first,r;i;)i instanceof Mr?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},ju=function(e,t){return e&&(ti(e)?e:en[e]||oj(e))||t},xc=function(e,t,i,r){i===void 0&&(i=function(l){return 1-t(1-l)}),r===void 0&&(r=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:i,easeInOut:r},o;return Wr(e,function(a){en[a]=_s[a]=s,en[o=a.toLowerCase()]=i;for(var l in s)en[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=en[a+"."+l]=s[l]}),s},sO=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},B1=function n(e,t,i){var r=t>=1?t:1,s=(i||(e?.3:.45))/(t<1?t:1),o=s/$S*(Math.asin(1/r)||0),a=function(f){return f===1?1:r*Math.pow(2,-10*f)*DW((f-o)*s)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:sO(a);return s=$S/s,l.config=function(u,f){return n(e,u,f)},l},V1=function n(e,t){t===void 0&&(t=1.70158);var i=function(o){return o?--o*o*((t+1)*o+t)+1:0},r=e==="out"?i:e==="in"?function(s){return 1-i(1-s)}:sO(i);return r.config=function(s){return n(e,s)},r};Wr("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;xc(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});en.Linear.easeNone=en.none=en.Linear.easeIn;xc("Elastic",B1("in"),B1("out"),B1());(function(n,e){var t=1/e,i=2*t,r=2.5*t,s=function(a){return a<t?n*a*a:a<i?n*Math.pow(a-1.5/e,2)+.75:a<r?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};xc("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);xc("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});xc("Circ",function(n){return-(Ck(1-n*n)-1)});xc("Sine",function(n){return n===1?1:-NW(n*IW)+1});xc("Back",V1("in"),V1("out"),V1());en.SteppedEase=en.steps=_s.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,r=e+(t?0:1),s=t?1:0,o=1-Sn;return function(a){return((r*Pm(0,o,a)|0)+s)*i}}};fh.ease=en["quad.out"];Wr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return FT+=n+","+n+"Params,"});var oO=function(e,t){this.id=LW++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Uk,this.set=t?t.getSetter:GT},jp=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,ph(this,+t.duration,1,1),this.data=t.data,Fn&&(this._ctx=Fn,Fn.data.push(this)),Wp||as.wake()}var e=n.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,ph(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(mh(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(m_(this,i),!s._dp||s.parent||Hk(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&Ro(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Sn||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),Fk(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+a2(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+a2(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?dh(this._tTime,s)+1:1},e.timeScale=function(i,r){if(!arguments.length)return this._rts===-Sn?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?My(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-Sn?0:this._rts,this.totalTime(Pm(-Math.abs(this._delay),this._tDur,s),r!==!1),p_(this),VW(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(mh(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Sn&&(this._tTime-=Sn)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Ro(r,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Gr(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?My(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=UW);var r=Xi;return Xi=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),Xi=r,this},e.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,l2(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,l2(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(Us(this,i),Gr(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,Gr(r)),this._dur||(this._zTime=-Sn),this},e.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-Sn:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Sn,this},e.isActive=function(){var i=this.parent||this._dp,r=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-Sn)},e.eventCallback=function(i,r,s){var o=this.vars;return arguments.length>1?(r?(o[i]=r,s&&(o[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=r)):delete o[i],this):o[i]},e.then=function(i){var r=this;return new Promise(function(s){var o=ti(i)?i:Bk,a=function(){var u=r.then;r.then=null,ti(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=u),s(o),r.then=u};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},e.kill=function(){Id(this)},n}();xs(jp.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Sn,_prom:0,_ps:!1,_rts:1});var Mr=function(n){bk(e,n);function e(i,r){var s;return i===void 0&&(i={}),s=n.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=Gr(i.sortChildren),Wn&&Ro(i.parent||Wn,la(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&Gk(la(s),i.scrollTrigger),s}var t=e.prototype;return t.to=function(r,s,o){return ep(0,arguments,this),this},t.from=function(r,s,o){return ep(1,arguments,this),this},t.fromTo=function(r,s,o,a){return ep(2,arguments,this),this},t.set=function(r,s,o){return s.duration=0,s.parent=this,Qd(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new pi(r,s,Us(this,o),1),this},t.call=function(r,s,o){return Ro(this,pi.delayedCall(0,r,s),o)},t.staggerTo=function(r,s,o,a,l,u,f){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=f,o.parent=this,new pi(r,o,Us(this,l)),this},t.staggerFrom=function(r,s,o,a,l,u,f){return o.runBackwards=1,Qd(o).immediateRender=Gr(o.immediateRender),this.staggerTo(r,s,o,a,l,u,f)},t.staggerFromTo=function(r,s,o,a,l,u,f,d){return a.startAt=o,Qd(a).immediateRender=Gr(a.immediateRender),this.staggerTo(r,s,a,l,u,f,d)},t.render=function(r,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,f=r<=0?0:mi(r),d=this._zTime<0!=r<0&&(this._initted||!u),p,m,v,_,x,g,w,S,E,b,P,R;if(this!==Wn&&f>l&&r>=0&&(f=l),f!==this._tTime||o||d){if(a!==this._time&&u&&(f+=this._time-a,r+=this._time-a),p=f,E=this._start,S=this._ts,g=!S,d&&(u||(a=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(P=this._yoyo,x=u+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(x*100+r,s,o);if(p=mi(f%x),f===l?(_=this._repeat,p=u):(b=mi(f/x),_=~~b,_&&_===b&&(p=u,_--),p>u&&(p=u)),b=dh(this._tTime,x),!a&&this._tTime&&b!==_&&this._tTime-b*x-this._dur<=0&&(b=_),P&&_&1&&(p=u-p,R=1),_!==b&&!this._lock){var I=P&&b&1,C=I===(P&&_&1);if(_<b&&(I=!I),a=I?0:f%u?u:f,this._lock=1,this.render(a||(R?0:mi(_*x)),s,!u)._lock=0,this._tTime=f,!s&&this.parent&&fs(this,"onRepeat"),this.vars.repeatRefresh&&!R&&(this.invalidate()._lock=1),a&&a!==this._time||g!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,C&&(this._lock=2,a=I?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!R&&this.invalidate()),this._lock=0,!this._ts&&!g)return this;rO(this,R)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(w=jW(this,mi(a),mi(p)),w&&(f-=p-(p=w._start))),this._tTime=f,this._time=p,this._act=!S,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&p&&!s&&!_&&(fs(this,"onStart"),this._tTime!==f))return this;if(p>=a&&r>=0)for(m=this._first;m;){if(v=m._next,(m._act||p>=m._start)&&m._ts&&w!==m){if(m.parent!==this)return this.render(r,s,o);if(m.render(m._ts>0?(p-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(p-m._start)*m._ts,s,o),p!==this._time||!this._ts&&!g){w=0,v&&(f+=this._zTime=-Sn);break}}m=v}else{m=this._last;for(var L=r<0?r:p;m;){if(v=m._prev,(m._act||L<=m._end)&&m._ts&&w!==m){if(m.parent!==this)return this.render(r,s,o);if(m.render(m._ts>0?(L-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(L-m._start)*m._ts,s,o||Xi&&(m._initted||m._startAt)),p!==this._time||!this._ts&&!g){w=0,v&&(f+=this._zTime=L?-Sn:Sn);break}}m=v}}if(w&&!s&&(this.pause(),w.render(p>=a?0:-Sn)._zTime=p>=a?1:-1,this._ts))return this._start=E,p_(this),this.render(r,s,o);this._onUpdate&&!s&&fs(this,"onUpdate",!0),(f===l&&this._tTime>=this.totalDuration()||!f&&a)&&(E===this._start||Math.abs(S)!==Math.abs(this._ts))&&(this._lock||((r||!u)&&(f===l&&this._ts>0||!f&&this._ts<0)&&kl(this,1),!s&&!(r<0&&!a)&&(f||a||!l)&&(fs(this,f===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var o=this;if(Aa(s)||(s=Us(this,s,r)),!(r instanceof jp)){if(lr(r))return r.forEach(function(a){return o.add(a,s)}),this;if(Vi(r))return this.addLabel(r,s);if(ti(r))r=pi.delayedCall(0,r);else return this}return this!==r?Ro(this,r,s):this},t.getChildren=function(r,s,o,a){r===void 0&&(r=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-Ws);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof pi?s&&l.push(u):(o&&l.push(u),r&&l.push.apply(l,u.getChildren(!0,s,o)))),u=u._next;return l},t.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},t.remove=function(r){return Vi(r)?this.removeLabel(r):ti(r)?this.killTweensOf(r):(r.parent===this&&d_(this,r),r===this._recent&&(this._recent=this._last),Wu(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=mi(as.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=Us(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,o){var a=pi.delayedCall(0,s||Hp,o);return a.data="isPause",this._hasPause=1,Ro(this,a,Us(this,r))},t.removePause=function(r){var s=this._first;for(r=Us(this,r);s;)s._start===r&&s.data==="isPause"&&kl(s),s=s._next},t.killTweensOf=function(r,s,o){for(var a=this.getTweensOf(r,o),l=a.length;l--;)ll!==a[l]&&a[l].kill(r,s);return this},t.getTweensOf=function(r,s){for(var o=[],a=js(r),l=this._first,u=Aa(s),f;l;)l instanceof pi?FW(l._targets,a)&&(u?(!ll||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(f=l.getTweensOf(a,s)).length&&o.push.apply(o,f),l=l._next;return o},t.tweenTo=function(r,s){s=s||{};var o=this,a=Us(o,r),l=s,u=l.startAt,f=l.onStart,d=l.onStartParams,p=l.immediateRender,m,v=pi.to(o,xs({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||Sn,onStart:function(){if(o.pause(),!m){var x=s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());v._dur!==x&&ph(v,x,0,1).render(v._time,!0,!0),m=1}f&&f.apply(v,d||[])}},s));return p?v.render(0):v},t.tweenFromTo=function(r,s,o){return this.tweenTo(s,xs({startAt:{time:Us(this,r)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),u2(this,Us(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),u2(this,Us(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Sn)},t.shiftChildren=function(r,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(s)for(u in l)l[u]>=o&&(l[u]+=r);return Wu(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return n.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Wu(this)},t.totalDuration=function(r){var s=0,o=this,a=o._last,l=Ws,u,f,d;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(d=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),f=a._start,f>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Ro(o,a,f-a._delay,1)._lock=0):l=f,f<0&&a._ts&&(s-=f,(!d&&!o._dp||d&&d.smoothChildTiming)&&(o._start+=f/o._ts,o._time-=f,o._tTime-=f),o.shiftChildren(-f,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=u;ph(o,o===Wn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(r){if(Wn._ts&&(Fk(Wn,My(r,Wn)),Ok=as.frame),as.frame>=s2){s2+=ds.autoSleep||120;var s=Wn._first;if((!s||!s._ts)&&ds.autoSleep&&as._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||as.sleep()}}},e}(jp);xs(Mr.prototype,{_lock:0,_hasPause:0,_forcing:0});var aj=function(e,t,i,r,s,o,a){var l=new jr(this._pt,e,t,0,1,hO,null,s),u=0,f=0,d,p,m,v,_,x,g,w;for(l.b=i,l.e=r,i+="",r+="",(g=~r.indexOf("random("))&&(r=Gp(r)),o&&(w=[i,r],o(w,e,t),i=w[0],r=w[1]),p=i.match(U1)||[];d=U1.exec(r);)v=d[0],_=r.substring(u,d.index),m?m=(m+1)%5:_.substr(-5)==="rgba("&&(m=1),v!==p[f++]&&(x=parseFloat(p[f-1])||0,l._pt={_next:l._pt,p:_||f===1?_:",",s:x,c:v.charAt(1)==="="?qf(x,v)-x:parseFloat(v)-x,m:m&&m<4?Math.round:0},u=U1.lastIndex);return l.c=u<r.length?r.substring(u,r.length):"",l.fp=a,(Ik.test(r)||g)&&(l.e=0),this._pt=l,l},BT=function(e,t,i,r,s,o,a,l,u,f){ti(r)&&(r=r(s||0,e,o));var d=e[t],p=i!=="get"?i:ti(d)?u?e[t.indexOf("set")||!ti(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():d,m=ti(d)?u?hj:cO:HT,v;if(Vi(r)&&(~r.indexOf("random(")&&(r=Gp(r)),r.charAt(1)==="="&&(v=qf(p,r)+(or(p)||0),(v||v===0)&&(r=v))),!f||p!==r||sM)return!isNaN(p*r)&&r!==""?(v=new jr(this._pt,e,t,+p||0,r-(p||0),typeof d=="boolean"?pj:fO,0,m),u&&(v.fp=u),a&&v.modifier(a,this,e),this._pt=v):(!d&&!(t in e)&&OT(t,r),aj.call(this,e,t,p,r,m,l||ds.stringFilter,u))},lj=function(e,t,i,r,s){if(ti(e)&&(e=tp(e,s,t,i,r)),!Go(e)||e.style&&e.nodeType||lr(e)||Pk(e))return Vi(e)?tp(e,s,t,i,r):e;var o={},a;for(a in e)o[a]=tp(e[a],s,t,i,r);return o},aO=function(e,t,i,r,s,o){var a,l,u,f;if(ss[e]&&(a=new ss[e]).init(s,a.rawVars?t[e]:lj(t[e],r,s,o,i),i,r,o)!==!1&&(i._pt=l=new jr(i._pt,s,e,0,1,a.render,a,0,a.priority),i!==kf))for(u=i._ptLookup[i._targets.indexOf(s)],f=a._props.length;f--;)u[a._props[f]]=l;return a},ll,sM,VT=function n(e,t,i){var r=e.vars,s=r.ease,o=r.startAt,a=r.immediateRender,l=r.lazy,u=r.onUpdate,f=r.runBackwards,d=r.yoyoEase,p=r.keyframes,m=r.autoRevert,v=e._dur,_=e._startAt,x=e._targets,g=e.parent,w=g&&g.data==="nested"?g.vars.targets:x,S=e._overwrite==="auto"&&!LT,E=e.timeline,b,P,R,I,C,L,B,W,ie,z,ne,ee,re;if(E&&(!p||!s)&&(s="none"),e._ease=ju(s,fh.ease),e._yEase=d?iO(ju(d===!0?s:d,fh.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!E&&!!r.runBackwards,!E||p&&!r.stagger){if(W=x[0]?Gu(x[0]).harness:0,ee=W&&r[W.prop],b=Sy(r,UT),_&&(_._zTime<0&&_.progress(1),t<0&&f&&a&&!m?_.render(-1,!0):_.revert(f&&v?Sv:OW),_._lazy=0),o){if(kl(e._startAt=pi.set(x,xs({data:"isStart",overwrite:!1,parent:g,immediateRender:!0,lazy:!_&&Gr(l),startAt:null,delay:0,onUpdate:u&&function(){return fs(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Xi||!a&&!m)&&e._startAt.revert(Sv),a&&v&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(f&&v&&!_){if(t&&(a=!1),R=xs({overwrite:!1,data:"isFromStart",lazy:a&&!_&&Gr(l),immediateRender:a,stagger:0,parent:g},b),ee&&(R[W.prop]=ee),kl(e._startAt=pi.set(x,R)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Xi?e._startAt.revert(Sv):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,Sn,Sn);else if(!t)return}for(e._pt=e._ptCache=0,l=v&&Gr(l)||l&&!v,P=0;P<x.length;P++){if(C=x[P],B=C._gsap||zT(x)[P]._gsap,e._ptLookup[P]=z={},QS[B.id]&&Tl.length&&wy(),ne=w===x?P:w.indexOf(C),W&&(ie=new W).init(C,ee||b,e,ne,w)!==!1&&(e._pt=I=new jr(e._pt,C,ie.name,0,1,ie.render,ie,0,ie.priority),ie._props.forEach(function(X){z[X]=I}),ie.priority&&(L=1)),!W||ee)for(R in b)ss[R]&&(ie=aO(R,b,e,ne,C,w))?ie.priority&&(L=1):z[R]=I=BT.call(e,C,R,"get",b[R],ne,w,0,r.stringFilter);e._op&&e._op[P]&&e.kill(C,e._op[P]),S&&e._pt&&(ll=e,Wn.killTweensOf(C,z,e.globalTime(t)),re=!e.parent,ll=0),e._pt&&l&&(QS[B.id]=1)}L&&dO(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!re,p&&t<=0&&E.render(Ws,!0,!0)},uj=function(e,t,i,r,s,o,a,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[t],f,d,p,m;if(!u)for(u=e._ptCache[t]=[],p=e._ptLookup,m=e._targets.length;m--;){if(f=p[m][t],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==t&&f.fp!==t;)f=f._next;if(!f)return sM=1,e.vars[t]="+=0",VT(e,a),sM=0,l?Vp(t+" not eligible for reset"):1;u.push(f)}for(m=u.length;m--;)d=u[m],f=d._pt||d,f.s=(r||r===0)&&!s?r:f.s+(r||0)+o*f.c,f.c=i-f.s,d.e&&(d.e=si(i)+or(d.e)),d.b&&(d.b=f.s+or(d.b))},cj=function(e,t){var i=e[0]?Gu(e[0]).harness:0,r=i&&i.aliases,s,o,a,l;if(!r)return t;s=hh({},t);for(o in r)if(o in s)for(l=r[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},fj=function(e,t,i,r){var s=t.ease||r||"power1.inOut",o,a;if(lr(t))a=i[e]||(i[e]=[]),t.forEach(function(l,u){return a.push({t:u/(t.length-1)*100,v:l,e:s})});else for(o in t)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},tp=function(e,t,i,r,s){return ti(e)?e.call(t,i,r,s):Vi(e)&&~e.indexOf("random(")?Gp(e):e},lO=FT+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",uO={};Wr(lO+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return uO[n]=1});var pi=function(n){bk(e,n);function e(i,r,s,o){var a;typeof r=="number"&&(s.duration=r,r=s,s=null),a=n.call(this,o?r:Qd(r))||this;var l=a.vars,u=l.duration,f=l.delay,d=l.immediateRender,p=l.stagger,m=l.overwrite,v=l.keyframes,_=l.defaults,x=l.scrollTrigger,g=l.yoyoEase,w=r.parent||Wn,S=(lr(i)||Pk(i)?Aa(i[0]):"length"in r)?[i]:js(i),E,b,P,R,I,C,L,B;if(a._targets=S.length?zT(S):Vp("GSAP target "+i+" not found. https://gsap.com",!ds.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=m,v||p||i0(u)||i0(f)){if(r=a.vars,E=a.timeline=new Mr({data:"nested",defaults:_||{},targets:w&&w.data==="nested"?w.vars.targets:S}),E.kill(),E.parent=E._dp=la(a),E._start=0,p||i0(u)||i0(f)){if(R=S.length,L=p&&Yk(p),Go(p))for(I in p)~lO.indexOf(I)&&(B||(B={}),B[I]=p[I]);for(b=0;b<R;b++)P=Sy(r,uO),P.stagger=0,g&&(P.yoyoEase=g),B&&hh(P,B),C=S[b],P.duration=+tp(u,la(a),b,C,S),P.delay=(+tp(f,la(a),b,C,S)||0)-a._delay,!p&&R===1&&P.delay&&(a._delay=f=P.delay,a._start+=f,P.delay=0),E.to(C,P,L?L(b,C,S):0),E._ease=en.none;E.duration()?u=f=0:a.timeline=0}else if(v){Qd(xs(E.vars.defaults,{ease:"none"})),E._ease=ju(v.ease||r.ease||"none");var W=0,ie,z,ne;if(lr(v))v.forEach(function(ee){return E.to(S,ee,">")}),E.duration();else{P={};for(I in v)I==="ease"||I==="easeEach"||fj(I,v[I],P,v.easeEach);for(I in P)for(ie=P[I].sort(function(ee,re){return ee.t-re.t}),W=0,b=0;b<ie.length;b++)z=ie[b],ne={ease:z.e,duration:(z.t-(b?ie[b-1].t:0))/100*u},ne[I]=z.v,E.to(S,ne,W),W+=ne.duration;E.duration()<u&&E.to({},{duration:u-E.duration()})}}u||a.duration(u=E.duration())}else a.timeline=0;return m===!0&&!LT&&(ll=la(a),Wn.killTweensOf(S),ll=0),Ro(w,la(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(d||!u&&!v&&a._start===mi(w._time)&&Gr(d)&&HW(la(a))&&w.data!=="nested")&&(a._tTime=-Sn,a.render(Math.max(0,-f)||0)),x&&Gk(la(a),x),a}var t=e.prototype;return t.render=function(r,s,o){var a=this._time,l=this._tDur,u=this._dur,f=r<0,d=r>l-Sn&&!f?l:r<Sn?0:r,p,m,v,_,x,g,w,S,E;if(!u)WW(this,r,s,o);else if(d!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f||this._lazy){if(p=d,S=this.timeline,this._repeat){if(_=u+this._rDelay,this._repeat<-1&&f)return this.totalTime(_*100+r,s,o);if(p=mi(d%_),d===l?(v=this._repeat,p=u):(x=mi(d/_),v=~~x,v&&v===x?(p=u,v--):p>u&&(p=u)),g=this._yoyo&&v&1,g&&(E=this._yEase,p=u-p),x=dh(this._tTime,_),p===a&&!o&&this._initted&&v===x)return this._tTime=d,this;v!==x&&(S&&this._yEase&&rO(S,g),this.vars.repeatRefresh&&!g&&!this._lock&&p!==_&&this._initted&&(this._lock=o=1,this.render(mi(_*v),!0).invalidate()._lock=0))}if(!this._initted){if(Wk(this,f?r:p,o,s,d))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&v!==x))return this;if(u!==this._dur)return this.render(r,s,o)}if(this._tTime=d,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=w=(E||this._ease)(p/u),this._from&&(this.ratio=w=1-w),p&&!a&&!s&&!v&&(fs(this,"onStart"),this._tTime!==d))return this;for(m=this._pt;m;)m.r(w,m.d),m=m._next;S&&S.render(r<0?r:S._dur*S._ease(p/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(f&&eM(this,r,s,o),fs(this,"onUpdate")),this._repeat&&v!==x&&this.vars.onRepeat&&!s&&this.parent&&fs(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(f&&!this._onUpdate&&eM(this,r,!0,!0),(r||!u)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&kl(this,1),!s&&!(f&&!a)&&(d||a||g)&&(fs(this,d===l?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),n.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,o,a,l){Wp||as.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||VT(this,u),f=this._ease(u/this._dur),uj(this,r,s,o,a,f,u,l)?this.resetTo(r,s,o,a,1):(m_(this,0),this.parent||Vk(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Id(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Xi),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,ll&&ll.vars.overwrite!==!0)._first||Id(this),this.parent&&o!==this.timeline.totalDuration()&&ph(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=r?js(r):a,u=this._ptLookup,f=this._pt,d,p,m,v,_,x,g;if((!s||s==="all")&&BW(a,l))return s==="all"&&(this._pt=0),Id(this);for(d=this._op=this._op||[],s!=="all"&&(Vi(s)&&(_={},Wr(s,function(w){return _[w]=1}),s=_),s=cj(a,s)),g=a.length;g--;)if(~l.indexOf(a[g])){p=u[g],s==="all"?(d[g]=s,v=p,m={}):(m=d[g]=d[g]||{},v=s);for(_ in v)x=p&&p[_],x&&((!("kill"in x.d)||x.d.kill(_)===!0)&&d_(this,x,"_pt"),delete p[_]),m!=="all"&&(m[_]=1)}return this._initted&&!this._pt&&f&&Id(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return ep(1,arguments)},e.delayedCall=function(r,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(r,s,o){return ep(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,o){return Wn.killTweensOf(r,s,o)},e}(jp);xs(pi.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Wr("staggerTo,staggerFrom,staggerFromTo",function(n){pi[n]=function(){var e=new Mr,t=nM.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var HT=function(e,t,i){return e[t]=i},cO=function(e,t,i){return e[t](i)},hj=function(e,t,i,r){return e[t](r.fp,i)},dj=function(e,t,i){return e.setAttribute(t,i)},GT=function(e,t){return ti(e[t])?cO:NT(e[t])&&e.setAttribute?dj:HT},fO=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},pj=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},hO=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},WT=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},mj=function(e,t,i,r){for(var s=this._pt,o;s;)o=s._next,s.p===r&&s.modifier(e,t,i),s=o},gj=function(e){for(var t=this._pt,i,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?d_(this,t,"_pt"):t.dep||(i=1),t=r;return!i},vj=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},dO=function(e){for(var t=e._pt,i,r,s,o;t;){for(i=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:o)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:o=t,t=i}e._pt=s},jr=function(){function n(t,i,r,s,o,a,l,u,f){this.t=i,this.s=s,this.c=o,this.p=r,this.r=a||fO,this.d=l||this,this.set=u||HT,this.pr=f||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=vj,this.m=i,this.mt=s,this.tween=r},n}();Wr(FT+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return UT[n]=1});_s.TweenMax=_s.TweenLite=pi;_s.TimelineLite=_s.TimelineMax=Mr;Wn=new Mr({sortChildren:!1,defaults:fh,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ds.stringFilter=nO;var Xu=[],Ev={},yj=[],f2=0,_j=0,H1=function(e){return(Ev[e]||yj).map(function(t){return t()})},oM=function(){var e=Date.now(),t=[];e-f2>2&&(H1("matchMediaInit"),Xu.forEach(function(i){var r=i.queries,s=i.conditions,o,a,l,u;for(a in r)o=bo.matchMedia(r[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,u=1);u&&(i.revert(),l&&t.push(i))}),H1("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(r){return i.add(null,r)})}),f2=e,H1("matchMedia"))},pO=function(){function n(t,i){this.selector=i&&iM(i),this.data=[],this._r=[],this.isReverted=!1,this.id=_j++,t&&this.add(t)}var e=n.prototype;return e.add=function(i,r,s){ti(i)&&(s=r,r=i,i=ti);var o=this,a=function(){var u=Fn,f=o.selector,d;return u&&u!==o&&u.data.push(o),s&&(o.selector=iM(s)),Fn=o,d=r.apply(o,arguments),ti(d)&&o._r.push(d),Fn=u,o.selector=f,o.isReverted=!1,d};return o.last=a,i===ti?a(o,function(l){return o.add(null,l)}):i?o[i]=a:a},e.ignore=function(i){var r=Fn;Fn=null,i(this),Fn=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof n?i.push.apply(i,r.getTweens()):r instanceof pi&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var s=this;if(i?function(){for(var a=s.getTweens(),l=s.data.length,u;l--;)u=s.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(f){return a.splice(a.indexOf(f),1)}));for(a.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,d){return d.g-f.g||-1/0}).forEach(function(f){return f.t.revert(i)}),l=s.data.length;l--;)u=s.data[l],u instanceof Mr?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof pi)&&u.revert&&u.revert(i);s._r.forEach(function(f){return f(i,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),r)for(var o=Xu.length;o--;)Xu[o].id===this.id&&Xu.splice(o,1)},e.revert=function(i){this.kill(i||{})},n}(),xj=function(){function n(t){this.contexts=[],this.scope=t,Fn&&Fn.data.push(this)}var e=n.prototype;return e.add=function(i,r,s){Go(i)||(i={matches:i});var o=new pO(0,s||this.scope),a=o.conditions={},l,u,f;Fn&&!o.selector&&(o.selector=Fn.selector),this.contexts.push(o),r=o.add("onMatch",r),o.queries=i;for(u in i)u==="all"?f=1:(l=bo.matchMedia(i[u]),l&&(Xu.indexOf(o)<0&&Xu.push(o),(a[u]=l.matches)&&(f=1),l.addListener?l.addListener(oM):l.addEventListener("change",oM)));return f&&r(o,function(d){return o.add(null,d)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},n}(),Ey={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return Qk(r)})},timeline:function(e){return new Mr(e)},getTweensOf:function(e,t){return Wn.getTweensOf(e,t)},getProperty:function(e,t,i,r){Vi(e)&&(e=js(e)[0]);var s=Gu(e||{}).get,o=i?Bk:zk;return i==="native"&&(i=""),e&&(t?o((ss[t]&&ss[t].get||s)(e,t,i,r)):function(a,l,u){return o((ss[a]&&ss[a].get||s)(e,a,l,u))})},quickSetter:function(e,t,i){if(e=js(e),e.length>1){var r=e.map(function(f){return Zr.quickSetter(f,t,i)}),s=r.length;return function(f){for(var d=s;d--;)r[d](f)}}e=e[0]||{};var o=ss[t],a=Gu(e),l=a.harness&&(a.harness.aliases||{})[t]||t,u=o?function(f){var d=new o;kf._pt=0,d.init(e,i?f+i:f,kf,0,[e]),d.render(1,d),kf._pt&&WT(1,kf)}:a.set(e,l);return o?u:function(f){return u(e,l,i?f+i:f,a,1)}},quickTo:function(e,t,i){var r,s=Zr.to(e,xs((r={},r[t]="+=0.1",r.paused=!0,r.stagger=0,r),i||{})),o=function(l,u,f){return s.resetTo(t,l,u,f)};return o.tween=s,o},isTweening:function(e){return Wn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=ju(e.ease,fh.ease)),o2(fh,e||{})},config:function(e){return o2(ds,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,r=e.plugins,s=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach(function(a){return a&&!ss[a]&&!_s[a]&&Vp(t+" effect requires "+a+" plugin.")}),F1[t]=function(a,l,u){return i(js(a),xs(l||{},s),u)},o&&(Mr.prototype[t]=function(a,l,u){return this.add(F1[t](a,Go(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,t){en[e]=ju(t)},parseEase:function(e,t){return arguments.length?ju(e,t):en},getById:function(e){return Wn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new Mr(e),r,s;for(i.smoothChildTiming=Gr(e.smoothChildTiming),Wn.remove(i),i._dp=0,i._time=i._tTime=Wn._time,r=Wn._first;r;)s=r._next,(t||!(!r._dur&&r instanceof pi&&r.vars.onComplete===r._targets[0]))&&Ro(i,r,r._start-r._delay),r=s;return Ro(Wn,i,0),i},context:function(e,t){return e?new pO(e,t):Fn},matchMedia:function(e){return new xj(e)},matchMediaRefresh:function(){return Xu.forEach(function(e){var t=e.conditions,i,r;for(r in t)t[r]&&(t[r]=!1,i=1);i&&e.revert()})||oM()},addEventListener:function(e,t){var i=Ev[e]||(Ev[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=Ev[e],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:JW,wrapYoyo:QW,distribute:Yk,random:Zk,snap:qk,normalize:KW,getUnit:or,clamp:YW,splitColor:eO,toArray:js,selector:iM,mapRange:Kk,pipe:ZW,unitize:$W,interpolate:ej,shuffle:Xk},install:Dk,effects:F1,ticker:as,updateRoot:Mr.updateRoot,plugins:ss,globalTimeline:Wn,core:{PropTween:jr,globals:kk,Tween:pi,Timeline:Mr,Animation:jp,getCache:Gu,_removeLinkedListItem:d_,reverting:function(){return Xi},context:function(e){return e&&Fn&&(Fn.data.push(e),e._ctx=Fn),Fn},suppressOverwrites:function(e){return LT=e}}};Wr("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return Ey[n]=pi[n]});as.add(Mr.updateRoot);kf=Ey.to({},{duration:0});var wj=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},Sj=function(e,t){var i=e._targets,r,s,o;for(r in t)for(s=i.length;s--;)o=e._ptLookup[s][r],o&&(o=o.d)&&(o._pt&&(o=wj(o,r)),o&&o.modifier&&o.modifier(t[r],e,i[s],r))},G1=function(e,t){return{name:e,rawVars:1,init:function(r,s,o){o._onInit=function(a){var l,u;if(Vi(s)&&(l={},Wr(s,function(f){return l[f]=1}),s=l),t){l={};for(u in s)l[u]=t(s[u]);s=l}Sj(a,s)}}}},Zr=Ey.registerPlugin({name:"attr",init:function(e,t,i,r,s){var o,a,l;this.tween=i;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],r,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var i=t._pt;i;)Xi?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},G1("roundProps",rM),G1("modifiers"),G1("snap",qk))||Ey;pi.version=Mr.version=Zr.version="3.12.7";Nk=1;DT()&&mh();en.Power0;en.Power1;en.Power2;en.Power3;en.Power4;en.Linear;en.Quad;en.Cubic;en.Quart;en.Quint;en.Strong;en.Elastic;en.Back;en.SteppedEase;en.Bounce;en.Sine;en.Expo;en.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var h2,ul,Zf,jT,Nu,d2,XT,Mj=function(){return typeof window<"u"},ba={},Mu=180/Math.PI,$f=Math.PI/180,Vc=Math.atan2,p2=1e8,YT=/([A-Z])/g,Ej=/(left|right|width|margin|padding|x)/i,Tj=/[\s,\(]\S/,Io={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},aM=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Aj=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},bj=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Cj=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},mO=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},gO=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},Pj=function(e,t,i){return e.style[t]=i},Rj=function(e,t,i){return e.style.setProperty(t,i)},Ij=function(e,t,i){return e._gsap[t]=i},Lj=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},Nj=function(e,t,i,r,s){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},Dj=function(e,t,i,r,s){var o=e._gsap;o[t]=i,o.renderTransform(s,o)},Xn="transform",Xr=Xn+"Origin",kj=function n(e,t){var i=this,r=this.target,s=r.style,o=r._gsap;if(e in ba&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Io[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return i.tfm[a]=ca(r,a)}):this.tfm[e]=o.x?o[e]:ca(r,e),e===Xr&&(this.tfm.zOrigin=o.zOrigin);else return Io.transform.split(",").forEach(function(a){return n.call(i,a,t)});if(this.props.indexOf(Xn)>=0)return;o.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(Xr,t,"")),e=Xn}(s||t)&&this.props.push(e,t,s[e])},vO=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Oj=function(){var e=this.props,t=this.target,i=t.style,r=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(YT,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)r[o]=this.tfm[o];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=XT(),(!s||!s.isStart)&&!i[Xn]&&(vO(i),r.zOrigin&&i[Xr]&&(i[Xr]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},yO=function(e,t){var i={target:e,props:[],revert:Oj,save:kj};return e._gsap||Zr.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return i.save(r)}),i},_O,lM=function(e,t){var i=ul.createElementNS?ul.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ul.createElement(e);return i&&i.style?i:ul.createElement(e)},Fo=function n(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(YT,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&n(e,gh(t)||t,1)||""},m2="O,Moz,ms,Ms,Webkit".split(","),gh=function(e,t,i){var r=t||Nu,s=r.style,o=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(m2[o]+e in s););return o<0?null:(o===3?"ms":o>=0?m2[o]:"")+e},uM=function(){Mj()&&window.document&&(h2=window,ul=h2.document,Zf=ul.documentElement,Nu=lM("div")||{style:{}},lM("div"),Xn=gh(Xn),Xr=Xn+"Origin",Nu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_O=!!gh("perspective"),XT=Zr.core.reverting,jT=1)},g2=function(e){var t=e.ownerSVGElement,i=lM("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),s;r.style.display="block",i.appendChild(r),Zf.appendChild(i);try{s=r.getBBox()}catch{}return i.removeChild(r),Zf.removeChild(i),s},v2=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},xO=function(e){var t,i;try{t=e.getBBox()}catch{t=g2(e),i=1}return t&&(t.width||t.height)||i||(t=g2(e)),t&&!t.width&&!t.x&&!t.y?{x:+v2(e,["x","cx","x1"])||0,y:+v2(e,["y","cy","y1"])||0,width:0,height:0}:t},wO=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&xO(e))},oc=function(e,t){if(t){var i=e.style,r;t in ba&&t!==Xr&&(t=Xn),i.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(r==="--"?t:t.replace(YT,"-$1").toLowerCase())):i.removeAttribute(t)}},cl=function(e,t,i,r,s,o){var a=new jr(e._pt,t,i,0,1,o?gO:mO);return e._pt=a,a.b=r,a.e=s,e._props.push(i),a},y2={deg:1,rad:1,turn:1},Uj={grid:1,flex:1},Ol=function n(e,t,i,r){var s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",a=Nu.style,l=Ej.test(t),u=e.tagName.toLowerCase()==="svg",f=(u?"client":"offset")+(l?"Width":"Height"),d=100,p=r==="px",m=r==="%",v,_,x,g;if(r===o||!s||y2[r]||y2[o])return s;if(o!=="px"&&!p&&(s=n(e,t,i,"px")),g=e.getCTM&&wO(e),(m||o==="%")&&(ba[t]||~t.indexOf("adius")))return v=g?e.getBBox()[l?"width":"height"]:e[f],si(m?s/v*d:s/100*v);if(a[l?"width":"height"]=d+(p?o:r),_=r!=="rem"&&~t.indexOf("adius")||r==="em"&&e.appendChild&&!u?e:e.parentNode,g&&(_=(e.ownerSVGElement||{}).parentNode),(!_||_===ul||!_.appendChild)&&(_=ul.body),x=_._gsap,x&&m&&x.width&&l&&x.time===as.time&&!x.uncache)return si(s/x.width*d);if(m&&(t==="height"||t==="width")){var w=e.style[t];e.style[t]=d+r,v=e[f],w?e.style[t]=w:oc(e,t)}else(m||o==="%")&&!Uj[Fo(_,"display")]&&(a.position=Fo(e,"position")),_===e&&(a.position="static"),_.appendChild(Nu),v=Nu[f],_.removeChild(Nu),a.position="absolute";return l&&m&&(x=Gu(_),x.time=as.time,x.width=_[f]),si(p?v*s/d:v&&s?d/v*s:0)},ca=function(e,t,i,r){var s;return jT||uM(),t in Io&&t!=="transform"&&(t=Io[t],~t.indexOf(",")&&(t=t.split(",")[0])),ba[t]&&t!=="transform"?(s=Yp(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:Ay(Fo(e,Xr))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=Ty[t]&&Ty[t](e,t,i)||Fo(e,t)||Uk(e,t)||(t==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?Ol(e,t,s,i)+i:s},Fj=function(e,t,i,r){if(!i||i==="none"){var s=gh(t,e,1),o=s&&Fo(e,s,1);o&&o!==i?(t=s,i=o):t==="borderColor"&&(i=Fo(e,"borderTopColor"))}var a=new jr(this._pt,e.style,t,0,1,hO),l=0,u=0,f,d,p,m,v,_,x,g,w,S,E,b;if(a.b=i,a.e=r,i+="",r+="",r==="auto"&&(_=e.style[t],e.style[t]=r,r=Fo(e,t)||r,_?e.style[t]=_:oc(e,t)),f=[i,r],nO(f),i=f[0],r=f[1],p=i.match(Df)||[],b=r.match(Df)||[],b.length){for(;d=Df.exec(r);)x=d[0],w=r.substring(l,d.index),v?v=(v+1)%5:(w.substr(-5)==="rgba("||w.substr(-5)==="hsla(")&&(v=1),x!==(_=p[u++]||"")&&(m=parseFloat(_)||0,E=_.substr((m+"").length),x.charAt(1)==="="&&(x=qf(m,x)+E),g=parseFloat(x),S=x.substr((g+"").length),l=Df.lastIndex-S.length,S||(S=S||ds.units[t]||E,l===r.length&&(r+=S,a.e+=S)),E!==S&&(m=Ol(e,t,_,S)||0),a._pt={_next:a._pt,p:w||u===1?w:",",s:m,c:g-m,m:v&&v<4||t==="zIndex"?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r=t==="display"&&r==="none"?gO:mO;return Ik.test(r)&&(a.e=0),this._pt=a,a},_2={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},zj=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(e=i,i=r,r=e),t[0]=_2[i]||i,t[1]=_2[r]||r,t.join(" ")},Bj=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,r=i.style,s=t.u,o=i._gsap,a,l,u;if(s==="all"||s===!0)r.cssText="",l=1;else for(s=s.split(","),u=s.length;--u>-1;)a=s[u],ba[a]&&(l=1,a=a==="transformOrigin"?Xr:Xn),oc(i,a);l&&(oc(i,Xn),o&&(o.svg&&i.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",Yp(i,1),o.uncache=1,vO(r)))}},Ty={clearProps:function(e,t,i,r,s){if(s.data!=="isFromStart"){var o=e._pt=new jr(e._pt,t,i,0,0,Bj);return o.u=r,o.pr=-10,o.tween=s,e._props.push(i),1}}},Xp=[1,0,0,1,0,0],SO={},MO=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},x2=function(e){var t=Fo(e,Xn);return MO(t)?Xp:t.substr(7).match(Rk).map(si)},qT=function(e,t){var i=e._gsap||Gu(e),r=e.style,s=x2(e),o,a,l,u;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Xp:s):(s===Xp&&!e.offsetParent&&e!==Zf&&!i.svg&&(l=r.display,r.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,a=e.nextElementSibling,Zf.appendChild(e)),s=x2(e),l?r.display=l:oc(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):Zf.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},cM=function(e,t,i,r,s,o){var a=e._gsap,l=s||qT(e,!0),u=a.xOrigin||0,f=a.yOrigin||0,d=a.xOffset||0,p=a.yOffset||0,m=l[0],v=l[1],_=l[2],x=l[3],g=l[4],w=l[5],S=t.split(" "),E=parseFloat(S[0])||0,b=parseFloat(S[1])||0,P,R,I,C;i?l!==Xp&&(R=m*x-v*_)&&(I=E*(x/R)+b*(-_/R)+(_*w-x*g)/R,C=E*(-v/R)+b*(m/R)-(m*w-v*g)/R,E=I,b=C):(P=xO(e),E=P.x+(~S[0].indexOf("%")?E/100*P.width:E),b=P.y+(~(S[1]||S[0]).indexOf("%")?b/100*P.height:b)),r||r!==!1&&a.smooth?(g=E-u,w=b-f,a.xOffset=d+(g*m+w*_)-g,a.yOffset=p+(g*v+w*x)-w):a.xOffset=a.yOffset=0,a.xOrigin=E,a.yOrigin=b,a.smooth=!!r,a.origin=t,a.originIsAbsolute=!!i,e.style[Xr]="0px 0px",o&&(cl(o,a,"xOrigin",u,E),cl(o,a,"yOrigin",f,b),cl(o,a,"xOffset",d,a.xOffset),cl(o,a,"yOffset",p,a.yOffset)),e.setAttribute("data-svg-origin",E+" "+b)},Yp=function(e,t){var i=e._gsap||new oO(e);if("x"in i&&!t&&!i.uncache)return i;var r=e.style,s=i.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=Fo(e,Xr)||"0",f,d,p,m,v,_,x,g,w,S,E,b,P,R,I,C,L,B,W,ie,z,ne,ee,re,X,Q,k,G,te,me,xe,Ce;return f=d=p=_=x=g=w=S=E=0,m=v=1,i.svg=!!(e.getCTM&&wO(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[Xn]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Xn]!=="none"?l[Xn]:"")),r.scale=r.rotate=r.translate="none"),R=qT(e,i.svg),i.svg&&(i.uncache?(X=e.getBBox(),u=i.xOrigin-X.x+"px "+(i.yOrigin-X.y)+"px",re=""):re=!t&&e.getAttribute("data-svg-origin"),cM(e,re||u,!!re||i.originIsAbsolute,i.smooth!==!1,R)),b=i.xOrigin||0,P=i.yOrigin||0,R!==Xp&&(B=R[0],W=R[1],ie=R[2],z=R[3],f=ne=R[4],d=ee=R[5],R.length===6?(m=Math.sqrt(B*B+W*W),v=Math.sqrt(z*z+ie*ie),_=B||W?Vc(W,B)*Mu:0,w=ie||z?Vc(ie,z)*Mu+_:0,w&&(v*=Math.abs(Math.cos(w*$f))),i.svg&&(f-=b-(b*B+P*ie),d-=P-(b*W+P*z))):(Ce=R[6],me=R[7],k=R[8],G=R[9],te=R[10],xe=R[11],f=R[12],d=R[13],p=R[14],I=Vc(Ce,te),x=I*Mu,I&&(C=Math.cos(-I),L=Math.sin(-I),re=ne*C+k*L,X=ee*C+G*L,Q=Ce*C+te*L,k=ne*-L+k*C,G=ee*-L+G*C,te=Ce*-L+te*C,xe=me*-L+xe*C,ne=re,ee=X,Ce=Q),I=Vc(-ie,te),g=I*Mu,I&&(C=Math.cos(-I),L=Math.sin(-I),re=B*C-k*L,X=W*C-G*L,Q=ie*C-te*L,xe=z*L+xe*C,B=re,W=X,ie=Q),I=Vc(W,B),_=I*Mu,I&&(C=Math.cos(I),L=Math.sin(I),re=B*C+W*L,X=ne*C+ee*L,W=W*C-B*L,ee=ee*C-ne*L,B=re,ne=X),x&&Math.abs(x)+Math.abs(_)>359.9&&(x=_=0,g=180-g),m=si(Math.sqrt(B*B+W*W+ie*ie)),v=si(Math.sqrt(ee*ee+Ce*Ce)),I=Vc(ne,ee),w=Math.abs(I)>2e-4?I*Mu:0,E=xe?1/(xe<0?-xe:xe):0),i.svg&&(re=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!MO(Fo(e,Xn)),re&&e.setAttribute("transform",re))),Math.abs(w)>90&&Math.abs(w)<270&&(s?(m*=-1,w+=_<=0?180:-180,_+=_<=0?180:-180):(v*=-1,w+=w<=0?180:-180)),t=t||i.uncache,i.x=f-((i.xPercent=f&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-f)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+o,i.y=d-((i.yPercent=d&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-d)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+o,i.z=p+o,i.scaleX=si(m),i.scaleY=si(v),i.rotation=si(_)+a,i.rotationX=si(x)+a,i.rotationY=si(g)+a,i.skewX=w+a,i.skewY=S+a,i.transformPerspective=E+o,(i.zOrigin=parseFloat(u.split(" ")[2])||!t&&i.zOrigin||0)&&(r[Xr]=Ay(u)),i.xOffset=i.yOffset=0,i.force3D=ds.force3D,i.renderTransform=i.svg?Hj:_O?EO:Vj,i.uncache=0,i},Ay=function(e){return(e=e.split(" "))[0]+" "+e[1]},W1=function(e,t,i){var r=or(t);return si(parseFloat(t)+parseFloat(Ol(e,"x",i+"px",r)))+r},Vj=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,EO(e,t)},au="0deg",ud="0px",lu=") ",EO=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.z,u=i.rotation,f=i.rotationY,d=i.rotationX,p=i.skewX,m=i.skewY,v=i.scaleX,_=i.scaleY,x=i.transformPerspective,g=i.force3D,w=i.target,S=i.zOrigin,E="",b=g==="auto"&&e&&e!==1||g===!0;if(S&&(d!==au||f!==au)){var P=parseFloat(f)*$f,R=Math.sin(P),I=Math.cos(P),C;P=parseFloat(d)*$f,C=Math.cos(P),o=W1(w,o,R*C*-S),a=W1(w,a,-Math.sin(P)*-S),l=W1(w,l,I*C*-S+S)}x!==ud&&(E+="perspective("+x+lu),(r||s)&&(E+="translate("+r+"%, "+s+"%) "),(b||o!==ud||a!==ud||l!==ud)&&(E+=l!==ud||b?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+lu),u!==au&&(E+="rotate("+u+lu),f!==au&&(E+="rotateY("+f+lu),d!==au&&(E+="rotateX("+d+lu),(p!==au||m!==au)&&(E+="skew("+p+", "+m+lu),(v!==1||_!==1)&&(E+="scale("+v+", "+_+lu),w.style[Xn]=E||"translate(0, 0)"},Hj=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.rotation,u=i.skewX,f=i.skewY,d=i.scaleX,p=i.scaleY,m=i.target,v=i.xOrigin,_=i.yOrigin,x=i.xOffset,g=i.yOffset,w=i.forceCSS,S=parseFloat(o),E=parseFloat(a),b,P,R,I,C;l=parseFloat(l),u=parseFloat(u),f=parseFloat(f),f&&(f=parseFloat(f),u+=f,l+=f),l||u?(l*=$f,u*=$f,b=Math.cos(l)*d,P=Math.sin(l)*d,R=Math.sin(l-u)*-p,I=Math.cos(l-u)*p,u&&(f*=$f,C=Math.tan(u-f),C=Math.sqrt(1+C*C),R*=C,I*=C,f&&(C=Math.tan(f),C=Math.sqrt(1+C*C),b*=C,P*=C)),b=si(b),P=si(P),R=si(R),I=si(I)):(b=d,I=p,P=R=0),(S&&!~(o+"").indexOf("px")||E&&!~(a+"").indexOf("px"))&&(S=Ol(m,"x",o,"px"),E=Ol(m,"y",a,"px")),(v||_||x||g)&&(S=si(S+v-(v*b+_*R)+x),E=si(E+_-(v*P+_*I)+g)),(r||s)&&(C=m.getBBox(),S=si(S+r/100*C.width),E=si(E+s/100*C.height)),C="matrix("+b+","+P+","+R+","+I+","+S+","+E+")",m.setAttribute("transform",C),w&&(m.style[Xn]=C)},Gj=function(e,t,i,r,s){var o=360,a=Vi(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Mu:1),u=l-r,f=r+u+"deg",d,p;return a&&(d=s.split("_")[1],d==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),d==="cw"&&u<0?u=(u+o*p2)%o-~~(u/o)*o:d==="ccw"&&u>0&&(u=(u-o*p2)%o-~~(u/o)*o)),e._pt=p=new jr(e._pt,t,i,r,u,Aj),p.e=f,p.u="deg",e._props.push(i),p},w2=function(e,t){for(var i in t)e[i]=t[i];return e},Wj=function(e,t,i){var r=w2({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,l,u,f,d,p,m,v;r.svg?(u=i.getAttribute("transform"),i.setAttribute("transform",""),o[Xn]=t,a=Yp(i,1),oc(i,Xn),i.setAttribute("transform",u)):(u=getComputedStyle(i)[Xn],o[Xn]=t,a=Yp(i,1),o[Xn]=u);for(l in ba)u=r[l],f=a[l],u!==f&&s.indexOf(l)<0&&(m=or(u),v=or(f),d=m!==v?Ol(i,l,u,v):parseFloat(u),p=parseFloat(f),e._pt=new jr(e._pt,a,l,d,p-d,aM),e._pt.u=v||0,e._props.push(l));w2(a,r)};Wr("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",r="Bottom",s="Left",o=(e<3?[t,i,r,s]:[t+s,t+i,r+i,r+s]).map(function(a){return e<2?n+a:"border"+a+n});Ty[e>1?"border"+n:n]=function(a,l,u,f,d){var p,m;if(arguments.length<4)return p=o.map(function(v){return ca(a,v,u)}),m=p.join(" "),m.split(p[0]).length===5?p[0]:m;p=(f+"").split(" "),m={},o.forEach(function(v,_){return m[v]=p[_]=p[_]||p[(_-1)/2|0]}),a.init(l,m,d)}});var TO={name:"css",register:uM,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,s){var o=this._props,a=e.style,l=i.vars.startAt,u,f,d,p,m,v,_,x,g,w,S,E,b,P,R,I;jT||uM(),this.styles=this.styles||yO(e),I=this.styles.props,this.tween=i;for(_ in t)if(_!=="autoRound"&&(f=t[_],!(ss[_]&&aO(_,t,i,r,e,s)))){if(m=typeof f,v=Ty[_],m==="function"&&(f=f.call(i,r,e,s),m=typeof f),m==="string"&&~f.indexOf("random(")&&(f=Gp(f)),v)v(this,e,_,f,i)&&(R=1);else if(_.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(_)+"").trim(),f+="",Al.lastIndex=0,Al.test(u)||(x=or(u),g=or(f)),g?x!==g&&(u=Ol(e,_,u,g)+g):x&&(f+=x),this.add(a,"setProperty",u,f,r,s,0,0,_),o.push(_),I.push(_,0,a[_]);else if(m!=="undefined"){if(l&&_ in l?(u=typeof l[_]=="function"?l[_].call(i,r,e,s):l[_],Vi(u)&&~u.indexOf("random(")&&(u=Gp(u)),or(u+"")||u==="auto"||(u+=ds.units[_]||or(ca(e,_))||""),(u+"").charAt(1)==="="&&(u=ca(e,_))):u=ca(e,_),p=parseFloat(u),w=m==="string"&&f.charAt(1)==="="&&f.substr(0,2),w&&(f=f.substr(2)),d=parseFloat(f),_ in Io&&(_==="autoAlpha"&&(p===1&&ca(e,"visibility")==="hidden"&&d&&(p=0),I.push("visibility",0,a.visibility),cl(this,a,"visibility",p?"inherit":"hidden",d?"inherit":"hidden",!d)),_!=="scale"&&_!=="transform"&&(_=Io[_],~_.indexOf(",")&&(_=_.split(",")[0]))),S=_ in ba,S){if(this.styles.save(_),E||(b=e._gsap,b.renderTransform&&!t.parseTransform||Yp(e,t.parseTransform),P=t.smoothOrigin!==!1&&b.smooth,E=this._pt=new jr(this._pt,a,Xn,0,1,b.renderTransform,b,0,-1),E.dep=1),_==="scale")this._pt=new jr(this._pt,b,"scaleY",b.scaleY,(w?qf(b.scaleY,w+d):d)-b.scaleY||0,aM),this._pt.u=0,o.push("scaleY",_),_+="X";else if(_==="transformOrigin"){I.push(Xr,0,a[Xr]),f=zj(f),b.svg?cM(e,f,0,P,0,this):(g=parseFloat(f.split(" ")[2])||0,g!==b.zOrigin&&cl(this,b,"zOrigin",b.zOrigin,g),cl(this,a,_,Ay(u),Ay(f)));continue}else if(_==="svgOrigin"){cM(e,f,1,P,0,this);continue}else if(_ in SO){Gj(this,b,_,p,w?qf(p,w+f):f);continue}else if(_==="smoothOrigin"){cl(this,b,"smooth",b.smooth,f);continue}else if(_==="force3D"){b[_]=f;continue}else if(_==="transform"){Wj(this,f,e);continue}}else _ in a||(_=gh(_)||_);if(S||(d||d===0)&&(p||p===0)&&!Tj.test(f)&&_ in a)x=(u+"").substr((p+"").length),d||(d=0),g=or(f)||(_ in ds.units?ds.units[_]:x),x!==g&&(p=Ol(e,_,u,g)),this._pt=new jr(this._pt,S?b:a,_,p,(w?qf(p,w+d):d)-p,!S&&(g==="px"||_==="zIndex")&&t.autoRound!==!1?Cj:aM),this._pt.u=g||0,x!==g&&g!=="%"&&(this._pt.b=u,this._pt.r=bj);else if(_ in a)Fj.call(this,e,_,u,w?w+f:f);else if(_ in e)this.add(e,_,u||e[_],w?w+f:f,r,s);else if(_!=="parseTransform"){OT(_,f);continue}S||(_ in a?I.push(_,0,a[_]):typeof e[_]=="function"?I.push(_,2,e[_]()):I.push(_,1,u||e[_])),o.push(_)}}R&&dO(this)},render:function(e,t){if(t.tween._time||!XT())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:ca,aliases:Io,getSetter:function(e,t,i){var r=Io[t];return r&&r.indexOf(",")<0&&(t=r),t in ba&&t!==Xr&&(e._gsap.x||ca(e,"x"))?i&&d2===i?t==="scale"?Lj:Ij:(d2=i||{})&&(t==="scale"?Nj:Dj):e.style&&!NT(e.style[t])?Pj:~t.indexOf("-")?Rj:GT(e,t)},core:{_removeProperty:oc,_getMatrix:qT}};Zr.utils.checkPrefix=gh;Zr.core.getStyleSaver=yO;(function(n,e,t,i){var r=Wr(n+","+e+","+t,function(s){ba[s]=1});Wr(e,function(s){ds.units[s]="deg",SO[s]=1}),Io[r[13]]=n+","+e,Wr(i,function(s){var o=s.split(":");Io[o[1]]=r[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Wr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){ds.units[n]="px"});Zr.registerPlugin(TO);var Ca=Zr.registerPlugin(TO)||Zr;Ca.core.Tween;function S2(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function jj(n,e,t){return e&&S2(n.prototype,e),t&&S2(n,t),n}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Wi,Tv,ls,fl,hl,Kf,AO,Eu,np,bO,ga,no,CO,PO=function(){return Wi||typeof window<"u"&&(Wi=window.gsap)&&Wi.registerPlugin&&Wi},RO=1,Of=[],$t=[],zo=[],ip=Date.now,fM=function(e,t){return t},Xj=function(){var e=np.core,t=e.bridge||{},i=e._scrollers,r=e._proxies;i.push.apply(i,$t),r.push.apply(r,zo),$t=i,zo=r,fM=function(o,a){return t[o](a)}},bl=function(e,t){return~zo.indexOf(e)&&zo[zo.indexOf(e)+1][t]},rp=function(e){return!!~bO.indexOf(e)},gr=function(e,t,i,r,s){return e.addEventListener(t,i,{passive:r!==!1,capture:!!s})},pr=function(e,t,i,r){return e.removeEventListener(t,i,!!r)},r0="scrollLeft",s0="scrollTop",hM=function(){return ga&&ga.isPressed||$t.cache++},by=function(e,t){var i=function r(s){if(s||s===0){RO&&(ls.history.scrollRestoration="manual");var o=ga&&ga.isPressed;s=r.v=Math.round(s)||(ga&&ga.iOS?1:0),e(s),r.cacheID=$t.cache,o&&fM("ss",s)}else(t||$t.cache!==r.cacheID||fM("ref"))&&(r.cacheID=$t.cache,r.v=e());return r.v+r.offset};return i.offset=0,e&&i},Er={s:r0,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:by(function(n){return arguments.length?ls.scrollTo(n,Mi.sc()):ls.pageXOffset||fl[r0]||hl[r0]||Kf[r0]||0})},Mi={s:s0,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Er,sc:by(function(n){return arguments.length?ls.scrollTo(Er.sc(),n):ls.pageYOffset||fl[s0]||hl[s0]||Kf[s0]||0})},kr=function(e,t){return(t&&t._ctx&&t._ctx.selector||Wi.utils.toArray)(e)[0]||(typeof e=="string"&&Wi.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},Ul=function(e,t){var i=t.s,r=t.sc;rp(e)&&(e=fl.scrollingElement||hl);var s=$t.indexOf(e),o=r===Mi.sc?1:2;!~s&&(s=$t.push(e)-1),$t[s+o]||gr(e,"scroll",hM);var a=$t[s+o],l=a||($t[s+o]=by(bl(e,i),!0)||(rp(e)?r:by(function(u){return arguments.length?e[i]=u:e[i]})));return l.target=e,a||(l.smooth=Wi.getProperty(e,"scrollBehavior")==="smooth"),l},dM=function(e,t,i){var r=e,s=e,o=ip(),a=o,l=t||50,u=Math.max(500,l*3),f=function(v,_){var x=ip();_||x-o>l?(s=r,r=v,a=o,o=x):i?r+=v:r=s+(v-s)/(x-a)*(o-a)},d=function(){s=r=i?0:r,a=o=0},p=function(v){var _=a,x=s,g=ip();return(v||v===0)&&v!==r&&f(v),o===a||g-a>u?0:(r+(i?x:-x))/((i?g:o)-_)*1e3};return{update:f,reset:d,getVelocity:p}},cd=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},M2=function(e){var t=Math.max.apply(Math,e),i=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(i)?t:i},IO=function(){np=Wi.core.globals().ScrollTrigger,np&&np.core&&Xj()},LO=function(e){return Wi=e||PO(),!Tv&&Wi&&typeof document<"u"&&document.body&&(ls=window,fl=document,hl=fl.documentElement,Kf=fl.body,bO=[ls,fl,hl,Kf],Wi.utils.clamp,CO=Wi.core.context||function(){},Eu="onpointerenter"in Kf?"pointer":"mouse",AO=li.isTouch=ls.matchMedia&&ls.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in ls||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,no=li.eventTypes=("ontouchstart"in hl?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in hl?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return RO=0},500),IO(),Tv=1),Tv};Er.op=Mi;$t.cache=0;var li=function(){function n(t){this.init(t)}var e=n.prototype;return e.init=function(i){Tv||LO(Wi)||console.warn("Please gsap.registerPlugin(Observer)"),np||IO();var r=i.tolerance,s=i.dragMinimum,o=i.type,a=i.target,l=i.lineHeight,u=i.debounce,f=i.preventDefault,d=i.onStop,p=i.onStopDelay,m=i.ignore,v=i.wheelSpeed,_=i.event,x=i.onDragStart,g=i.onDragEnd,w=i.onDrag,S=i.onPress,E=i.onRelease,b=i.onRight,P=i.onLeft,R=i.onUp,I=i.onDown,C=i.onChangeX,L=i.onChangeY,B=i.onChange,W=i.onToggleX,ie=i.onToggleY,z=i.onHover,ne=i.onHoverEnd,ee=i.onMove,re=i.ignoreCheck,X=i.isNormalizer,Q=i.onGestureStart,k=i.onGestureEnd,G=i.onWheel,te=i.onEnable,me=i.onDisable,xe=i.onClick,Ce=i.scrollSpeed,Ee=i.capture,De=i.allowClicks,We=i.lockAxis,_t=i.onLockAxis;this.target=a=kr(a)||hl,this.vars=i,m&&(m=Wi.utils.toArray(m)),r=r||1e-9,s=s||0,v=v||1,Ce=Ce||1,o=o||"wheel,touch,pointer",u=u!==!1,l||(l=parseFloat(ls.getComputedStyle(Kf).lineHeight)||22);var Nt,Be,J,_e,ge,Re,Te,se=this,He=0,Qe=0,vt=i.passive||!f&&i.passive!==!1,mt=Ul(a,Er),Jt=Ul(a,Mi),q=mt(),F=Jt(),ue=~o.indexOf("touch")&&!~o.indexOf("pointer")&&no[0]==="pointerdown",Ne=rp(a),Me=a.ownerDocument||fl,Ie=[0,0,0],Ke=[0,0,0],ke=0,Ye=function(){return ke=ip()},it=function(ct,Pt){return(se.event=ct)&&m&&~m.indexOf(ct.target)||Pt&&ue&&ct.pointerType!=="touch"||re&&re(ct,Pt)},Dt=function(){se._vx.reset(),se._vy.reset(),Be.pause(),d&&d(se)},Ae=function(){var ct=se.deltaX=M2(Ie),Pt=se.deltaY=M2(Ke),qe=Math.abs(ct)>=r,Rt=Math.abs(Pt)>=r;B&&(qe||Rt)&&B(se,ct,Pt,Ie,Ke),qe&&(b&&se.deltaX>0&&b(se),P&&se.deltaX<0&&P(se),C&&C(se),W&&se.deltaX<0!=He<0&&W(se),He=se.deltaX,Ie[0]=Ie[1]=Ie[2]=0),Rt&&(I&&se.deltaY>0&&I(se),R&&se.deltaY<0&&R(se),L&&L(se),ie&&se.deltaY<0!=Qe<0&&ie(se),Qe=se.deltaY,Ke[0]=Ke[1]=Ke[2]=0),(_e||J)&&(ee&&ee(se),J&&(x&&J===1&&x(se),w&&w(se),J=0),_e=!1),Re&&!(Re=!1)&&_t&&_t(se),ge&&(G(se),ge=!1),Nt=0},Ht=function(ct,Pt,qe){Ie[qe]+=ct,Ke[qe]+=Pt,se._vx.update(ct),se._vy.update(Pt),u?Nt||(Nt=requestAnimationFrame(Ae)):Ae()},xt=function(ct,Pt){We&&!Te&&(se.axis=Te=Math.abs(ct)>Math.abs(Pt)?"x":"y",Re=!0),Te!=="y"&&(Ie[2]+=ct,se._vx.update(ct,!0)),Te!=="x"&&(Ke[2]+=Pt,se._vy.update(Pt,!0)),u?Nt||(Nt=requestAnimationFrame(Ae)):Ae()},rt=function(ct){if(!it(ct,1)){ct=cd(ct,f);var Pt=ct.clientX,qe=ct.clientY,Rt=Pt-se.x,dt=qe-se.y,Tt=se.isDragging;se.x=Pt,se.y=qe,(Tt||(Rt||dt)&&(Math.abs(se.startX-Pt)>=s||Math.abs(se.startY-qe)>=s))&&(J=Tt?2:1,Tt||(se.isDragging=!0),xt(Rt,dt))}},Je=se.onPress=function(tt){it(tt,1)||tt&&tt.button||(se.axis=Te=null,Be.pause(),se.isPressed=!0,tt=cd(tt),He=Qe=0,se.startX=se.x=tt.clientX,se.startY=se.y=tt.clientY,se._vx.reset(),se._vy.reset(),gr(X?a:Me,no[1],rt,vt,!0),se.deltaX=se.deltaY=0,S&&S(se))},Z=se.onRelease=function(tt){if(!it(tt,1)){pr(X?a:Me,no[1],rt,!0);var ct=!isNaN(se.y-se.startY),Pt=se.isDragging,qe=Pt&&(Math.abs(se.x-se.startX)>3||Math.abs(se.y-se.startY)>3),Rt=cd(tt);!qe&&ct&&(se._vx.reset(),se._vy.reset(),f&&De&&Wi.delayedCall(.08,function(){if(ip()-ke>300&&!tt.defaultPrevented){if(tt.target.click)tt.target.click();else if(Me.createEvent){var dt=Me.createEvent("MouseEvents");dt.initMouseEvent("click",!0,!0,ls,1,Rt.screenX,Rt.screenY,Rt.clientX,Rt.clientY,!1,!1,!1,!1,0,null),tt.target.dispatchEvent(dt)}}})),se.isDragging=se.isGesturing=se.isPressed=!1,d&&Pt&&!X&&Be.restart(!0),J&&Ae(),g&&Pt&&g(se),E&&E(se,qe)}},fe=function(ct){return ct.touches&&ct.touches.length>1&&(se.isGesturing=!0)&&Q(ct,se.isDragging)},Le=function(){return(se.isGesturing=!1)||k(se)},Xe=function(ct){if(!it(ct)){var Pt=mt(),qe=Jt();Ht((Pt-q)*Ce,(qe-F)*Ce,1),q=Pt,F=qe,d&&Be.restart(!0)}},Ve=function(ct){if(!it(ct)){ct=cd(ct,f),G&&(ge=!0);var Pt=(ct.deltaMode===1?l:ct.deltaMode===2?ls.innerHeight:1)*v;Ht(ct.deltaX*Pt,ct.deltaY*Pt,0),d&&!X&&Be.restart(!0)}},be=function(ct){if(!it(ct)){var Pt=ct.clientX,qe=ct.clientY,Rt=Pt-se.x,dt=qe-se.y;se.x=Pt,se.y=qe,_e=!0,d&&Be.restart(!0),(Rt||dt)&&xt(Rt,dt)}},ot=function(ct){se.event=ct,z(se)},Et=function(ct){se.event=ct,ne(se)},Tn=function(ct){return it(ct)||cd(ct,f)&&xe(se)};Be=se._dc=Wi.delayedCall(p||.25,Dt).pause(),se.deltaX=se.deltaY=0,se._vx=dM(0,50,!0),se._vy=dM(0,50,!0),se.scrollX=mt,se.scrollY=Jt,se.isDragging=se.isGesturing=se.isPressed=!1,CO(this),se.enable=function(tt){return se.isEnabled||(gr(Ne?Me:a,"scroll",hM),o.indexOf("scroll")>=0&&gr(Ne?Me:a,"scroll",Xe,vt,Ee),o.indexOf("wheel")>=0&&gr(a,"wheel",Ve,vt,Ee),(o.indexOf("touch")>=0&&AO||o.indexOf("pointer")>=0)&&(gr(a,no[0],Je,vt,Ee),gr(Me,no[2],Z),gr(Me,no[3],Z),De&&gr(a,"click",Ye,!0,!0),xe&&gr(a,"click",Tn),Q&&gr(Me,"gesturestart",fe),k&&gr(Me,"gestureend",Le),z&&gr(a,Eu+"enter",ot),ne&&gr(a,Eu+"leave",Et),ee&&gr(a,Eu+"move",be)),se.isEnabled=!0,se.isDragging=se.isGesturing=se.isPressed=_e=J=!1,se._vx.reset(),se._vy.reset(),q=mt(),F=Jt(),tt&&tt.type&&Je(tt),te&&te(se)),se},se.disable=function(){se.isEnabled&&(Of.filter(function(tt){return tt!==se&&rp(tt.target)}).length||pr(Ne?Me:a,"scroll",hM),se.isPressed&&(se._vx.reset(),se._vy.reset(),pr(X?a:Me,no[1],rt,!0)),pr(Ne?Me:a,"scroll",Xe,Ee),pr(a,"wheel",Ve,Ee),pr(a,no[0],Je,Ee),pr(Me,no[2],Z),pr(Me,no[3],Z),pr(a,"click",Ye,!0),pr(a,"click",Tn),pr(Me,"gesturestart",fe),pr(Me,"gestureend",Le),pr(a,Eu+"enter",ot),pr(a,Eu+"leave",Et),pr(a,Eu+"move",be),se.isEnabled=se.isPressed=se.isDragging=!1,me&&me(se))},se.kill=se.revert=function(){se.disable();var tt=Of.indexOf(se);tt>=0&&Of.splice(tt,1),ga===se&&(ga=0)},Of.push(se),X&&rp(a)&&(ga=se),se.enable(_)},jj(n,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),n}();li.version="3.12.7";li.create=function(n){return new li(n)};li.register=LO;li.getAll=function(){return Of.slice()};li.getById=function(n){return Of.filter(function(e){return e.vars.id===n})[0]};PO()&&Wi.registerPlugin(li);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ht,pf,Zt,An,os,dn,ZT,Cy,qp,sp,Nd,o0,nr,g_,pM,wr,E2,T2,mf,NO,j1,DO,_r,mM,kO,OO,Ka,gM,$T,Jf,KT,Py,vM,X1,a0=1,rr=Date.now,Y1=rr(),Ys=0,Dd=0,A2=function(e,t,i){var r=rs(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return i["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},b2=function(e,t){return t&&(!rs(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},Yj=function n(){return Dd&&requestAnimationFrame(n)},C2=function(){return g_=1},P2=function(){return g_=0},Co=function(e){return e},kd=function(e){return Math.round(e*1e5)/1e5||0},UO=function(){return typeof window<"u"},FO=function(){return ht||UO()&&(ht=window.gsap)&&ht.registerPlugin&&ht},ac=function(e){return!!~ZT.indexOf(e)},zO=function(e){return(e==="Height"?KT:Zt["inner"+e])||os["client"+e]||dn["client"+e]},BO=function(e){return bl(e,"getBoundingClientRect")||(ac(e)?function(){return Rv.width=Zt.innerWidth,Rv.height=KT,Rv}:function(){return fa(e)})},qj=function(e,t,i){var r=i.d,s=i.d2,o=i.a;return(o=bl(e,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(t?zO(s):e["client"+s])||0}},Zj=function(e,t){return!t||~zo.indexOf(e)?BO(e):function(){return Rv}},Lo=function(e,t){var i=t.s,r=t.d2,s=t.d,o=t.a;return Math.max(0,(i="scroll"+r)&&(o=bl(e,i))?o()-BO(e)()[s]:ac(e)?(os[i]||dn[i])-zO(r):e[i]-e["offset"+r])},l0=function(e,t){for(var i=0;i<mf.length;i+=3)(!t||~t.indexOf(mf[i+1]))&&e(mf[i],mf[i+1],mf[i+2])},rs=function(e){return typeof e=="string"},ar=function(e){return typeof e=="function"},Od=function(e){return typeof e=="number"},Tu=function(e){return typeof e=="object"},fd=function(e,t,i){return e&&e.progress(t?0:1)&&i&&e.pause()},q1=function(e,t){if(e.enabled){var i=e._ctx?e._ctx.add(function(){return t(e)}):t(e);i&&i.totalTime&&(e.callbackAnimation=i)}},Hc=Math.abs,VO="left",HO="top",JT="right",QT="bottom",Yu="width",qu="height",op="Right",ap="Left",lp="Top",up="Bottom",di="padding",Bs="margin",vh="Width",eA="Height",wi="px",Vs=function(e){return Zt.getComputedStyle(e)},$j=function(e){var t=Vs(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},R2=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},fa=function(e,t){var i=t&&Vs(e)[pM]!=="matrix(1, 0, 0, 1, 0, 0)"&&ht.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return i&&i.progress(0).kill(),r},Ry=function(e,t){var i=t.d2;return e["offset"+i]||e["client"+i]||0},GO=function(e){var t=[],i=e.labels,r=e.duration(),s;for(s in i)t.push(i[s]/r);return t},Kj=function(e){return function(t){return ht.utils.snap(GO(e),t)}},tA=function(e){var t=ht.utils.snap(e),i=Array.isArray(e)&&e.slice(0).sort(function(r,s){return r-s});return i?function(r,s,o){o===void 0&&(o=.001);var a;if(!s)return t(r);if(s>0){for(r-=o,a=0;a<i.length;a++)if(i[a]>=r)return i[a];return i[a-1]}else for(a=i.length,r+=o;a--;)if(i[a]<=r)return i[a];return i[0]}:function(r,s,o){o===void 0&&(o=.001);var a=t(r);return!s||Math.abs(a-r)<o||a-r<0==s<0?a:t(s<0?r-e:r+e)}},Jj=function(e){return function(t,i){return tA(GO(e))(t,i.direction)}},u0=function(e,t,i,r){return i.split(",").forEach(function(s){return e(t,s,r)})},ki=function(e,t,i,r,s){return e.addEventListener(t,i,{passive:!r,capture:!!s})},Di=function(e,t,i,r){return e.removeEventListener(t,i,!!r)},c0=function(e,t,i){i=i&&i.wheelHandler,i&&(e(t,"wheel",i),e(t,"touchmove",i))},I2={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},f0={toggleActions:"play",anticipatePin:0},Iy={top:0,left:0,center:.5,bottom:1,right:1},Av=function(e,t){if(rs(e)){var i=e.indexOf("="),r=~i?+(e.charAt(i-1)+1)*parseFloat(e.substr(i+1)):0;~i&&(e.indexOf("%")>i&&(r*=t/100),e=e.substr(0,i-1)),e=r+(e in Iy?Iy[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},h0=function(e,t,i,r,s,o,a,l){var u=s.startColor,f=s.endColor,d=s.fontSize,p=s.indent,m=s.fontWeight,v=An.createElement("div"),_=ac(i)||bl(i,"pinType")==="fixed",x=e.indexOf("scroller")!==-1,g=_?dn:i,w=e.indexOf("start")!==-1,S=w?u:f,E="border-color:"+S+";font-size:"+d+";color:"+S+";font-weight:"+m+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return E+="position:"+((x||l)&&_?"fixed;":"absolute;"),(x||l||!_)&&(E+=(r===Mi?JT:QT)+":"+(o+parseFloat(p))+"px;"),a&&(E+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),v._isStart=w,v.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),v.style.cssText=E,v.innerText=t||t===0?e+"-"+t:e,g.children[0]?g.insertBefore(v,g.children[0]):g.appendChild(v),v._offset=v["offset"+r.op.d2],bv(v,0,r,w),v},bv=function(e,t,i,r){var s={display:"block"},o=i[r?"os2":"p2"],a=i[r?"p2":"os2"];e._isFlipped=r,s[i.a+"Percent"]=r?-100:0,s[i.a]=r?"1px":0,s["border"+o+vh]=1,s["border"+a+vh]=0,s[i.p]=t+"px",ht.set(e,s)},Xt=[],yM={},Zp,L2=function(){return rr()-Ys>34&&(Zp||(Zp=requestAnimationFrame(xa)))},Gc=function(){(!_r||!_r.isPressed||_r.startX>dn.clientWidth)&&($t.cache++,_r?Zp||(Zp=requestAnimationFrame(xa)):xa(),Ys||uc("scrollStart"),Ys=rr())},Z1=function(){OO=Zt.innerWidth,kO=Zt.innerHeight},Ud=function(e){$t.cache++,(e===!0||!nr&&!DO&&!An.fullscreenElement&&!An.webkitFullscreenElement&&(!mM||OO!==Zt.innerWidth||Math.abs(Zt.innerHeight-kO)>Zt.innerHeight*.25))&&Cy.restart(!0)},lc={},Qj=[],WO=function n(){return Di(Yt,"scrollEnd",n)||Du(!0)},uc=function(e){return lc[e]&&lc[e].map(function(t){return t()})||Qj},ns=[],jO=function(e){for(var t=0;t<ns.length;t+=5)(!e||ns[t+4]&&ns[t+4].query===e)&&(ns[t].style.cssText=ns[t+1],ns[t].getBBox&&ns[t].setAttribute("transform",ns[t+2]||""),ns[t+3].uncache=1)},nA=function(e,t){var i;for(wr=0;wr<Xt.length;wr++)i=Xt[wr],i&&(!t||i._ctx===t)&&(e?i.kill(1):i.revert(!0,!0));Py=!0,t&&jO(t),t||uc("revert")},XO=function(e,t){$t.cache++,(t||!Sr)&&$t.forEach(function(i){return ar(i)&&i.cacheID++&&(i.rec=0)}),rs(e)&&(Zt.history.scrollRestoration=$T=e)},Sr,Zu=0,N2,e9=function(){if(N2!==Zu){var e=N2=Zu;requestAnimationFrame(function(){return e===Zu&&Du(!0)})}},YO=function(){dn.appendChild(Jf),KT=!_r&&Jf.offsetHeight||Zt.innerHeight,dn.removeChild(Jf)},D2=function(e){return qp(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Du=function(e,t){if(os=An.documentElement,dn=An.body,ZT=[Zt,An,os,dn],Ys&&!e&&!Py){ki(Yt,"scrollEnd",WO);return}YO(),Sr=Yt.isRefreshing=!0,$t.forEach(function(r){return ar(r)&&++r.cacheID&&(r.rec=r())});var i=uc("refreshInit");NO&&Yt.sort(),t||nA(),$t.forEach(function(r){ar(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),Xt.slice(0).forEach(function(r){return r.refresh()}),Py=!1,Xt.forEach(function(r){if(r._subPinOffset&&r.pin){var s=r.vars.horizontal?"offsetWidth":"offsetHeight",o=r.pin[s];r.revert(!0,1),r.adjustPinSpacing(r.pin[s]-o),r.refresh()}}),vM=1,D2(!0),Xt.forEach(function(r){var s=Lo(r.scroller,r._dir),o=r.vars.end==="max"||r._endClamp&&r.end>s,a=r._startClamp&&r.start>=s;(o||a)&&r.setPositions(a?s-1:r.start,o?Math.max(a?s:r.start+1,s):r.end,!0)}),D2(!1),vM=0,i.forEach(function(r){return r&&r.render&&r.render(-1)}),$t.forEach(function(r){ar(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),XO($T,1),Cy.pause(),Zu++,Sr=2,xa(2),Xt.forEach(function(r){return ar(r.vars.onRefresh)&&r.vars.onRefresh(r)}),Sr=Yt.isRefreshing=!1,uc("refresh")},_M=0,Cv=1,cp,xa=function(e){if(e===2||!Sr&&!Py){Yt.isUpdating=!0,cp&&cp.update(0);var t=Xt.length,i=rr(),r=i-Y1>=50,s=t&&Xt[0].scroll();if(Cv=_M>s?-1:1,Sr||(_M=s),r&&(Ys&&!g_&&i-Ys>200&&(Ys=0,uc("scrollEnd")),Nd=Y1,Y1=i),Cv<0){for(wr=t;wr-- >0;)Xt[wr]&&Xt[wr].update(0,r);Cv=1}else for(wr=0;wr<t;wr++)Xt[wr]&&Xt[wr].update(0,r);Yt.isUpdating=!1}Zp=0},xM=[VO,HO,QT,JT,Bs+up,Bs+op,Bs+lp,Bs+ap,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Pv=xM.concat([Yu,qu,"boxSizing","max"+vh,"max"+eA,"position",Bs,di,di+lp,di+op,di+up,di+ap]),t9=function(e,t,i){Qf(i);var r=e._gsap;if(r.spacerIsNative)Qf(r.spacerState);else if(e._gsap.swappedIn){var s=t.parentNode;s&&(s.insertBefore(e,t),s.removeChild(t))}e._gsap.swappedIn=!1},$1=function(e,t,i,r){if(!e._gsap.swappedIn){for(var s=xM.length,o=t.style,a=e.style,l;s--;)l=xM[s],o[l]=i[l];o.position=i.position==="absolute"?"absolute":"relative",i.display==="inline"&&(o.display="inline-block"),a[QT]=a[JT]="auto",o.flexBasis=i.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Yu]=Ry(e,Er)+wi,o[qu]=Ry(e,Mi)+wi,o[di]=a[Bs]=a[HO]=a[VO]="0",Qf(r),a[Yu]=a["max"+vh]=i[Yu],a[qu]=a["max"+eA]=i[qu],a[di]=i[di],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},n9=/([A-Z])/g,Qf=function(e){if(e){var t=e.t.style,i=e.length,r=0,s,o;for((e.t._gsap||ht.core.getCache(e.t)).uncache=1;r<i;r+=2)o=e[r+1],s=e[r],o?t[s]=o:t[s]&&t.removeProperty(s.replace(n9,"-$1").toLowerCase())}},d0=function(e){for(var t=Pv.length,i=e.style,r=[],s=0;s<t;s++)r.push(Pv[s],i[Pv[s]]);return r.t=e,r},i9=function(e,t,i){for(var r=[],s=e.length,o=i?8:0,a;o<s;o+=2)a=e[o],r.push(a,a in t?t[a]:e[o+1]);return r.t=e.t,r},Rv={left:0,top:0},k2=function(e,t,i,r,s,o,a,l,u,f,d,p,m,v){ar(e)&&(e=e(l)),rs(e)&&e.substr(0,3)==="max"&&(e=p+(e.charAt(4)==="="?Av("0"+e.substr(3),i):0));var _=m?m.time():0,x,g,w;if(m&&m.seek(0),isNaN(e)||(e=+e),Od(e))m&&(e=ht.utils.mapRange(m.scrollTrigger.start,m.scrollTrigger.end,0,p,e)),a&&bv(a,i,r,!0);else{ar(t)&&(t=t(l));var S=(e||"0").split(" "),E,b,P,R;w=kr(t,l)||dn,E=fa(w)||{},(!E||!E.left&&!E.top)&&Vs(w).display==="none"&&(R=w.style.display,w.style.display="block",E=fa(w),R?w.style.display=R:w.style.removeProperty("display")),b=Av(S[0],E[r.d]),P=Av(S[1]||"0",i),e=E[r.p]-u[r.p]-f+b+s-P,a&&bv(a,P,r,i-P<20||a._isStart&&P>20),i-=i-P}if(v&&(l[v]=e||-.001,e<0&&(e=0)),o){var I=e+i,C=o._isStart;x="scroll"+r.d2,bv(o,I,r,C&&I>20||!C&&(d?Math.max(dn[x],os[x]):o.parentNode[x])<=I+1),d&&(u=fa(a),d&&(o.style[r.op.p]=u[r.op.p]-r.op.m-o._offset+wi))}return m&&w&&(x=fa(w),m.seek(p),g=fa(w),m._caScrollDist=x[r.p]-g[r.p],e=e/m._caScrollDist*p),m&&m.seek(_),m?e:Math.round(e)},r9=/(webkit|moz|length|cssText|inset)/i,O2=function(e,t,i,r){if(e.parentNode!==t){var s=e.style,o,a;if(t===dn){e._stOrig=s.cssText,a=Vs(e);for(o in a)!+o&&!r9.test(o)&&a[o]&&typeof s[o]=="string"&&o!=="0"&&(s[o]=a[o]);s.top=i,s.left=r}else s.cssText=e._stOrig;ht.core.getCache(e).uncache=1,t.appendChild(e)}},qO=function(e,t,i){var r=t,s=r;return function(o){var a=Math.round(e());return a!==r&&a!==s&&Math.abs(a-r)>3&&Math.abs(a-s)>3&&(o=a,i&&i()),s=r,r=Math.round(o),r}},p0=function(e,t,i){var r={};r[t.p]="+="+i,ht.set(e,r)},U2=function(e,t){var i=Ul(e,t),r="_scroll"+t.p2,s=function o(a,l,u,f,d){var p=o.tween,m=l.onComplete,v={};u=u||i();var _=qO(i,u,function(){p.kill(),o.tween=0});return d=f&&d||0,f=f||a-u,p&&p.kill(),l[r]=a,l.inherit=!1,l.modifiers=v,v[r]=function(){return _(u+f*p.ratio+d*p.ratio*p.ratio)},l.onUpdate=function(){$t.cache++,o.tween&&xa()},l.onComplete=function(){o.tween=0,m&&m.call(p)},p=o.tween=ht.to(e,l),p};return e[r]=i,i.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},ki(e,"wheel",i.wheelHandler),Yt.isTouch&&ki(e,"touchmove",i.wheelHandler),s},Yt=function(){function n(t,i){pf||n.register(ht)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),gM(this),this.init(t,i)}var e=n.prototype;return e.init=function(i,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Dd){this.update=this.refresh=this.kill=Co;return}i=R2(rs(i)||Od(i)||i.nodeType?{trigger:i}:i,f0);var s=i,o=s.onUpdate,a=s.toggleClass,l=s.id,u=s.onToggle,f=s.onRefresh,d=s.scrub,p=s.trigger,m=s.pin,v=s.pinSpacing,_=s.invalidateOnRefresh,x=s.anticipatePin,g=s.onScrubComplete,w=s.onSnapComplete,S=s.once,E=s.snap,b=s.pinReparent,P=s.pinSpacer,R=s.containerAnimation,I=s.fastScrollEnd,C=s.preventOverlaps,L=i.horizontal||i.containerAnimation&&i.horizontal!==!1?Er:Mi,B=!d&&d!==0,W=kr(i.scroller||Zt),ie=ht.core.getCache(W),z=ac(W),ne=("pinType"in i?i.pinType:bl(W,"pinType")||z&&"fixed")==="fixed",ee=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],re=B&&i.toggleActions.split(" "),X="markers"in i?i.markers:f0.markers,Q=z?0:parseFloat(Vs(W)["border"+L.p2+vh])||0,k=this,G=i.onRefreshInit&&function(){return i.onRefreshInit(k)},te=qj(W,z,L),me=Zj(W,z),xe=0,Ce=0,Ee=0,De=Ul(W,L),We,_t,Nt,Be,J,_e,ge,Re,Te,se,He,Qe,vt,mt,Jt,q,F,ue,Ne,Me,Ie,Ke,ke,Ye,it,Dt,Ae,Ht,xt,rt,Je,Z,fe,Le,Xe,Ve,be,ot,Et;if(k._startClamp=k._endClamp=!1,k._dir=L,x*=45,k.scroller=W,k.scroll=R?R.time.bind(R):De,Be=De(),k.vars=i,r=r||i.animation,"refreshPriority"in i&&(NO=1,i.refreshPriority===-9999&&(cp=k)),ie.tweenScroll=ie.tweenScroll||{top:U2(W,Mi),left:U2(W,Er)},k.tweenTo=We=ie.tweenScroll[L.p],k.scrubDuration=function(qe){fe=Od(qe)&&qe,fe?Z?Z.duration(qe):Z=ht.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:fe,paused:!0,onComplete:function(){return g&&g(k)}}):(Z&&Z.progress(1).kill(),Z=0)},r&&(r.vars.lazy=!1,r._initted&&!k.isReverted||r.vars.immediateRender!==!1&&i.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),k.animation=r.pause(),r.scrollTrigger=k,k.scrubDuration(d),rt=0,l||(l=r.vars.id)),E&&((!Tu(E)||E.push)&&(E={snapTo:E}),"scrollBehavior"in dn.style&&ht.set(z?[dn,os]:W,{scrollBehavior:"auto"}),$t.forEach(function(qe){return ar(qe)&&qe.target===(z?An.scrollingElement||os:W)&&(qe.smooth=!1)}),Nt=ar(E.snapTo)?E.snapTo:E.snapTo==="labels"?Kj(r):E.snapTo==="labelsDirectional"?Jj(r):E.directional!==!1?function(qe,Rt){return tA(E.snapTo)(qe,rr()-Ce<500?0:Rt.direction)}:ht.utils.snap(E.snapTo),Le=E.duration||{min:.1,max:2},Le=Tu(Le)?sp(Le.min,Le.max):sp(Le,Le),Xe=ht.delayedCall(E.delay||fe/2||.1,function(){var qe=De(),Rt=rr()-Ce<500,dt=We.tween;if((Rt||Math.abs(k.getVelocity())<10)&&!dt&&!g_&&xe!==qe){var Tt=(qe-_e)/mt,pn=r&&!B?r.totalProgress():Tt,bt=Rt?0:(pn-Je)/(rr()-Nd)*1e3||0,pt=ht.utils.clamp(-Tt,1-Tt,Hc(bt/2)*bt/.185),Bn=Tt+(E.inertia===!1?0:pt),yn,D,A=E,U=A.onStart,V=A.onInterrupt,H=A.onComplete;if(yn=Nt(Bn,k),Od(yn)||(yn=Bn),D=Math.max(0,Math.round(_e+yn*mt)),qe<=ge&&qe>=_e&&D!==qe){if(dt&&!dt._initted&&dt.data<=Hc(D-qe))return;E.inertia===!1&&(pt=yn-Tt),We(D,{duration:Le(Hc(Math.max(Hc(Bn-pn),Hc(yn-pn))*.185/bt/.05||0)),ease:E.ease||"power3",data:Hc(D-qe),onInterrupt:function(){return Xe.restart(!0)&&V&&V(k)},onComplete:function(){k.update(),xe=De(),r&&!B&&(Z?Z.resetTo("totalProgress",yn,r._tTime/r._tDur):r.progress(yn)),rt=Je=r&&!B?r.totalProgress():k.progress,w&&w(k),H&&H(k)}},qe,pt*mt,D-qe-pt*mt),U&&U(k,We.tween)}}else k.isActive&&xe!==qe&&Xe.restart(!0)}).pause()),l&&(yM[l]=k),p=k.trigger=kr(p||m!==!0&&m),Et=p&&p._gsap&&p._gsap.stRevert,Et&&(Et=Et(k)),m=m===!0?p:kr(m),rs(a)&&(a={targets:p,className:a}),m&&(v===!1||v===Bs||(v=!v&&m.parentNode&&m.parentNode.style&&Vs(m.parentNode).display==="flex"?!1:di),k.pin=m,_t=ht.core.getCache(m),_t.spacer?Jt=_t.pinState:(P&&(P=kr(P),P&&!P.nodeType&&(P=P.current||P.nativeElement),_t.spacerIsNative=!!P,P&&(_t.spacerState=d0(P))),_t.spacer=ue=P||An.createElement("div"),ue.classList.add("pin-spacer"),l&&ue.classList.add("pin-spacer-"+l),_t.pinState=Jt=d0(m)),i.force3D!==!1&&ht.set(m,{force3D:!0}),k.spacer=ue=_t.spacer,xt=Vs(m),Ye=xt[v+L.os2],Me=ht.getProperty(m),Ie=ht.quickSetter(m,L.a,wi),$1(m,ue,xt),F=d0(m)),X){Qe=Tu(X)?R2(X,I2):I2,se=h0("scroller-start",l,W,L,Qe,0),He=h0("scroller-end",l,W,L,Qe,0,se),Ne=se["offset"+L.op.d2];var Tn=kr(bl(W,"content")||W);Re=this.markerStart=h0("start",l,Tn,L,Qe,Ne,0,R),Te=this.markerEnd=h0("end",l,Tn,L,Qe,Ne,0,R),R&&(ot=ht.quickSetter([Re,Te],L.a,wi)),!ne&&!(zo.length&&bl(W,"fixedMarkers")===!0)&&($j(z?dn:W),ht.set([se,He],{force3D:!0}),Dt=ht.quickSetter(se,L.a,wi),Ht=ht.quickSetter(He,L.a,wi))}if(R){var tt=R.vars.onUpdate,ct=R.vars.onUpdateParams;R.eventCallback("onUpdate",function(){k.update(0,0,1),tt&&tt.apply(R,ct||[])})}if(k.previous=function(){return Xt[Xt.indexOf(k)-1]},k.next=function(){return Xt[Xt.indexOf(k)+1]},k.revert=function(qe,Rt){if(!Rt)return k.kill(!0);var dt=qe!==!1||!k.enabled,Tt=nr;dt!==k.isReverted&&(dt&&(Ve=Math.max(De(),k.scroll.rec||0),Ee=k.progress,be=r&&r.progress()),Re&&[Re,Te,se,He].forEach(function(pn){return pn.style.display=dt?"none":"block"}),dt&&(nr=k,k.update(dt)),m&&(!b||!k.isActive)&&(dt?t9(m,ue,Jt):$1(m,ue,Vs(m),it)),dt||k.update(dt),nr=Tt,k.isReverted=dt)},k.refresh=function(qe,Rt,dt,Tt){if(!((nr||!k.enabled)&&!Rt)){if(m&&qe&&Ys){ki(n,"scrollEnd",WO);return}!Sr&&G&&G(k),nr=k,We.tween&&!dt&&(We.tween.kill(),We.tween=0),Z&&Z.pause(),_&&r&&r.revert({kill:!1}).invalidate(),k.isReverted||k.revert(!0,!0),k._subPinOffset=!1;var pn=te(),bt=me(),pt=R?R.duration():Lo(W,L),Bn=mt<=.01,yn=0,D=Tt||0,A=Tu(dt)?dt.end:i.end,U=i.endTrigger||p,V=Tu(dt)?dt.start:i.start||(i.start===0||!p?0:m?"0 0":"0 100%"),H=k.pinnedContainer=i.pinnedContainer&&kr(i.pinnedContainer,k),Y=p&&Math.max(0,Xt.indexOf(k))||0,le=Y,ce,pe,ve,Se,de,Fe,Oe,Ge,yt,wt,at,Ze,At;for(X&&Tu(dt)&&(Ze=ht.getProperty(se,L.p),At=ht.getProperty(He,L.p));le-- >0;)Fe=Xt[le],Fe.end||Fe.refresh(0,1)||(nr=k),Oe=Fe.pin,Oe&&(Oe===p||Oe===m||Oe===H)&&!Fe.isReverted&&(wt||(wt=[]),wt.unshift(Fe),Fe.revert(!0,!0)),Fe!==Xt[le]&&(Y--,le--);for(ar(V)&&(V=V(k)),V=A2(V,"start",k),_e=k2(V,p,pn,L,De(),Re,se,k,bt,Q,ne,pt,R,k._startClamp&&"_startClamp")||(m?-.001:0),ar(A)&&(A=A(k)),rs(A)&&!A.indexOf("+=")&&(~A.indexOf(" ")?A=(rs(V)?V.split(" ")[0]:"")+A:(yn=Av(A.substr(2),pn),A=rs(V)?V:(R?ht.utils.mapRange(0,R.duration(),R.scrollTrigger.start,R.scrollTrigger.end,_e):_e)+yn,U=p)),A=A2(A,"end",k),ge=Math.max(_e,k2(A||(U?"100% 0":pt),U,pn,L,De()+yn,Te,He,k,bt,Q,ne,pt,R,k._endClamp&&"_endClamp"))||-.001,yn=0,le=Y;le--;)Fe=Xt[le],Oe=Fe.pin,Oe&&Fe.start-Fe._pinPush<=_e&&!R&&Fe.end>0&&(ce=Fe.end-(k._startClamp?Math.max(0,Fe.start):Fe.start),(Oe===p&&Fe.start-Fe._pinPush<_e||Oe===H)&&isNaN(V)&&(yn+=ce*(1-Fe.progress)),Oe===m&&(D+=ce));if(_e+=yn,ge+=yn,k._startClamp&&(k._startClamp+=yn),k._endClamp&&!Sr&&(k._endClamp=ge||-.001,ge=Math.min(ge,Lo(W,L))),mt=ge-_e||(_e-=.01)&&.001,Bn&&(Ee=ht.utils.clamp(0,1,ht.utils.normalize(_e,ge,Ve))),k._pinPush=D,Re&&yn&&(ce={},ce[L.a]="+="+yn,H&&(ce[L.p]="-="+De()),ht.set([Re,Te],ce)),m&&!(vM&&k.end>=Lo(W,L)))ce=Vs(m),Se=L===Mi,ve=De(),Ke=parseFloat(Me(L.a))+D,!pt&&ge>1&&(at=(z?An.scrollingElement||os:W).style,at={style:at,value:at["overflow"+L.a.toUpperCase()]},z&&Vs(dn)["overflow"+L.a.toUpperCase()]!=="scroll"&&(at.style["overflow"+L.a.toUpperCase()]="scroll")),$1(m,ue,ce),F=d0(m),pe=fa(m,!0),Ge=ne&&Ul(W,Se?Er:Mi)(),v?(it=[v+L.os2,mt+D+wi],it.t=ue,le=v===di?Ry(m,L)+mt+D:0,le&&(it.push(L.d,le+wi),ue.style.flexBasis!=="auto"&&(ue.style.flexBasis=le+wi)),Qf(it),H&&Xt.forEach(function(st){st.pin===H&&st.vars.pinSpacing!==!1&&(st._subPinOffset=!0)}),ne&&De(Ve)):(le=Ry(m,L),le&&ue.style.flexBasis!=="auto"&&(ue.style.flexBasis=le+wi)),ne&&(de={top:pe.top+(Se?ve-_e:Ge)+wi,left:pe.left+(Se?Ge:ve-_e)+wi,boxSizing:"border-box",position:"fixed"},de[Yu]=de["max"+vh]=Math.ceil(pe.width)+wi,de[qu]=de["max"+eA]=Math.ceil(pe.height)+wi,de[Bs]=de[Bs+lp]=de[Bs+op]=de[Bs+up]=de[Bs+ap]="0",de[di]=ce[di],de[di+lp]=ce[di+lp],de[di+op]=ce[di+op],de[di+up]=ce[di+up],de[di+ap]=ce[di+ap],q=i9(Jt,de,b),Sr&&De(0)),r?(yt=r._initted,j1(1),r.render(r.duration(),!0,!0),ke=Me(L.a)-Ke+mt+D,Ae=Math.abs(mt-ke)>1,ne&&Ae&&q.splice(q.length-2,2),r.render(0,!0,!0),yt||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),j1(0)):ke=mt,at&&(at.value?at.style["overflow"+L.a.toUpperCase()]=at.value:at.style.removeProperty("overflow-"+L.a));else if(p&&De()&&!R)for(pe=p.parentNode;pe&&pe!==dn;)pe._pinOffset&&(_e-=pe._pinOffset,ge-=pe._pinOffset),pe=pe.parentNode;wt&&wt.forEach(function(st){return st.revert(!1,!0)}),k.start=_e,k.end=ge,Be=J=Sr?Ve:De(),!R&&!Sr&&(Be<Ve&&De(Ve),k.scroll.rec=0),k.revert(!1,!0),Ce=rr(),Xe&&(xe=-1,Xe.restart(!0)),nr=0,r&&B&&(r._initted||be)&&r.progress()!==be&&r.progress(be||0,!0).render(r.time(),!0,!0),(Bn||Ee!==k.progress||R||_||r&&!r._initted)&&(r&&!B&&r.totalProgress(R&&_e<-.001&&!Ee?ht.utils.normalize(_e,ge,0):Ee,!0),k.progress=Bn||(Be-_e)/mt===Ee?0:Ee),m&&v&&(ue._pinOffset=Math.round(k.progress*ke)),Z&&Z.invalidate(),isNaN(Ze)||(Ze-=ht.getProperty(se,L.p),At-=ht.getProperty(He,L.p),p0(se,L,Ze),p0(Re,L,Ze-(Tt||0)),p0(He,L,At),p0(Te,L,At-(Tt||0))),Bn&&!Sr&&k.update(),f&&!Sr&&!vt&&(vt=!0,f(k),vt=!1)}},k.getVelocity=function(){return(De()-J)/(rr()-Nd)*1e3||0},k.endAnimation=function(){fd(k.callbackAnimation),r&&(Z?Z.progress(1):r.paused()?B||fd(r,k.direction<0,1):fd(r,r.reversed()))},k.labelToScroll=function(qe){return r&&r.labels&&(_e||k.refresh()||_e)+r.labels[qe]/r.duration()*mt||0},k.getTrailing=function(qe){var Rt=Xt.indexOf(k),dt=k.direction>0?Xt.slice(0,Rt).reverse():Xt.slice(Rt+1);return(rs(qe)?dt.filter(function(Tt){return Tt.vars.preventOverlaps===qe}):dt).filter(function(Tt){return k.direction>0?Tt.end<=_e:Tt.start>=ge})},k.update=function(qe,Rt,dt){if(!(R&&!dt&&!qe)){var Tt=Sr===!0?Ve:k.scroll(),pn=qe?0:(Tt-_e)/mt,bt=pn<0?0:pn>1?1:pn||0,pt=k.progress,Bn,yn,D,A,U,V,H,Y;if(Rt&&(J=Be,Be=R?De():Tt,E&&(Je=rt,rt=r&&!B?r.totalProgress():bt)),x&&m&&!nr&&!a0&&Ys&&(!bt&&_e<Tt+(Tt-J)/(rr()-Nd)*x?bt=1e-4:bt===1&&ge>Tt+(Tt-J)/(rr()-Nd)*x&&(bt=.9999)),bt!==pt&&k.enabled){if(Bn=k.isActive=!!bt&&bt<1,yn=!!pt&&pt<1,V=Bn!==yn,U=V||!!bt!=!!pt,k.direction=bt>pt?1:-1,k.progress=bt,U&&!nr&&(D=bt&&!pt?0:bt===1?1:pt===1?2:3,B&&(A=!V&&re[D+1]!=="none"&&re[D+1]||re[D],Y=r&&(A==="complete"||A==="reset"||A in r))),C&&(V||Y)&&(Y||d||!r)&&(ar(C)?C(k):k.getTrailing(C).forEach(function(ve){return ve.endAnimation()})),B||(Z&&!nr&&!a0?(Z._dp._time-Z._start!==Z._time&&Z.render(Z._dp._time-Z._start),Z.resetTo?Z.resetTo("totalProgress",bt,r._tTime/r._tDur):(Z.vars.totalProgress=bt,Z.invalidate().restart())):r&&r.totalProgress(bt,!!(nr&&(Ce||qe)))),m){if(qe&&v&&(ue.style[v+L.os2]=Ye),!ne)Ie(kd(Ke+ke*bt));else if(U){if(H=!qe&&bt>pt&&ge+1>Tt&&Tt+1>=Lo(W,L),b)if(!qe&&(Bn||H)){var le=fa(m,!0),ce=Tt-_e;O2(m,dn,le.top+(L===Mi?ce:0)+wi,le.left+(L===Mi?0:ce)+wi)}else O2(m,ue);Qf(Bn||H?q:F),Ae&&bt<1&&Bn||Ie(Ke+(bt===1&&!H?ke:0))}}E&&!We.tween&&!nr&&!a0&&Xe.restart(!0),a&&(V||S&&bt&&(bt<1||!X1))&&qp(a.targets).forEach(function(ve){return ve.classList[Bn||S?"add":"remove"](a.className)}),o&&!B&&!qe&&o(k),U&&!nr?(B&&(Y&&(A==="complete"?r.pause().totalProgress(1):A==="reset"?r.restart(!0).pause():A==="restart"?r.restart(!0):r[A]()),o&&o(k)),(V||!X1)&&(u&&V&&q1(k,u),ee[D]&&q1(k,ee[D]),S&&(bt===1?k.kill(!1,1):ee[D]=0),V||(D=bt===1?1:3,ee[D]&&q1(k,ee[D]))),I&&!Bn&&Math.abs(k.getVelocity())>(Od(I)?I:2500)&&(fd(k.callbackAnimation),Z?Z.progress(1):fd(r,A==="reverse"?1:!bt,1))):B&&o&&!nr&&o(k)}if(Ht){var pe=R?Tt/R.duration()*(R._caScrollDist||0):Tt;Dt(pe+(se._isFlipped?1:0)),Ht(pe)}ot&&ot(-Tt/R.duration()*(R._caScrollDist||0))}},k.enable=function(qe,Rt){k.enabled||(k.enabled=!0,ki(W,"resize",Ud),z||ki(W,"scroll",Gc),G&&ki(n,"refreshInit",G),qe!==!1&&(k.progress=Ee=0,Be=J=xe=De()),Rt!==!1&&k.refresh())},k.getTween=function(qe){return qe&&We?We.tween:Z},k.setPositions=function(qe,Rt,dt,Tt){if(R){var pn=R.scrollTrigger,bt=R.duration(),pt=pn.end-pn.start;qe=pn.start+pt*qe/bt,Rt=pn.start+pt*Rt/bt}k.refresh(!1,!1,{start:b2(qe,dt&&!!k._startClamp),end:b2(Rt,dt&&!!k._endClamp)},Tt),k.update()},k.adjustPinSpacing=function(qe){if(it&&qe){var Rt=it.indexOf(L.d)+1;it[Rt]=parseFloat(it[Rt])+qe+wi,it[1]=parseFloat(it[1])+qe+wi,Qf(it)}},k.disable=function(qe,Rt){if(k.enabled&&(qe!==!1&&k.revert(!0,!0),k.enabled=k.isActive=!1,Rt||Z&&Z.pause(),Ve=0,_t&&(_t.uncache=1),G&&Di(n,"refreshInit",G),Xe&&(Xe.pause(),We.tween&&We.tween.kill()&&(We.tween=0)),!z)){for(var dt=Xt.length;dt--;)if(Xt[dt].scroller===W&&Xt[dt]!==k)return;Di(W,"resize",Ud),z||Di(W,"scroll",Gc)}},k.kill=function(qe,Rt){k.disable(qe,Rt),Z&&!Rt&&Z.kill(),l&&delete yM[l];var dt=Xt.indexOf(k);dt>=0&&Xt.splice(dt,1),dt===wr&&Cv>0&&wr--,dt=0,Xt.forEach(function(Tt){return Tt.scroller===k.scroller&&(dt=1)}),dt||Sr||(k.scroll.rec=0),r&&(r.scrollTrigger=null,qe&&r.revert({kill:!1}),Rt||r.kill()),Re&&[Re,Te,se,He].forEach(function(Tt){return Tt.parentNode&&Tt.parentNode.removeChild(Tt)}),cp===k&&(cp=0),m&&(_t&&(_t.uncache=1),dt=0,Xt.forEach(function(Tt){return Tt.pin===m&&dt++}),dt||(_t.spacer=0)),i.onKill&&i.onKill(k)},Xt.push(k),k.enable(!1,!1),Et&&Et(k),r&&r.add&&!mt){var Pt=k.update;k.update=function(){k.update=Pt,$t.cache++,_e||ge||k.refresh()},ht.delayedCall(.01,k.update),mt=.01,_e=ge=0}else k.refresh();m&&e9()},n.register=function(i){return pf||(ht=i||FO(),UO()&&window.document&&n.enable(),pf=Dd),pf},n.defaults=function(i){if(i)for(var r in i)f0[r]=i[r];return f0},n.disable=function(i,r){Dd=0,Xt.forEach(function(o){return o[r?"kill":"disable"](i)}),Di(Zt,"wheel",Gc),Di(An,"scroll",Gc),clearInterval(o0),Di(An,"touchcancel",Co),Di(dn,"touchstart",Co),u0(Di,An,"pointerdown,touchstart,mousedown",C2),u0(Di,An,"pointerup,touchend,mouseup",P2),Cy.kill(),l0(Di);for(var s=0;s<$t.length;s+=3)c0(Di,$t[s],$t[s+1]),c0(Di,$t[s],$t[s+2])},n.enable=function(){if(Zt=window,An=document,os=An.documentElement,dn=An.body,ht&&(qp=ht.utils.toArray,sp=ht.utils.clamp,gM=ht.core.context||Co,j1=ht.core.suppressOverwrites||Co,$T=Zt.history.scrollRestoration||"auto",_M=Zt.pageYOffset||0,ht.core.globals("ScrollTrigger",n),dn)){Dd=1,Jf=document.createElement("div"),Jf.style.height="100vh",Jf.style.position="absolute",YO(),Yj(),li.register(ht),n.isTouch=li.isTouch,Ka=li.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),mM=li.isTouch===1,ki(Zt,"wheel",Gc),ZT=[Zt,An,os,dn],ht.matchMedia?(n.matchMedia=function(u){var f=ht.matchMedia(),d;for(d in u)f.add(d,u[d]);return f},ht.addEventListener("matchMediaInit",function(){return nA()}),ht.addEventListener("matchMediaRevert",function(){return jO()}),ht.addEventListener("matchMedia",function(){Du(0,1),uc("matchMedia")}),ht.matchMedia().add("(orientation: portrait)",function(){return Z1(),Z1})):console.warn("Requires GSAP 3.11.0 or later"),Z1(),ki(An,"scroll",Gc);var i=dn.hasAttribute("style"),r=dn.style,s=r.borderTopStyle,o=ht.core.Animation.prototype,a,l;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",a=fa(dn),Mi.m=Math.round(a.top+Mi.sc())||0,Er.m=Math.round(a.left+Er.sc())||0,s?r.borderTopStyle=s:r.removeProperty("border-top-style"),i||(dn.setAttribute("style",""),dn.removeAttribute("style")),o0=setInterval(L2,250),ht.delayedCall(.5,function(){return a0=0}),ki(An,"touchcancel",Co),ki(dn,"touchstart",Co),u0(ki,An,"pointerdown,touchstart,mousedown",C2),u0(ki,An,"pointerup,touchend,mouseup",P2),pM=ht.utils.checkPrefix("transform"),Pv.push(pM),pf=rr(),Cy=ht.delayedCall(.2,Du).pause(),mf=[An,"visibilitychange",function(){var u=Zt.innerWidth,f=Zt.innerHeight;An.hidden?(E2=u,T2=f):(E2!==u||T2!==f)&&Ud()},An,"DOMContentLoaded",Du,Zt,"load",Du,Zt,"resize",Ud],l0(ki),Xt.forEach(function(u){return u.enable(0,1)}),l=0;l<$t.length;l+=3)c0(Di,$t[l],$t[l+1]),c0(Di,$t[l],$t[l+2])}},n.config=function(i){"limitCallbacks"in i&&(X1=!!i.limitCallbacks);var r=i.syncInterval;r&&clearInterval(o0)||(o0=r)&&setInterval(L2,r),"ignoreMobileResize"in i&&(mM=n.isTouch===1&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(l0(Di)||l0(ki,i.autoRefreshEvents||"none"),DO=(i.autoRefreshEvents+"").indexOf("resize")===-1)},n.scrollerProxy=function(i,r){var s=kr(i),o=$t.indexOf(s),a=ac(s);~o&&$t.splice(o,a?6:2),r&&(a?zo.unshift(Zt,r,dn,r,os,r):zo.unshift(s,r))},n.clearMatchMedia=function(i){Xt.forEach(function(r){return r._ctx&&r._ctx.query===i&&r._ctx.kill(!0,!0)})},n.isInViewport=function(i,r,s){var o=(rs(i)?kr(i):i).getBoundingClientRect(),a=o[s?Yu:qu]*r||0;return s?o.right-a>0&&o.left+a<Zt.innerWidth:o.bottom-a>0&&o.top+a<Zt.innerHeight},n.positionInViewport=function(i,r,s){rs(i)&&(i=kr(i));var o=i.getBoundingClientRect(),a=o[s?Yu:qu],l=r==null?a/2:r in Iy?Iy[r]*a:~r.indexOf("%")?parseFloat(r)*a/100:parseFloat(r)||0;return s?(o.left+l)/Zt.innerWidth:(o.top+l)/Zt.innerHeight},n.killAll=function(i){if(Xt.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),i!==!0){var r=lc.killAll||[];lc={},r.forEach(function(s){return s()})}},n}();Yt.version="3.12.7";Yt.saveStyles=function(n){return n?qp(n).forEach(function(e){if(e&&e.style){var t=ns.indexOf(e);t>=0&&ns.splice(t,5),ns.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),ht.core.getCache(e),gM())}}):ns};Yt.revert=function(n,e){return nA(!n,e)};Yt.create=function(n,e){return new Yt(n,e)};Yt.refresh=function(n){return n?Ud(!0):(pf||Yt.register())&&Du(!0)};Yt.update=function(n){return++$t.cache&&xa(n===!0?2:0)};Yt.clearScrollMemory=XO;Yt.maxScroll=function(n,e){return Lo(n,e?Er:Mi)};Yt.getScrollFunc=function(n,e){return Ul(kr(n),e?Er:Mi)};Yt.getById=function(n){return yM[n]};Yt.getAll=function(){return Xt.filter(function(n){return n.vars.id!=="ScrollSmoother"})};Yt.isScrolling=function(){return!!Ys};Yt.snapDirectional=tA;Yt.addEventListener=function(n,e){var t=lc[n]||(lc[n]=[]);~t.indexOf(e)||t.push(e)};Yt.removeEventListener=function(n,e){var t=lc[n],i=t&&t.indexOf(e);i>=0&&t.splice(i,1)};Yt.batch=function(n,e){var t=[],i={},r=e.interval||.016,s=e.batchMax||1e9,o=function(u,f){var d=[],p=[],m=ht.delayedCall(r,function(){f(d,p),d=[],p=[]}).pause();return function(v){d.length||m.restart(!0),d.push(v.trigger),p.push(v),s<=d.length&&m.progress(1)}},a;for(a in e)i[a]=a.substr(0,2)==="on"&&ar(e[a])&&a!=="onRefreshInit"?o(a,e[a]):e[a];return ar(s)&&(s=s(),ki(Yt,"refresh",function(){return s=e.batchMax()})),qp(n).forEach(function(l){var u={};for(a in i)u[a]=i[a];u.trigger=l,t.push(Yt.create(u))}),t};var F2=function(e,t,i,r){return t>r?e(r):t<0&&e(0),i>r?(r-t)/(i-t):i<0?t/(t-i):1},K1=function n(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(li.isTouch?" pinch-zoom":""):"none",e===os&&n(dn,t)},m0={auto:1,scroll:1},s9=function(e){var t=e.event,i=e.target,r=e.axis,s=(t.changedTouches?t.changedTouches[0]:t).target,o=s._gsap||ht.core.getCache(s),a=rr(),l;if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==dn&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(m0[(l=Vs(s)).overflowY]||m0[l.overflowX]));)s=s.parentNode;o._isScroll=s&&s!==i&&!ac(s)&&(m0[(l=Vs(s)).overflowY]||m0[l.overflowX]),o._isScrollT=a}(o._isScroll||r==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},ZO=function(e,t,i,r){return li.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&s9,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return i&&ki(An,li.eventTypes[0],B2,!1,!0)},onDisable:function(){return Di(An,li.eventTypes[0],B2,!0)}})},o9=/(input|label|select|textarea)/i,z2,B2=function(e){var t=o9.test(e.target.tagName);(t||z2)&&(e._gsapAllow=!0,z2=t)},a9=function(e){Tu(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,i=t.normalizeScrollX,r=t.momentum,s=t.allowNestedScroll,o=t.onRelease,a,l,u=kr(e.target)||os,f=ht.core.globals().ScrollSmoother,d=f&&f.get(),p=Ka&&(e.content&&kr(e.content)||d&&e.content!==!1&&!d.smooth()&&d.content()),m=Ul(u,Mi),v=Ul(u,Er),_=1,x=(li.isTouch&&Zt.visualViewport?Zt.visualViewport.scale*Zt.visualViewport.width:Zt.outerWidth)/Zt.innerWidth,g=0,w=ar(r)?function(){return r(a)}:function(){return r||2.8},S,E,b=ZO(u,e.type,!0,s),P=function(){return E=!1},R=Co,I=Co,C=function(){l=Lo(u,Mi),I=sp(Ka?1:0,l),i&&(R=sp(0,Lo(u,Er))),S=Zu},L=function(){p._gsap.y=kd(parseFloat(p._gsap.y)+m.offset)+"px",p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(p._gsap.y)+", 0, 1)",m.offset=m.cacheID=0},B=function(){if(E){requestAnimationFrame(P);var X=kd(a.deltaY/2),Q=I(m.v-X);if(p&&Q!==m.v+m.offset){m.offset=Q-m.v;var k=kd((parseFloat(p&&p._gsap.y)||0)-m.offset);p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+k+", 0, 1)",p._gsap.y=k+"px",m.cacheID=$t.cache,xa()}return!0}m.offset&&L(),E=!0},W,ie,z,ne,ee=function(){C(),W.isActive()&&W.vars.scrollY>l&&(m()>l?W.progress(1)&&m(l):W.resetTo("scrollY",l))};return p&&ht.set(p,{y:"+=0"}),e.ignoreCheck=function(re){return Ka&&re.type==="touchmove"&&B()||_>1.05&&re.type!=="touchstart"||a.isGesturing||re.touches&&re.touches.length>1},e.onPress=function(){E=!1;var re=_;_=kd((Zt.visualViewport&&Zt.visualViewport.scale||1)/x),W.pause(),re!==_&&K1(u,_>1.01?!0:i?!1:"x"),ie=v(),z=m(),C(),S=Zu},e.onRelease=e.onGestureStart=function(re,X){if(m.offset&&L(),!X)ne.restart(!0);else{$t.cache++;var Q=w(),k,G;i&&(k=v(),G=k+Q*.05*-re.velocityX/.227,Q*=F2(v,k,G,Lo(u,Er)),W.vars.scrollX=R(G)),k=m(),G=k+Q*.05*-re.velocityY/.227,Q*=F2(m,k,G,Lo(u,Mi)),W.vars.scrollY=I(G),W.invalidate().duration(Q).play(.01),(Ka&&W.vars.scrollY>=l||k>=l-1)&&ht.to({},{onUpdate:ee,duration:Q})}o&&o(re)},e.onWheel=function(){W._ts&&W.pause(),rr()-g>1e3&&(S=0,g=rr())},e.onChange=function(re,X,Q,k,G){if(Zu!==S&&C(),X&&i&&v(R(k[2]===X?ie+(re.startX-re.x):v()+X-k[1])),Q){m.offset&&L();var te=G[2]===Q,me=te?z+re.startY-re.y:m()+Q-G[1],xe=I(me);te&&me!==xe&&(z+=xe-me),m(xe)}(Q||X)&&xa()},e.onEnable=function(){K1(u,i?!1:"x"),Yt.addEventListener("refresh",ee),ki(Zt,"resize",ee),m.smooth&&(m.target.style.scrollBehavior="auto",m.smooth=v.smooth=!1),b.enable()},e.onDisable=function(){K1(u,!0),Di(Zt,"resize",ee),Yt.removeEventListener("refresh",ee),b.kill()},e.lockAxis=e.lockAxis!==!1,a=new li(e),a.iOS=Ka,Ka&&!m()&&m(1),Ka&&ht.ticker.add(Co),ne=a._dc,W=ht.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:i?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:qO(m,m(),function(){return W.pause()})},onUpdate:xa,onComplete:ne.vars.onComplete}),a};Yt.sort=function(n){if(ar(n))return Xt.sort(n);var e=Zt.pageYOffset||0;return Yt.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+Zt.innerHeight}),Xt.sort(n||function(t,i){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((i.vars.containerAnimation?1e6:i._sortY)+(i.vars.refreshPriority||0)*-1e6)})};Yt.observe=function(n){return new li(n)};Yt.normalizeScroll=function(n){if(typeof n>"u")return _r;if(n===!0&&_r)return _r.enable();if(n===!1){_r&&_r.kill(),_r=n;return}var e=n instanceof li?n:a9(n);return _r&&_r.target===e.target&&_r.kill(),ac(e.target)&&(_r=e),e};Yt.core={_getVelocityProp:dM,_inputObserver:ZO,_scrollers:$t,_proxies:zo,bridge:{ss:function(){Ys||uc("scrollStart"),Ys=rr()},ref:function(){return nr}}};FO()&&ht.registerPlugin(Yt);Ca.registerPlugin(Yt);const Rn=({children:n,className:e})=>{const t=K.useRef(null);return K.useEffect(()=>{t.current&&Ca.fromTo(t.current,{opacity:0,y:50},{opacity:1,y:0,duration:1.5,scrollTrigger:{trigger:t.current,start:"top 80%",end:"top 50%",scrub:!0}})},[]),O.jsx("span",{ref:t,className:e,children:n})},wc=()=>{const n=vc();return O.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 px-8 py-6 flex justify-between items-center",children:[O.jsx(je.div,{className:"text-lg font-bold tracking-[0.2em] text-white/90",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:O.jsx(Ei,{to:"/",children:O.jsx(Rn,{children:"INSURX·COM"})})}),O.jsxs(je.nav,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex items-center gap-8",children:[O.jsx(Ei,{to:"/about",className:`text-sm tracking-[0.2em] ${n.pathname==="/about"?"text-white":"text-white/60 hover:text-white"} transition-colors duration-300`,children:O.jsx(Rn,{children:"ABOUT"})}),O.jsx(Ei,{to:"/services",className:`text-sm tracking-[0.2em] ${n.pathname==="/services"?"text-white":"text-white/60 hover:text-white"} transition-colors duration-300`,children:O.jsx(Rn,{children:"SERVICES"})}),O.jsx(Ei,{to:"/blogs",className:`text-sm tracking-[0.2em] ${n.pathname.startsWith("/blogs")?"text-white":"text-white/60 hover:text-white"} transition-colors duration-300`,children:O.jsx(Rn,{children:"BLOGS"})}),O.jsx(Ei,{to:"/newsletter",className:`text-sm tracking-[0.2em] ${n.pathname==="/newsletter"?"text-white":"text-white/60 hover:text-white"} transition-colors duration-300`,children:O.jsx(Rn,{children:"NEWSLETTER"})}),O.jsx(Ei,{to:"/book-a-call",className:`px-6 py-2 border border-white/10 rounded-full ${n.pathname==="/book-a-call"?"bg-white text-black":"text-white/80 hover:bg-white/5 hover:border-white/20"} transition-all duration-300 tracking-[0.2em] text-sm backdrop-blur-sm`,children:"BOOK A CALL"})]})]})};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Rm="157",l9={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},u9={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},$O=0,wM=1,KO=2,c9=3,JO=0,v_=1,fp=2,ro=3,Pa=0,Ar=1,uo=2,f9=2,Bo=0,$u=1,SM=2,MM=3,EM=4,QO=5,bu=100,eU=101,tU=102,TM=103,AM=104,nU=200,iU=201,rU=202,sU=203,iA=204,rA=205,oU=206,aU=207,lU=208,uU=209,cU=210,fU=0,hU=1,dU=2,Ly=3,pU=4,mU=5,gU=6,vU=7,Im=0,yU=1,_U=2,Vo=0,xU=1,wU=2,SU=3,sA=4,MU=5,Fl=300,Wo=301,zl=302,yh=303,$p=304,Ch=306,Kp=1e3,zn=1001,Jp=1002,oi=1003,Ny=1004,h9=1004,hp=1005,d9=1005,cn=1006,oA=1007,p9=1007,Bl=1008,bM=1008,ps=1009,aA=1010,lA=1011,y_=1012,__=1013,No=1014,bi=1015,zi=1016,uA=1017,cA=1018,Cl=1020,EU=1021,Ti=1023,TU=1024,AU=1025,Pl=1026,cc=1027,fA=1028,hA=1029,bU=1030,dA=1031,pA=1033,Iv=33776,Lv=33777,Nv=33778,Dv=33779,CM=35840,PM=35841,RM=35842,IM=35843,CU=36196,LM=37492,NM=37496,DM=37808,kM=37809,OM=37810,UM=37811,FM=37812,zM=37813,BM=37814,VM=37815,HM=37816,GM=37817,WM=37818,jM=37819,XM=37820,YM=37821,kv=36492,qM=36494,ZM=36495,PU=36283,$M=36284,KM=36285,JM=36286,RU=2200,IU=2201,LU=2202,Qp=2300,em=2301,Ov=2302,ku=2400,Ou=2401,tm=2402,x_=2500,mA=2501,m9=0,g9=1,v9=2,gA=3e3,Rl=3001,NU=3200,DU=3201,ql=0,kU=1,us="",gi="srgb",ws="srgb-linear",w_="display-p3",Lm="display-p3-linear",nm="linear",bn="srgb",im="rec709",rm="p3",y9=0,Uv=7680,_9=7681,x9=7682,w9=7683,S9=34055,M9=34056,E9=5386,T9=512,A9=513,b9=514,C9=515,P9=516,R9=517,I9=518,OU=519,UU=512,FU=513,zU=514,BU=515,VU=516,HU=517,GU=518,WU=519,sm=35044,L9=35048,N9=35040,D9=35045,k9=35049,O9=35041,U9=35046,F9=35050,z9=35042,B9="100",QM="300 es",Dy=1035,Do=2e3,om=2001;class Ia{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const er=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let V2=1234567;const Ku=Math.PI/180,_h=180/Math.PI;function ms(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(er[n&255]+er[n>>8&255]+er[n>>16&255]+er[n>>24&255]+"-"+er[e&255]+er[e>>8&255]+"-"+er[e>>16&15|64]+er[e>>24&255]+"-"+er[t&63|128]+er[t>>8&255]+"-"+er[t>>16&255]+er[t>>24&255]+er[i&255]+er[i>>8&255]+er[i>>16&255]+er[i>>24&255]).toLowerCase()}function Qn(n,e,t){return Math.max(e,Math.min(t,n))}function vA(n,e){return(n%e+e)%e}function V9(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function H9(n,e,t){return n!==e?(t-n)/(e-n):0}function dp(n,e,t){return(1-t)*n+t*e}function G9(n,e,t,i){return dp(n,e,1-Math.exp(-t*i))}function W9(n,e=1){return e-Math.abs(vA(n,e*2)-e)}function j9(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function X9(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Y9(n,e){return n+Math.floor(Math.random()*(e-n+1))}function q9(n,e){return n+Math.random()*(e-n)}function Z9(n){return n*(.5-Math.random())}function $9(n){n!==void 0&&(V2=n);let e=V2+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function K9(n){return n*Ku}function J9(n){return n*_h}function eE(n){return(n&n-1)===0&&n!==0}function jU(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function ky(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Q9(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+i)/2),f=o((e+i)/2),d=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),v=o((i-e)/2);switch(r){case"XYX":n.set(a*f,l*d,l*p,a*u);break;case"YZY":n.set(l*p,a*f,l*d,a*u);break;case"ZXZ":n.set(l*d,l*p,a*f,a*u);break;case"XZX":n.set(a*f,l*v,l*m,a*u);break;case"YXY":n.set(l*m,a*f,l*v,a*u);break;case"ZYZ":n.set(l*v,l*m,a*f,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Fr(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Vt(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const e7={DEG2RAD:Ku,RAD2DEG:_h,generateUUID:ms,clamp:Qn,euclideanModulo:vA,mapLinear:V9,inverseLerp:H9,lerp:dp,damp:G9,pingpong:W9,smoothstep:j9,smootherstep:X9,randInt:Y9,randFloat:q9,randFloatSpread:Z9,seededRandom:$9,degToRad:K9,radToDeg:J9,isPowerOfTwo:eE,ceilPowerOfTwo:jU,floorPowerOfTwo:ky,setQuaternionFromProperEuler:Q9,normalize:Vt,denormalize:Fr};class Pe{constructor(e=0,t=0){Pe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Qn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Wt{constructor(e,t,i,r,s,o,a,l,u){Wt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,u)}set(e,t,i,r,s,o,a,l,u){const f=this.elements;return f[0]=e,f[1]=r,f[2]=a,f[3]=t,f[4]=s,f[5]=l,f[6]=i,f[7]=o,f[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],u=i[1],f=i[4],d=i[7],p=i[2],m=i[5],v=i[8],_=r[0],x=r[3],g=r[6],w=r[1],S=r[4],E=r[7],b=r[2],P=r[5],R=r[8];return s[0]=o*_+a*w+l*b,s[3]=o*x+a*S+l*P,s[6]=o*g+a*E+l*R,s[1]=u*_+f*w+d*b,s[4]=u*x+f*S+d*P,s[7]=u*g+f*E+d*R,s[2]=p*_+m*w+v*b,s[5]=p*x+m*S+v*P,s[8]=p*g+m*E+v*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8];return t*o*f-t*a*u-i*s*f+i*a*l+r*s*u-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],d=f*o-a*u,p=a*l-f*s,m=u*s-o*l,v=t*d+i*p+r*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/v;return e[0]=d*_,e[1]=(r*u-f*i)*_,e[2]=(a*i-r*o)*_,e[3]=p*_,e[4]=(f*t-r*l)*_,e[5]=(r*s-a*t)*_,e[6]=m*_,e[7]=(i*l-u*t)*_,e[8]=(o*t-i*s)*_,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(i*l,i*u,-i*(l*o+u*a)+o+e,-r*u,r*l,-r*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(J1.makeScale(e,t)),this}rotate(e){return this.premultiply(J1.makeRotation(-e)),this}translate(e,t){return this.premultiply(J1.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const J1=new Wt;function XU(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const t7={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Uf(n,e){return new t7[n](e)}function am(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function YU(){const n=am("canvas");return n.style.display="block",n}const H2={};function pp(n){n in H2||(H2[n]=!0,console.warn(n))}const G2=new Wt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),W2=new Wt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),g0={[ws]:{transfer:nm,primaries:im,toReference:n=>n,fromReference:n=>n},[gi]:{transfer:bn,primaries:im,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[Lm]:{transfer:nm,primaries:rm,toReference:n=>n.applyMatrix3(W2),fromReference:n=>n.applyMatrix3(G2)},[w_]:{transfer:bn,primaries:rm,toReference:n=>n.convertSRGBToLinear().applyMatrix3(W2),fromReference:n=>n.applyMatrix3(G2).convertLinearToSRGB()}},n7=new Set([ws,Lm]),mn={enabled:!0,_workingColorSpace:ws,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!n7.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=g0[e].toReference,r=g0[t].fromReference;return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return g0[n].primaries},getTransfer:function(n){return n===us?nm:g0[n].transfer}};function eh(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Q1(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Wc;class yA{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Wc===void 0&&(Wc=am("canvas")),Wc.width=e.width,Wc.height=e.height;const i=Wc.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Wc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=am("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=eh(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(eh(t[i]/255)*255):t[i]=eh(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let i7=0;class Uu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:i7++}),this.uuid=ms(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(ew(r[o].image)):s.push(ew(r[o]))}else s=ew(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function ew(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?yA.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let r7=0;class Mn extends Ia{constructor(e=Mn.DEFAULT_IMAGE,t=Mn.DEFAULT_MAPPING,i=zn,r=zn,s=cn,o=Bl,a=Ti,l=ps,u=Mn.DEFAULT_ANISOTROPY,f=us){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:r7++}),this.uuid=ms(),this.name="",this.source=new Uu(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Pe(0,0),this.repeat=new Pe(1,1),this.center=new Pe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Wt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof f=="string"?this.colorSpace=f:(pp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=f===Rl?gi:us),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Fl)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Kp:e.x=e.x-Math.floor(e.x);break;case zn:e.x=e.x<0?0:1;break;case Jp:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Kp:e.y=e.y-Math.floor(e.y);break;case zn:e.y=e.y<0?0:1;break;case Jp:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return pp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===gi?Rl:gA}set encoding(e){pp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Rl?gi:us}}Mn.DEFAULT_IMAGE=null;Mn.DEFAULT_MAPPING=Fl;Mn.DEFAULT_ANISOTROPY=1;class gn{constructor(e=0,t=0,i=0,r=1){gn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,u=l[0],f=l[4],d=l[8],p=l[1],m=l[5],v=l[9],_=l[2],x=l[6],g=l[10];if(Math.abs(f-p)<.01&&Math.abs(d-_)<.01&&Math.abs(v-x)<.01){if(Math.abs(f+p)<.1&&Math.abs(d+_)<.1&&Math.abs(v+x)<.1&&Math.abs(u+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(u+1)/2,E=(m+1)/2,b=(g+1)/2,P=(f+p)/4,R=(d+_)/4,I=(v+x)/4;return S>E&&S>b?S<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(S),r=P/i,s=R/i):E>b?E<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(E),i=P/r,s=I/r):b<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(b),i=R/s,r=I/s),this.set(i,r,s,t),this}let w=Math.sqrt((x-v)*(x-v)+(d-_)*(d-_)+(p-f)*(p-f));return Math.abs(w)<.001&&(w=1),this.x=(x-v)/w,this.y=(d-_)/w,this.z=(p-f)/w,this.w=Math.acos((u+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class qU extends Ia{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new gn(0,0,e,t),this.scissorTest=!1,this.viewport=new gn(0,0,e,t);const r={width:e,height:t,depth:1};i.encoding!==void 0&&(pp("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Rl?gi:us),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:cn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),this.texture=new Mn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps,this.texture.internalFormat=i.internalFormat,this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Uu(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ss extends qU{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class S_ extends Mn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=oi,this.minFilter=oi,this.wrapR=zn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class s7 extends Ss{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new S_(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class _A extends Mn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=oi,this.minFilter=oi,this.wrapR=zn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class o7 extends Ss{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new _A(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class a7 extends Ss{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Yr{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],u=i[r+1],f=i[r+2],d=i[r+3];const p=s[o+0],m=s[o+1],v=s[o+2],_=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=f,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=_;return}if(d!==_||l!==p||u!==m||f!==v){let x=1-a;const g=l*p+u*m+f*v+d*_,w=g>=0?1:-1,S=1-g*g;if(S>Number.EPSILON){const b=Math.sqrt(S),P=Math.atan2(b,g*w);x=Math.sin(x*P)/b,a=Math.sin(a*P)/b}const E=a*w;if(l=l*x+p*E,u=u*x+m*E,f=f*x+v*E,d=d*x+_*E,x===1-a){const b=1/Math.sqrt(l*l+u*u+f*f+d*d);l*=b,u*=b,f*=b,d*=b}}e[t]=l,e[t+1]=u,e[t+2]=f,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],u=i[r+2],f=i[r+3],d=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+f*d+l*m-u*p,e[t+1]=l*v+f*p+u*d-a*m,e[t+2]=u*v+f*m+a*p-l*d,e[t+3]=f*v-a*d-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(i/2),f=a(r/2),d=a(s/2),p=l(i/2),m=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=p*f*d+u*m*v,this._y=u*m*d-p*f*v,this._z=u*f*v+p*m*d,this._w=u*f*d-p*m*v;break;case"YXZ":this._x=p*f*d+u*m*v,this._y=u*m*d-p*f*v,this._z=u*f*v-p*m*d,this._w=u*f*d+p*m*v;break;case"ZXY":this._x=p*f*d-u*m*v,this._y=u*m*d+p*f*v,this._z=u*f*v+p*m*d,this._w=u*f*d-p*m*v;break;case"ZYX":this._x=p*f*d-u*m*v,this._y=u*m*d+p*f*v,this._z=u*f*v-p*m*d,this._w=u*f*d+p*m*v;break;case"YZX":this._x=p*f*d+u*m*v,this._y=u*m*d+p*f*v,this._z=u*f*v-p*m*d,this._w=u*f*d-p*m*v;break;case"XZY":this._x=p*f*d-u*m*v,this._y=u*m*d-p*f*v,this._z=u*f*v+p*m*d,this._w=u*f*d+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],f=t[6],d=t[10],p=i+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(f-l)*m,this._y=(s-u)*m,this._z=(o-r)*m}else if(i>a&&i>d){const m=2*Math.sqrt(1+i-a-d);this._w=(f-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+u)/m}else if(a>d){const m=2*Math.sqrt(1+a-i-d);this._w=(s-u)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+f)/m}else{const m=2*Math.sqrt(1+d-i-a);this._w=(o-r)/m,this._x=(s+u)/m,this._y=(l+f)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Qn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,f=t._w;return this._x=i*f+o*a+r*u-s*l,this._y=r*f+o*l+s*a-i*u,this._z=s*f+o*u+i*l-r*a,this._w=o*f-i*a-r*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),f=Math.atan2(u,a),d=Math.sin((1-t)*f)/u,p=Math.sin(t*f)/u;return this._w=o*d+this._w*p,this._x=i*d+this._x*p,this._y=r*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class j{constructor(e=0,t=0,i=0){j.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(j2.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(j2.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*r-a*i,f=l*i+a*t-s*r,d=l*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=u*l+p*-s+f*-a-d*-o,this.y=f*l+p*-o+d*-s-u*-a,this.z=d*l+p*-a+u*-o-f*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return tw.copy(this).projectOnVector(e),this.sub(tw)}reflect(e){return this.sub(tw.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Qn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const tw=new j,j2=new Yr;class jo{constructor(e=new j(1/0,1/0,1/0),t=new j(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(ta.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(ta.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=ta.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),jc.copy(e.boundingBox),jc.applyMatrix4(e.matrixWorld),this.union(jc);else{const r=e.geometry;if(r!==void 0)if(t&&r.attributes!==void 0&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)ta.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(ta)}else r.boundingBox===null&&r.computeBoundingBox(),jc.copy(r.boundingBox),jc.applyMatrix4(e.matrixWorld),this.union(jc)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ta),ta.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(hd),v0.subVectors(this.max,hd),Xc.subVectors(e.a,hd),Yc.subVectors(e.b,hd),qc.subVectors(e.c,hd),Ha.subVectors(Yc,Xc),Ga.subVectors(qc,Yc),uu.subVectors(Xc,qc);let t=[0,-Ha.z,Ha.y,0,-Ga.z,Ga.y,0,-uu.z,uu.y,Ha.z,0,-Ha.x,Ga.z,0,-Ga.x,uu.z,0,-uu.x,-Ha.y,Ha.x,0,-Ga.y,Ga.x,0,-uu.y,uu.x,0];return!nw(t,Xc,Yc,qc,v0)||(t=[1,0,0,0,1,0,0,0,1],!nw(t,Xc,Yc,qc,v0))?!1:(y0.crossVectors(Ha,Ga),t=[y0.x,y0.y,y0.z],nw(t,Xc,Yc,qc,v0))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ta).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ta).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ea[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ea[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ea[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ea[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ea[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ea[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ea[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ea[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ea),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ea=[new j,new j,new j,new j,new j,new j,new j,new j],ta=new j,jc=new jo,Xc=new j,Yc=new j,qc=new j,Ha=new j,Ga=new j,uu=new j,hd=new j,v0=new j,y0=new j,cu=new j;function nw(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){cu.fromArray(n,s);const a=r.x*Math.abs(cu.x)+r.y*Math.abs(cu.y)+r.z*Math.abs(cu.z),l=e.dot(cu),u=t.dot(cu),f=i.dot(cu);if(Math.max(-Math.max(l,u,f),Math.min(l,u,f))>a)return!1}return!0}const l7=new jo,dd=new j,iw=new j;let po=class{constructor(e=new j,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):l7.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;dd.subVectors(e,this.center);const t=dd.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(dd,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(iw.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(dd.copy(e.center).add(iw)),this.expandByPoint(dd.copy(e.center).sub(iw))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const na=new j,rw=new j,_0=new j,Wa=new j,sw=new j,x0=new j,ow=new j;class Ph{constructor(e=new j,t=new j(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,na)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=na.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(na.copy(this.origin).addScaledVector(this.direction,t),na.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){rw.copy(e).add(t).multiplyScalar(.5),_0.copy(t).sub(e).normalize(),Wa.copy(this.origin).sub(rw);const s=e.distanceTo(t)*.5,o=-this.direction.dot(_0),a=Wa.dot(this.direction),l=-Wa.dot(_0),u=Wa.lengthSq(),f=Math.abs(1-o*o);let d,p,m,v;if(f>0)if(d=o*l-a,p=o*a-l,v=s*f,d>=0)if(p>=-v)if(p<=v){const _=1/f;d*=_,p*=_,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+u}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p<=-v?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u):p<=v?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(rw).addScaledVector(_0,p),m}intersectSphere(e,t){na.subVectors(e.center,this.origin);const i=na.dot(this.direction),r=na.dot(na)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const u=1/this.direction.x,f=1/this.direction.y,d=1/this.direction.z,p=this.origin;return u>=0?(i=(e.min.x-p.x)*u,r=(e.max.x-p.x)*u):(i=(e.max.x-p.x)*u,r=(e.min.x-p.x)*u),f>=0?(s=(e.min.y-p.y)*f,o=(e.max.y-p.y)*f):(s=(e.max.y-p.y)*f,o=(e.min.y-p.y)*f),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,na)!==null}intersectTriangle(e,t,i,r,s){sw.subVectors(t,e),x0.subVectors(i,e),ow.crossVectors(sw,x0);let o=this.direction.dot(ow),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Wa.subVectors(this.origin,e);const l=a*this.direction.dot(x0.crossVectors(Wa,x0));if(l<0)return null;const u=a*this.direction.dot(sw.cross(Wa));if(u<0||l+u>o)return null;const f=-a*Wa.dot(ow);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class zt{constructor(e,t,i,r,s,o,a,l,u,f,d,p,m,v,_,x){zt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,u,f,d,p,m,v,_,x)}set(e,t,i,r,s,o,a,l,u,f,d,p,m,v,_,x){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=u,g[6]=f,g[10]=d,g[14]=p,g[3]=m,g[7]=v,g[11]=_,g[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new zt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Zc.setFromMatrixColumn(e,0).length(),s=1/Zc.setFromMatrixColumn(e,1).length(),o=1/Zc.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),u=Math.sin(r),f=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*f,m=o*d,v=a*f,_=a*d;t[0]=l*f,t[4]=-l*d,t[8]=u,t[1]=m+v*u,t[5]=p-_*u,t[9]=-a*l,t[2]=_-p*u,t[6]=v+m*u,t[10]=o*l}else if(e.order==="YXZ"){const p=l*f,m=l*d,v=u*f,_=u*d;t[0]=p+_*a,t[4]=v*a-m,t[8]=o*u,t[1]=o*d,t[5]=o*f,t[9]=-a,t[2]=m*a-v,t[6]=_+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*f,m=l*d,v=u*f,_=u*d;t[0]=p-_*a,t[4]=-o*d,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*f,t[9]=_-p*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*f,m=o*d,v=a*f,_=a*d;t[0]=l*f,t[4]=v*u-m,t[8]=p*u+_,t[1]=l*d,t[5]=_*u+p,t[9]=m*u-v,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,v=a*l,_=a*u;t[0]=l*f,t[4]=_-p*d,t[8]=v*d+m,t[1]=d,t[5]=o*f,t[9]=-a*f,t[2]=-u*f,t[6]=m*d+v,t[10]=p-_*d}else if(e.order==="XZY"){const p=o*l,m=o*u,v=a*l,_=a*u;t[0]=l*f,t[4]=-d,t[8]=u*f,t[1]=p*d+_,t[5]=o*f,t[9]=m*d-v,t[2]=v*d-m,t[6]=a*f,t[10]=_*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(u7,e,c7)}lookAt(e,t,i){const r=this.elements;return es.subVectors(e,t),es.lengthSq()===0&&(es.z=1),es.normalize(),ja.crossVectors(i,es),ja.lengthSq()===0&&(Math.abs(i.z)===1?es.x+=1e-4:es.z+=1e-4,es.normalize(),ja.crossVectors(i,es)),ja.normalize(),w0.crossVectors(es,ja),r[0]=ja.x,r[4]=w0.x,r[8]=es.x,r[1]=ja.y,r[5]=w0.y,r[9]=es.y,r[2]=ja.z,r[6]=w0.z,r[10]=es.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],u=i[12],f=i[1],d=i[5],p=i[9],m=i[13],v=i[2],_=i[6],x=i[10],g=i[14],w=i[3],S=i[7],E=i[11],b=i[15],P=r[0],R=r[4],I=r[8],C=r[12],L=r[1],B=r[5],W=r[9],ie=r[13],z=r[2],ne=r[6],ee=r[10],re=r[14],X=r[3],Q=r[7],k=r[11],G=r[15];return s[0]=o*P+a*L+l*z+u*X,s[4]=o*R+a*B+l*ne+u*Q,s[8]=o*I+a*W+l*ee+u*k,s[12]=o*C+a*ie+l*re+u*G,s[1]=f*P+d*L+p*z+m*X,s[5]=f*R+d*B+p*ne+m*Q,s[9]=f*I+d*W+p*ee+m*k,s[13]=f*C+d*ie+p*re+m*G,s[2]=v*P+_*L+x*z+g*X,s[6]=v*R+_*B+x*ne+g*Q,s[10]=v*I+_*W+x*ee+g*k,s[14]=v*C+_*ie+x*re+g*G,s[3]=w*P+S*L+E*z+b*X,s[7]=w*R+S*B+E*ne+b*Q,s[11]=w*I+S*W+E*ee+b*k,s[15]=w*C+S*ie+E*re+b*G,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],f=e[2],d=e[6],p=e[10],m=e[14],v=e[3],_=e[7],x=e[11],g=e[15];return v*(+s*l*d-r*u*d-s*a*p+i*u*p+r*a*m-i*l*m)+_*(+t*l*m-t*u*p+s*o*p-r*o*m+r*u*f-s*l*f)+x*(+t*u*d-t*a*m-s*o*d+i*o*m+s*a*f-i*u*f)+g*(-r*a*f-t*l*d+t*a*p+r*o*d-i*o*p+i*l*f)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],d=e[9],p=e[10],m=e[11],v=e[12],_=e[13],x=e[14],g=e[15],w=d*x*u-_*p*u+_*l*m-a*x*m-d*l*g+a*p*g,S=v*p*u-f*x*u-v*l*m+o*x*m+f*l*g-o*p*g,E=f*_*u-v*d*u+v*a*m-o*_*m-f*a*g+o*d*g,b=v*d*l-f*_*l-v*a*p+o*_*p+f*a*x-o*d*x,P=t*w+i*S+r*E+s*b;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/P;return e[0]=w*R,e[1]=(_*p*s-d*x*s-_*r*m+i*x*m+d*r*g-i*p*g)*R,e[2]=(a*x*s-_*l*s+_*r*u-i*x*u-a*r*g+i*l*g)*R,e[3]=(d*l*s-a*p*s-d*r*u+i*p*u+a*r*m-i*l*m)*R,e[4]=S*R,e[5]=(f*x*s-v*p*s+v*r*m-t*x*m-f*r*g+t*p*g)*R,e[6]=(v*l*s-o*x*s-v*r*u+t*x*u+o*r*g-t*l*g)*R,e[7]=(o*p*s-f*l*s+f*r*u-t*p*u-o*r*m+t*l*m)*R,e[8]=E*R,e[9]=(v*d*s-f*_*s-v*i*m+t*_*m+f*i*g-t*d*g)*R,e[10]=(o*_*s-v*a*s+v*i*u-t*_*u-o*i*g+t*a*g)*R,e[11]=(f*a*s-o*d*s-f*i*u+t*d*u+o*i*m-t*a*m)*R,e[12]=b*R,e[13]=(f*_*r-v*d*r+v*i*p-t*_*p-f*i*x+t*d*x)*R,e[14]=(v*a*r-o*_*r-v*i*l+t*_*l+o*i*x-t*a*x)*R,e[15]=(o*d*r-f*a*r+f*i*l-t*d*l-o*i*p+t*a*p)*R,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,u=s*o,f=s*a;return this.set(u*o+i,u*a-r*l,u*l+r*a,0,u*a+r*l,f*a+i,f*l-r*o,0,u*l-r*a,f*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,f=o+o,d=a+a,p=s*u,m=s*f,v=s*d,_=o*f,x=o*d,g=a*d,w=l*u,S=l*f,E=l*d,b=i.x,P=i.y,R=i.z;return r[0]=(1-(_+g))*b,r[1]=(m+E)*b,r[2]=(v-S)*b,r[3]=0,r[4]=(m-E)*P,r[5]=(1-(p+g))*P,r[6]=(x+w)*P,r[7]=0,r[8]=(v+S)*R,r[9]=(x-w)*R,r[10]=(1-(p+_))*R,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Zc.set(r[0],r[1],r[2]).length();const o=Zc.set(r[4],r[5],r[6]).length(),a=Zc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Qs.copy(this);const u=1/s,f=1/o,d=1/a;return Qs.elements[0]*=u,Qs.elements[1]*=u,Qs.elements[2]*=u,Qs.elements[4]*=f,Qs.elements[5]*=f,Qs.elements[6]*=f,Qs.elements[8]*=d,Qs.elements[9]*=d,Qs.elements[10]*=d,t.setFromRotationMatrix(Qs),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=Do){const l=this.elements,u=2*s/(t-e),f=2*s/(i-r),d=(t+e)/(t-e),p=(i+r)/(i-r);let m,v;if(a===Do)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===om)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=f,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=Do){const l=this.elements,u=1/(t-e),f=1/(i-r),d=1/(o-s),p=(t+e)*u,m=(i+r)*f;let v,_;if(a===Do)v=(o+s)*d,_=-2*d;else if(a===om)v=s*d,_=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=_,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Zc=new j,Qs=new zt,u7=new j(0,0,0),c7=new j(1,1,1),ja=new j,w0=new j,es=new j,X2=new zt,Y2=new Yr;class Nm{constructor(e=0,t=0,i=0,r=Nm.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],u=r[5],f=r[9],d=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(Qn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Qn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Qn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Qn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Qn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,u),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Qn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return X2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(X2,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Y2.setFromEuler(this),this.setFromQuaternion(Y2,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Nm.DEFAULT_ORDER="XYZ";class Ju{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let f7=0;const q2=new j,$c=new Yr,ia=new zt,S0=new j,pd=new j,h7=new j,d7=new Yr,Z2=new j(1,0,0),$2=new j(0,1,0),K2=new j(0,0,1),p7={type:"added"},m7={type:"removed"};class ln extends Ia{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:f7++}),this.uuid=ms(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ln.DEFAULT_UP.clone();const e=new j,t=new Nm,i=new Yr,r=new j(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new zt},normalMatrix:{value:new Wt}}),this.matrix=new zt,this.matrixWorld=new zt,this.matrixAutoUpdate=ln.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=ln.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Ju,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return $c.setFromAxisAngle(e,t),this.quaternion.multiply($c),this}rotateOnWorldAxis(e,t){return $c.setFromAxisAngle(e,t),this.quaternion.premultiply($c),this}rotateX(e){return this.rotateOnAxis(Z2,e)}rotateY(e){return this.rotateOnAxis($2,e)}rotateZ(e){return this.rotateOnAxis(K2,e)}translateOnAxis(e,t){return q2.copy(e).applyQuaternion(this.quaternion),this.position.add(q2.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Z2,e)}translateY(e){return this.translateOnAxis($2,e)}translateZ(e){return this.translateOnAxis(K2,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ia.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?S0.copy(e):S0.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),pd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ia.lookAt(pd,S0,this.up):ia.lookAt(S0,pd,this.up),this.quaternion.setFromRotationMatrix(ia),r&&(ia.extractRotation(r.matrixWorld),$c.setFromRotationMatrix(ia),this.quaternion.premultiply($c.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(p7)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(m7)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ia.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ia.multiply(e.parent.matrixWorld)),e.applyMatrix4(ia),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pd,e,h7),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pd,d7,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,f=l.length;u<f;u++){const d=l[u];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),f=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),u.length>0&&(i.textures=u),f.length>0&&(i.images=f),d.length>0&&(i.shapes=d),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const l=[];for(const u in a){const f=a[u];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}ln.DEFAULT_UP=new j(0,1,0);ln.DEFAULT_MATRIX_AUTO_UPDATE=!0;ln.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const eo=new j,ra=new j,aw=new j,sa=new j,Kc=new j,Jc=new j,J2=new j,lw=new j,uw=new j,cw=new j;let M0=!1;class Ur{constructor(e=new j,t=new j,i=new j){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),eo.subVectors(e,t),r.cross(eo);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){eo.subVectors(r,t),ra.subVectors(i,t),aw.subVectors(e,t);const o=eo.dot(eo),a=eo.dot(ra),l=eo.dot(aw),u=ra.dot(ra),f=ra.dot(aw),d=o*u-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,m=(u*l-a*f)*p,v=(o*f-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,sa),sa.x>=0&&sa.y>=0&&sa.x+sa.y<=1}static getUV(e,t,i,r,s,o,a,l){return M0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),M0=!0),this.getInterpolation(e,t,i,r,s,o,a,l)}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,sa),l.setScalar(0),l.addScaledVector(s,sa.x),l.addScaledVector(o,sa.y),l.addScaledVector(a,sa.z),l}static isFrontFacing(e,t,i,r){return eo.subVectors(i,t),ra.subVectors(e,t),eo.cross(ra).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return eo.subVectors(this.c,this.b),ra.subVectors(this.a,this.b),eo.cross(ra).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ur.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ur.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return M0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),M0=!0),Ur.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return Ur.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Ur.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ur.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;Kc.subVectors(r,i),Jc.subVectors(s,i),lw.subVectors(e,i);const l=Kc.dot(lw),u=Jc.dot(lw);if(l<=0&&u<=0)return t.copy(i);uw.subVectors(e,r);const f=Kc.dot(uw),d=Jc.dot(uw);if(f>=0&&d<=f)return t.copy(r);const p=l*d-f*u;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),t.copy(i).addScaledVector(Kc,o);cw.subVectors(e,s);const m=Kc.dot(cw),v=Jc.dot(cw);if(v>=0&&m<=v)return t.copy(s);const _=m*u-l*v;if(_<=0&&u>=0&&v<=0)return a=u/(u-v),t.copy(i).addScaledVector(Jc,a);const x=f*v-m*d;if(x<=0&&d-f>=0&&m-v>=0)return J2.subVectors(s,r),a=(d-f)/(d-f+(m-v)),t.copy(r).addScaledVector(J2,a);const g=1/(x+_+p);return o=_*g,a=p*g,t.copy(i).addScaledVector(Kc,o).addScaledVector(Jc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let g7=0;class cr extends Ia{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:g7++}),this.uuid=ms(),this.name="",this.type="Material",this.blending=$u,this.side=Pa,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=iA,this.blendDst=rA,this.blendEquation=bu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Ly,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=OU,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Uv,this.stencilZFail=Uv,this.stencilZPass=Uv,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==$u&&(i.blending=this.blending),this.side!==Pa&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const ZU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Xa={h:0,s:0,l:0},E0={h:0,s:0,l:0};function fw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class ut{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=gi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,mn.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=mn.workingColorSpace){return this.r=e,this.g=t,this.b=i,mn.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=mn.workingColorSpace){if(e=vA(e,1),t=Qn(t,0,1),i=Qn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=fw(o,s,e+1/3),this.g=fw(o,s,e),this.b=fw(o,s,e-1/3)}return mn.toWorkingColorSpace(this,r),this}setStyle(e,t=gi){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=gi){const i=ZU[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=eh(e.r),this.g=eh(e.g),this.b=eh(e.b),this}copyLinearToSRGB(e){return this.r=Q1(e.r),this.g=Q1(e.g),this.b=Q1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=gi){return mn.fromWorkingColorSpace(tr.copy(this),e),Math.round(Qn(tr.r*255,0,255))*65536+Math.round(Qn(tr.g*255,0,255))*256+Math.round(Qn(tr.b*255,0,255))}getHexString(e=gi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=mn.workingColorSpace){mn.fromWorkingColorSpace(tr.copy(this),t);const i=tr.r,r=tr.g,s=tr.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,u;const f=(a+o)/2;if(a===o)l=0,u=0;else{const d=o-a;switch(u=f<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=f,e}getRGB(e,t=mn.workingColorSpace){return mn.fromWorkingColorSpace(tr.copy(this),t),e.r=tr.r,e.g=tr.g,e.b=tr.b,e}getStyle(e=gi){mn.fromWorkingColorSpace(tr.copy(this),e);const t=tr.r,i=tr.g,r=tr.b;return e!==gi?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Xa),this.setHSL(Xa.h+e,Xa.s+t,Xa.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Xa),e.getHSL(E0);const i=dp(Xa.h,E0.h,t),r=dp(Xa.s,E0.s,t),s=dp(Xa.l,E0.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const tr=new ut;ut.NAMES=ZU;class La extends cr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Im,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ha=v7();function v7(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):u<-14?(i[l]=1024>>-u-14,i[l|256]=1024>>-u-14|32768,r[l]=-u-1,r[l|256]=-u-1):u<=15?(i[l]=u+15<<10,i[l|256]=u+15<<10|32768,r[l]=13,r[l|256]=13):u<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,f=0;for(;!(u&8388608);)u<<=1,f-=8388608;u&=-8388609,f+=947912704,s[l]=u|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function Dr(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Qn(n,-65504,65504),ha.floatView[0]=n;const e=ha.uint32View[0],t=e>>23&511;return ha.baseTable[t]+((e&8388607)>>ha.shiftTable[t])}function Fd(n){const e=n>>10;return ha.uint32View[0]=ha.mantissaTable[ha.offsetTable[e]+(n&1023)]+ha.exponentTable[e],ha.floatView[0]}const Fu={toHalfFloat:Dr,fromHalfFloat:Fd},fi=new j,T0=new Pe;class En{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=sm,this.updateRange={offset:0,count:-1},this.gpuType=bi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)T0.fromBufferAttribute(this,t),T0.applyMatrix3(e),this.setXY(t,T0.x,T0.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)fi.fromBufferAttribute(this,t),fi.applyMatrix3(e),this.setXYZ(t,fi.x,fi.y,fi.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)fi.fromBufferAttribute(this,t),fi.applyMatrix4(e),this.setXYZ(t,fi.x,fi.y,fi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)fi.fromBufferAttribute(this,t),fi.applyNormalMatrix(e),this.setXYZ(t,fi.x,fi.y,fi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)fi.fromBufferAttribute(this,t),fi.transformDirection(e),this.setXYZ(t,fi.x,fi.y,fi.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Fr(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Vt(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Fr(t,this.array)),t}setX(e,t){return this.normalized&&(t=Vt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Fr(t,this.array)),t}setY(e,t){return this.normalized&&(t=Vt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Fr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Vt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Fr(t,this.array)),t}setW(e,t){return this.normalized&&(t=Vt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Vt(t,this.array),i=Vt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Vt(t,this.array),i=Vt(i,this.array),r=Vt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Vt(t,this.array),i=Vt(i,this.array),r=Vt(r,this.array),s=Vt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==sm&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class y7 extends En{constructor(e,t,i){super(new Int8Array(e),t,i)}}class _7 extends En{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class x7 extends En{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class w7 extends En{constructor(e,t,i){super(new Int16Array(e),t,i)}}class xA extends En{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class S7 extends En{constructor(e,t,i){super(new Int32Array(e),t,i)}}class wA extends En{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class M7 extends En{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Fd(this.array[e*this.itemSize]);return this.normalized&&(t=Fr(t,this.array)),t}setX(e,t){return this.normalized&&(t=Vt(t,this.array)),this.array[e*this.itemSize]=Dr(t),this}getY(e){let t=Fd(this.array[e*this.itemSize+1]);return this.normalized&&(t=Fr(t,this.array)),t}setY(e,t){return this.normalized&&(t=Vt(t,this.array)),this.array[e*this.itemSize+1]=Dr(t),this}getZ(e){let t=Fd(this.array[e*this.itemSize+2]);return this.normalized&&(t=Fr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Vt(t,this.array)),this.array[e*this.itemSize+2]=Dr(t),this}getW(e){let t=Fd(this.array[e*this.itemSize+3]);return this.normalized&&(t=Fr(t,this.array)),t}setW(e,t){return this.normalized&&(t=Vt(t,this.array)),this.array[e*this.itemSize+3]=Dr(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Vt(t,this.array),i=Vt(i,this.array)),this.array[e+0]=Dr(t),this.array[e+1]=Dr(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Vt(t,this.array),i=Vt(i,this.array),r=Vt(r,this.array)),this.array[e+0]=Dr(t),this.array[e+1]=Dr(i),this.array[e+2]=Dr(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Vt(t,this.array),i=Vt(i,this.array),r=Vt(r,this.array),s=Vt(s,this.array)),this.array[e+0]=Dr(t),this.array[e+1]=Dr(i),this.array[e+2]=Dr(r),this.array[e+3]=Dr(s),this}}class gt extends En{constructor(e,t,i){super(new Float32Array(e),t,i)}}class E7 extends En{constructor(e,t,i){super(new Float64Array(e),t,i)}}let T7=0;const ks=new zt,hw=new ln,Qc=new j,ts=new jo,md=new jo,Ni=new j;class qt extends Ia{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:T7++}),this.uuid=ms(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(XU(e)?wA:xA)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Wt().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ks.makeRotationFromQuaternion(e),this.applyMatrix4(ks),this}rotateX(e){return ks.makeRotationX(e),this.applyMatrix4(ks),this}rotateY(e){return ks.makeRotationY(e),this.applyMatrix4(ks),this}rotateZ(e){return ks.makeRotationZ(e),this.applyMatrix4(ks),this}translate(e,t,i){return ks.makeTranslation(e,t,i),this.applyMatrix4(ks),this}scale(e,t,i){return ks.makeScale(e,t,i),this.applyMatrix4(ks),this}lookAt(e){return hw.lookAt(e),hw.updateMatrix(),this.applyMatrix4(hw.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Qc).negate(),this.translate(Qc.x,Qc.y,Qc.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new gt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new jo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new j(-1/0,-1/0,-1/0),new j(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];ts.setFromBufferAttribute(s),this.morphTargetsRelative?(Ni.addVectors(this.boundingBox.min,ts.min),this.boundingBox.expandByPoint(Ni),Ni.addVectors(this.boundingBox.max,ts.max),this.boundingBox.expandByPoint(Ni)):(this.boundingBox.expandByPoint(ts.min),this.boundingBox.expandByPoint(ts.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new po);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new j,1/0);return}if(e){const i=this.boundingSphere.center;if(ts.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];md.setFromBufferAttribute(a),this.morphTargetsRelative?(Ni.addVectors(ts.min,md.min),ts.expandByPoint(Ni),Ni.addVectors(ts.max,md.max),ts.expandByPoint(Ni)):(ts.expandByPoint(md.min),ts.expandByPoint(md.max))}ts.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Ni.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Ni));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,f=a.count;u<f;u++)Ni.fromBufferAttribute(a,u),l&&(Qc.fromBufferAttribute(e,u),Ni.add(Qc)),r=Math.max(r,i.distanceToSquared(Ni))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new En(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],f=[];for(let L=0;L<a;L++)u[L]=new j,f[L]=new j;const d=new j,p=new j,m=new j,v=new Pe,_=new Pe,x=new Pe,g=new j,w=new j;function S(L,B,W){d.fromArray(r,L*3),p.fromArray(r,B*3),m.fromArray(r,W*3),v.fromArray(o,L*2),_.fromArray(o,B*2),x.fromArray(o,W*2),p.sub(d),m.sub(d),_.sub(v),x.sub(v);const ie=1/(_.x*x.y-x.x*_.y);isFinite(ie)&&(g.copy(p).multiplyScalar(x.y).addScaledVector(m,-_.y).multiplyScalar(ie),w.copy(m).multiplyScalar(_.x).addScaledVector(p,-x.x).multiplyScalar(ie),u[L].add(g),u[B].add(g),u[W].add(g),f[L].add(w),f[B].add(w),f[W].add(w))}let E=this.groups;E.length===0&&(E=[{start:0,count:i.length}]);for(let L=0,B=E.length;L<B;++L){const W=E[L],ie=W.start,z=W.count;for(let ne=ie,ee=ie+z;ne<ee;ne+=3)S(i[ne+0],i[ne+1],i[ne+2])}const b=new j,P=new j,R=new j,I=new j;function C(L){R.fromArray(s,L*3),I.copy(R);const B=u[L];b.copy(B),b.sub(R.multiplyScalar(R.dot(B))).normalize(),P.crossVectors(I,B);const ie=P.dot(f[L])<0?-1:1;l[L*4]=b.x,l[L*4+1]=b.y,l[L*4+2]=b.z,l[L*4+3]=ie}for(let L=0,B=E.length;L<B;++L){const W=E[L],ie=W.start,z=W.count;for(let ne=ie,ee=ie+z;ne<ee;ne+=3)C(i[ne+0]),C(i[ne+1]),C(i[ne+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new En(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new j,s=new j,o=new j,a=new j,l=new j,u=new j,f=new j,d=new j;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),_=e.getX(p+1),x=e.getX(p+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,_),o.fromBufferAttribute(t,x),f.subVectors(o,s),d.subVectors(r,s),f.cross(d),a.fromBufferAttribute(i,v),l.fromBufferAttribute(i,_),u.fromBufferAttribute(i,x),a.add(f),l.add(f),u.add(f),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(_,l.x,l.y,l.z),i.setXYZ(x,u.x,u.y,u.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),f.subVectors(o,s),d.subVectors(r,s),f.cross(d),i.setXYZ(p+0,f.x,f.y,f.z),i.setXYZ(p+1,f.x,f.y,f.z),i.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Ni.fromBufferAttribute(e,t),Ni.normalize(),e.setXYZ(t,Ni.x,Ni.y,Ni.z)}toNonIndexed(){function e(a,l){const u=a.array,f=a.itemSize,d=a.normalized,p=new u.constructor(l.length*f);let m=0,v=0;for(let _=0,x=l.length;_<x;_++){a.isInterleavedBufferAttribute?m=l[_]*a.data.stride+a.offset:m=l[_]*f;for(let g=0;g<f;g++)p[v++]=u[m++]}return new En(p,f,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new qt,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],u=e(l,i);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let f=0,d=u.length;f<d;f++){const p=u[f],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const u=i[l];e.data.attributes[l]=u.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],f=[];for(let d=0,p=u.length;d<p;d++){const m=u[d];f.push(m.toJSON(e.data))}f.length>0&&(r[l]=f,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const u in r){const f=r[u];this.setAttribute(u,f.clone(t))}const s=e.morphAttributes;for(const u in s){const f=[],d=s[u];for(let p=0,m=d.length;p<m;p++)f.push(d[p].clone(t));this.morphAttributes[u]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,f=o.length;u<f;u++){const d=o[u];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Q2=new zt,fu=new Ph,A0=new po,eI=new j,ef=new j,tf=new j,nf=new j,dw=new j,b0=new j,C0=new Pe,P0=new Pe,R0=new Pe,tI=new j,nI=new j,iI=new j,I0=new j,L0=new j;class yi extends ln{constructor(e=new qt,t=new La){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){b0.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const f=a[l],d=s[l];f!==0&&(dw.fromBufferAttribute(d,e),o?b0.addScaledVector(dw,f):b0.addScaledVector(dw.sub(t),f))}t.add(b0)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),A0.copy(i.boundingSphere),A0.applyMatrix4(s),fu.copy(e.ray).recast(e.near),!(A0.containsPoint(fu.origin)===!1&&(fu.intersectSphere(A0,eI)===null||fu.origin.distanceToSquared(eI)>(e.far-e.near)**2))&&(Q2.copy(s).invert(),fu.copy(e.ray).applyMatrix4(Q2),!(i.boundingBox!==null&&fu.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,fu)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,f=s.attributes.uv1,d=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,_=p.length;v<_;v++){const x=p[v],g=o[x.materialIndex],w=Math.max(x.start,m.start),S=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let E=w,b=S;E<b;E+=3){const P=a.getX(E),R=a.getX(E+1),I=a.getX(E+2);r=N0(this,g,e,i,u,f,d,P,R,I),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=x.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),_=Math.min(a.count,m.start+m.count);for(let x=v,g=_;x<g;x+=3){const w=a.getX(x),S=a.getX(x+1),E=a.getX(x+2);r=N0(this,o,e,i,u,f,d,w,S,E),r&&(r.faceIndex=Math.floor(x/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,_=p.length;v<_;v++){const x=p[v],g=o[x.materialIndex],w=Math.max(x.start,m.start),S=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let E=w,b=S;E<b;E+=3){const P=E,R=E+1,I=E+2;r=N0(this,g,e,i,u,f,d,P,R,I),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=x.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),_=Math.min(l.count,m.start+m.count);for(let x=v,g=_;x<g;x+=3){const w=x,S=x+1,E=x+2;r=N0(this,o,e,i,u,f,d,w,S,E),r&&(r.faceIndex=Math.floor(x/3),t.push(r))}}}}function A7(n,e,t,i,r,s,o,a){let l;if(e.side===Ar?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Pa,a),l===null)return null;L0.copy(a),L0.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(L0);return u<t.near||u>t.far?null:{distance:u,point:L0.clone(),object:n}}function N0(n,e,t,i,r,s,o,a,l,u){n.getVertexPosition(a,ef),n.getVertexPosition(l,tf),n.getVertexPosition(u,nf);const f=A7(n,e,t,i,ef,tf,nf,I0);if(f){r&&(C0.fromBufferAttribute(r,a),P0.fromBufferAttribute(r,l),R0.fromBufferAttribute(r,u),f.uv=Ur.getInterpolation(I0,ef,tf,nf,C0,P0,R0,new Pe)),s&&(C0.fromBufferAttribute(s,a),P0.fromBufferAttribute(s,l),R0.fromBufferAttribute(s,u),f.uv1=Ur.getInterpolation(I0,ef,tf,nf,C0,P0,R0,new Pe),f.uv2=f.uv1),o&&(tI.fromBufferAttribute(o,a),nI.fromBufferAttribute(o,l),iI.fromBufferAttribute(o,u),f.normal=Ur.getInterpolation(I0,ef,tf,nf,tI,nI,iI,new j),f.normal.dot(i.direction)>0&&f.normal.multiplyScalar(-1));const d={a,b:l,c:u,normal:new j,materialIndex:0};Ur.getNormal(ef,tf,nf,d.normal),f.face=d}return f}class Sc extends qt{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],f=[],d=[];let p=0,m=0;v("z","y","x",-1,-1,i,t,e,o,s,0),v("z","y","x",1,-1,i,t,-e,o,s,1),v("x","z","y",1,1,e,i,t,r,o,2),v("x","z","y",1,-1,e,i,-t,r,o,3),v("x","y","z",1,-1,e,t,i,r,s,4),v("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new gt(u,3)),this.setAttribute("normal",new gt(f,3)),this.setAttribute("uv",new gt(d,2));function v(_,x,g,w,S,E,b,P,R,I,C){const L=E/R,B=b/I,W=E/2,ie=b/2,z=P/2,ne=R+1,ee=I+1;let re=0,X=0;const Q=new j;for(let k=0;k<ee;k++){const G=k*B-ie;for(let te=0;te<ne;te++){const me=te*L-W;Q[_]=me*w,Q[x]=G*S,Q[g]=z,u.push(Q.x,Q.y,Q.z),Q[_]=0,Q[x]=0,Q[g]=P>0?1:-1,f.push(Q.x,Q.y,Q.z),d.push(te/R),d.push(1-k/I),re+=1}}for(let k=0;k<I;k++)for(let G=0;G<R;G++){const te=p+G+ne*k,me=p+G+ne*(k+1),xe=p+(G+1)+ne*(k+1),Ce=p+(G+1)+ne*k;l.push(te,me,Ce),l.push(me,xe,Ce),X+=6}a.addGroup(m,X,C),m+=X,p+=re}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function xh(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function vr(n){const e={};for(let t=0;t<n.length;t++){const i=xh(n[t]);for(const r in i)e[r]=i[r]}return e}function b7(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function $U(n){return n.getRenderTarget()===null?n.outputColorSpace:mn.workingColorSpace}const KU={clone:xh,merge:vr};var C7=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,P7=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ms extends cr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=C7,this.fragmentShader=P7,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=xh(e.uniforms),this.uniformsGroups=b7(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Dm extends ln{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new zt,this.projectionMatrix=new zt,this.projectionMatrixInverse=new zt,this.coordinateSystem=Do}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Fi extends Dm{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=_h*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ku*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return _h*2*Math.atan(Math.tan(Ku*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Ku*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/u,r*=o.width/l,i*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const rf=-90,sf=1;class JU extends ln{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Fi(rf,sf,e,t);r.layers=this.layers,this.add(r);const s=new Fi(rf,sf,e,t);s.layers=this.layers,this.add(s);const o=new Fi(rf,sf,e,t);o.layers=this.layers,this.add(o);const a=new Fi(rf,sf,e,t);a.layers=this.layers,this.add(a);const l=new Fi(rf,sf,e,t);l.layers=this.layers,this.add(l);const u=new Fi(rf,sf,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const u of t)this.remove(u);if(e===Do)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===om)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,u,f]=this.children,d=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const _=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,a),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,u),i.texture.generateMipmaps=_,e.setRenderTarget(i,5,r),e.render(t,f),e.setRenderTarget(d,p,m),e.xr.enabled=v,i.texture.needsPMREMUpdate=!0}}class km extends Mn{constructor(e,t,i,r,s,o,a,l,u,f){e=e!==void 0?e:[],t=t!==void 0?t:Wo,super(e,t,i,r,s,o,a,l,u,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class SA extends Ss{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];t.encoding!==void 0&&(pp("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Rl?gi:us),this.texture=new km(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:cn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Sc(5,5,5),s=new Ms({name:"CubemapFromEquirect",uniforms:xh(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ar,blending:Bo});s.uniforms.tEquirect.value=t;const o=new yi(r,s),a=t.minFilter;return t.minFilter===Bl&&(t.minFilter=cn),new JU(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const pw=new j,R7=new j,I7=new Wt;class tl{constructor(e=new j(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=pw.subVectors(i,t).cross(R7.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(pw),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||I7.getNormalMatrix(e),r=this.coplanarPoint(pw).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const hu=new po,D0=new j;class M_{constructor(e=new tl,t=new tl,i=new tl,r=new tl,s=new tl,o=new tl){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Do){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],u=r[4],f=r[5],d=r[6],p=r[7],m=r[8],v=r[9],_=r[10],x=r[11],g=r[12],w=r[13],S=r[14],E=r[15];if(i[0].setComponents(l-s,p-u,x-m,E-g).normalize(),i[1].setComponents(l+s,p+u,x+m,E+g).normalize(),i[2].setComponents(l+o,p+f,x+v,E+w).normalize(),i[3].setComponents(l-o,p-f,x-v,E-w).normalize(),i[4].setComponents(l-a,p-d,x-_,E-S).normalize(),t===Do)i[5].setComponents(l+a,p+d,x+_,E+S).normalize();else if(t===om)i[5].setComponents(a,d,_,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),hu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),hu.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(hu)}intersectsSprite(e){return hu.center.set(0,0,0),hu.radius=.7071067811865476,hu.applyMatrix4(e.matrixWorld),this.intersectsSphere(hu)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(D0.x=r.normal.x>0?e.max.x:e.min.x,D0.y=r.normal.y>0?e.max.y:e.min.y,D0.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(D0)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function QU(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function L7(n,e){const t=e.isWebGL2,i=new WeakMap;function r(u,f){const d=u.array,p=u.usage,m=n.createBuffer();n.bindBuffer(f,m),n.bufferData(f,d,p),u.onUploadCallback();let v;if(d instanceof Float32Array)v=n.FLOAT;else if(d instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)v=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)v=n.SHORT;else if(d instanceof Uint32Array)v=n.UNSIGNED_INT;else if(d instanceof Int32Array)v=n.INT;else if(d instanceof Int8Array)v=n.BYTE;else if(d instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:v,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version}}function s(u,f,d){const p=f.array,m=f.updateRange;n.bindBuffer(d,u),m.count===-1?n.bufferSubData(d,0,p):(t?n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),f.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),i.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const f=i.get(u);f&&(n.deleteBuffer(f.buffer),i.delete(u))}function l(u,f){if(u.isGLBufferAttribute){const p=i.get(u);(!p||p.version<u.version)&&i.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const d=i.get(u);d===void 0?i.set(u,r(u,f)):d.version<u.version&&(s(d.buffer,u,f),d.version=u.version)}return{get:o,remove:a,update:l}}class Mc extends qt{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),u=a+1,f=l+1,d=e/a,p=t/l,m=[],v=[],_=[],x=[];for(let g=0;g<f;g++){const w=g*p-o;for(let S=0;S<u;S++){const E=S*d-s;v.push(E,-w,0),_.push(0,0,1),x.push(S/a),x.push(1-g/l)}}for(let g=0;g<l;g++)for(let w=0;w<a;w++){const S=w+u*g,E=w+u*(g+1),b=w+1+u*(g+1),P=w+1+u*g;m.push(S,E,P),m.push(E,b,P)}this.setIndex(m),this.setAttribute("position",new gt(v,3)),this.setAttribute("normal",new gt(_,3)),this.setAttribute("uv",new gt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mc(e.width,e.height,e.widthSegments,e.heightSegments)}}var N7=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,D7=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,k7=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,O7=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,U7=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,F7=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,z7=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,B7=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,V7=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,H7=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,G7=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,W7=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,j7=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,X7=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Y7=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,q7=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Z7=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,$7=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,K7=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,J7=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Q7=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,eX=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,tX=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,nX=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,iX=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,rX=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,sX=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,oX=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,aX="gl_FragColor = linearToOutputTexel( gl_FragColor );",lX=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,uX=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,cX=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,fX=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,hX=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,dX=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,pX=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,mX=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,gX=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,vX=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,yX=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,_X=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,xX=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,wX=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,SX=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,MX=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,EX=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,TX=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,AX=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,bX=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,CX=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,PX=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,RX=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,IX=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal;
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,LX=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,NX=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,DX=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,kX=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,OX=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,UX=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,FX=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,zX=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,BX=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,VX=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,HX=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,GX=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,WX=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,jX=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,XX=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,YX=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,qX=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,ZX=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,$X=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,KX=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,JX=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,QX=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,eY=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,tY=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,nY=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iY=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,rY=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,sY=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,oY=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,aY=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,lY=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,uY=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,cY=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,fY=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,hY=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,dY=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,pY=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,mY=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,gY=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,vY=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,yY=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,_Y=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,xY=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,wY=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,SY=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,MY=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,EY=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,TY=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,AY=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,bY=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,CY=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,PY=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const RY=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,IY=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,LY=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,NY=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,DY=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,kY=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,OY=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,UY=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,FY=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,zY=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,BY=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,VY=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,HY=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,GY=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,WY=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,jY=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,XY=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,YY=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qY=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,ZY=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$Y=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,KY=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,JY=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,QY=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eq=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,tq=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nq=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,iq=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rq=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,sq=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,oq=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aq=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,lq=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,uq=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Bt={alphahash_fragment:N7,alphahash_pars_fragment:D7,alphamap_fragment:k7,alphamap_pars_fragment:O7,alphatest_fragment:U7,alphatest_pars_fragment:F7,aomap_fragment:z7,aomap_pars_fragment:B7,begin_vertex:V7,beginnormal_vertex:H7,bsdfs:G7,iridescence_fragment:W7,bumpmap_pars_fragment:j7,clipping_planes_fragment:X7,clipping_planes_pars_fragment:Y7,clipping_planes_pars_vertex:q7,clipping_planes_vertex:Z7,color_fragment:$7,color_pars_fragment:K7,color_pars_vertex:J7,color_vertex:Q7,common:eX,cube_uv_reflection_fragment:tX,defaultnormal_vertex:nX,displacementmap_pars_vertex:iX,displacementmap_vertex:rX,emissivemap_fragment:sX,emissivemap_pars_fragment:oX,colorspace_fragment:aX,colorspace_pars_fragment:lX,envmap_fragment:uX,envmap_common_pars_fragment:cX,envmap_pars_fragment:fX,envmap_pars_vertex:hX,envmap_physical_pars_fragment:EX,envmap_vertex:dX,fog_vertex:pX,fog_pars_vertex:mX,fog_fragment:gX,fog_pars_fragment:vX,gradientmap_pars_fragment:yX,lightmap_fragment:_X,lightmap_pars_fragment:xX,lights_lambert_fragment:wX,lights_lambert_pars_fragment:SX,lights_pars_begin:MX,lights_toon_fragment:TX,lights_toon_pars_fragment:AX,lights_phong_fragment:bX,lights_phong_pars_fragment:CX,lights_physical_fragment:PX,lights_physical_pars_fragment:RX,lights_fragment_begin:IX,lights_fragment_maps:LX,lights_fragment_end:NX,logdepthbuf_fragment:DX,logdepthbuf_pars_fragment:kX,logdepthbuf_pars_vertex:OX,logdepthbuf_vertex:UX,map_fragment:FX,map_pars_fragment:zX,map_particle_fragment:BX,map_particle_pars_fragment:VX,metalnessmap_fragment:HX,metalnessmap_pars_fragment:GX,morphcolor_vertex:WX,morphnormal_vertex:jX,morphtarget_pars_vertex:XX,morphtarget_vertex:YX,normal_fragment_begin:qX,normal_fragment_maps:ZX,normal_pars_fragment:$X,normal_pars_vertex:KX,normal_vertex:JX,normalmap_pars_fragment:QX,clearcoat_normal_fragment_begin:eY,clearcoat_normal_fragment_maps:tY,clearcoat_pars_fragment:nY,iridescence_pars_fragment:iY,opaque_fragment:rY,packing:sY,premultiplied_alpha_fragment:oY,project_vertex:aY,dithering_fragment:lY,dithering_pars_fragment:uY,roughnessmap_fragment:cY,roughnessmap_pars_fragment:fY,shadowmap_pars_fragment:hY,shadowmap_pars_vertex:dY,shadowmap_vertex:pY,shadowmask_pars_fragment:mY,skinbase_vertex:gY,skinning_pars_vertex:vY,skinning_vertex:yY,skinnormal_vertex:_Y,specularmap_fragment:xY,specularmap_pars_fragment:wY,tonemapping_fragment:SY,tonemapping_pars_fragment:MY,transmission_fragment:EY,transmission_pars_fragment:TY,uv_pars_fragment:AY,uv_pars_vertex:bY,uv_vertex:CY,worldpos_vertex:PY,background_vert:RY,background_frag:IY,backgroundCube_vert:LY,backgroundCube_frag:NY,cube_vert:DY,cube_frag:kY,depth_vert:OY,depth_frag:UY,distanceRGBA_vert:FY,distanceRGBA_frag:zY,equirect_vert:BY,equirect_frag:VY,linedashed_vert:HY,linedashed_frag:GY,meshbasic_vert:WY,meshbasic_frag:jY,meshlambert_vert:XY,meshlambert_frag:YY,meshmatcap_vert:qY,meshmatcap_frag:ZY,meshnormal_vert:$Y,meshnormal_frag:KY,meshphong_vert:JY,meshphong_frag:QY,meshphysical_vert:eq,meshphysical_frag:tq,meshtoon_vert:nq,meshtoon_frag:iq,points_vert:rq,points_frag:sq,shadow_vert:oq,shadow_frag:aq,sprite_vert:lq,sprite_frag:uq},$e={common:{diffuse:{value:new ut(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Wt},alphaMap:{value:null},alphaMapTransform:{value:new Wt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Wt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Wt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Wt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Wt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Wt},normalScale:{value:new Pe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Wt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Wt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Wt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Wt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ut(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ut(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Wt},alphaTest:{value:0},uvTransform:{value:new Wt}},sprite:{diffuse:{value:new ut(16777215)},opacity:{value:1},center:{value:new Pe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Wt},alphaMap:{value:null},alphaMapTransform:{value:new Wt},alphaTest:{value:0}}},lo={basic:{uniforms:vr([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.fog]),vertexShader:Bt.meshbasic_vert,fragmentShader:Bt.meshbasic_frag},lambert:{uniforms:vr([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,$e.lights,{emissive:{value:new ut(0)}}]),vertexShader:Bt.meshlambert_vert,fragmentShader:Bt.meshlambert_frag},phong:{uniforms:vr([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,$e.lights,{emissive:{value:new ut(0)},specular:{value:new ut(1118481)},shininess:{value:30}}]),vertexShader:Bt.meshphong_vert,fragmentShader:Bt.meshphong_frag},standard:{uniforms:vr([$e.common,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.roughnessmap,$e.metalnessmap,$e.fog,$e.lights,{emissive:{value:new ut(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Bt.meshphysical_vert,fragmentShader:Bt.meshphysical_frag},toon:{uniforms:vr([$e.common,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.gradientmap,$e.fog,$e.lights,{emissive:{value:new ut(0)}}]),vertexShader:Bt.meshtoon_vert,fragmentShader:Bt.meshtoon_frag},matcap:{uniforms:vr([$e.common,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,{matcap:{value:null}}]),vertexShader:Bt.meshmatcap_vert,fragmentShader:Bt.meshmatcap_frag},points:{uniforms:vr([$e.points,$e.fog]),vertexShader:Bt.points_vert,fragmentShader:Bt.points_frag},dashed:{uniforms:vr([$e.common,$e.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Bt.linedashed_vert,fragmentShader:Bt.linedashed_frag},depth:{uniforms:vr([$e.common,$e.displacementmap]),vertexShader:Bt.depth_vert,fragmentShader:Bt.depth_frag},normal:{uniforms:vr([$e.common,$e.bumpmap,$e.normalmap,$e.displacementmap,{opacity:{value:1}}]),vertexShader:Bt.meshnormal_vert,fragmentShader:Bt.meshnormal_frag},sprite:{uniforms:vr([$e.sprite,$e.fog]),vertexShader:Bt.sprite_vert,fragmentShader:Bt.sprite_frag},background:{uniforms:{uvTransform:{value:new Wt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Bt.background_vert,fragmentShader:Bt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Bt.backgroundCube_vert,fragmentShader:Bt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Bt.cube_vert,fragmentShader:Bt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Bt.equirect_vert,fragmentShader:Bt.equirect_frag},distanceRGBA:{uniforms:vr([$e.common,$e.displacementmap,{referencePosition:{value:new j},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Bt.distanceRGBA_vert,fragmentShader:Bt.distanceRGBA_frag},shadow:{uniforms:vr([$e.lights,$e.fog,{color:{value:new ut(0)},opacity:{value:1}}]),vertexShader:Bt.shadow_vert,fragmentShader:Bt.shadow_frag}};lo.physical={uniforms:vr([lo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Wt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Wt},clearcoatNormalScale:{value:new Pe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Wt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Wt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Wt},sheen:{value:0},sheenColor:{value:new ut(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Wt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Wt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Wt},transmissionSamplerSize:{value:new Pe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Wt},attenuationDistance:{value:0},attenuationColor:{value:new ut(0)},specularColor:{value:new ut(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Wt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Wt},anisotropyVector:{value:new Pe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Wt}}]),vertexShader:Bt.meshphysical_vert,fragmentShader:Bt.meshphysical_frag};const k0={r:0,b:0,g:0};function cq(n,e,t,i,r,s,o){const a=new ut(0);let l=s===!0?0:1,u,f,d=null,p=0,m=null;function v(x,g){let w=!1,S=g.isScene===!0?g.background:null;S&&S.isTexture&&(S=(g.backgroundBlurriness>0?t:e).get(S)),S===null?_(a,l):S&&S.isColor&&(_(S,1),w=!0);const E=n.xr.getEnvironmentBlendMode();E==="additive"?i.buffers.color.setClear(0,0,0,1,o):E==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===Ch)?(f===void 0&&(f=new yi(new Sc(1,1,1),new Ms({name:"BackgroundCubeMaterial",uniforms:xh(lo.backgroundCube.uniforms),vertexShader:lo.backgroundCube.vertexShader,fragmentShader:lo.backgroundCube.fragmentShader,side:Ar,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(b,P,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(f)),f.material.uniforms.envMap.value=S,f.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,f.material.toneMapped=mn.getTransfer(S.colorSpace)!==bn,(d!==S||p!==S.version||m!==n.toneMapping)&&(f.material.needsUpdate=!0,d=S,p=S.version,m=n.toneMapping),f.layers.enableAll(),x.unshift(f,f.geometry,f.material,0,0,null)):S&&S.isTexture&&(u===void 0&&(u=new yi(new Mc(2,2),new Ms({name:"BackgroundMaterial",uniforms:xh(lo.background.uniforms),vertexShader:lo.background.vertexShader,fragmentShader:lo.background.fragmentShader,side:Pa,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=S,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=mn.getTransfer(S.colorSpace)!==bn,S.matrixAutoUpdate===!0&&S.updateMatrix(),u.material.uniforms.uvTransform.value.copy(S.matrix),(d!==S||p!==S.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,d=S,p=S.version,m=n.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null))}function _(x,g){x.getRGB(k0,$U(n)),i.buffers.color.setClear(k0.r,k0.g,k0.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(x,g=1){a.set(x),l=g,_(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,_(a,l)},render:v}}function fq(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=x(null);let u=l,f=!1;function d(z,ne,ee,re,X){let Q=!1;if(o){const k=_(re,ee,ne);u!==k&&(u=k,m(u.object)),Q=g(z,re,ee,X),Q&&w(z,re,ee,X)}else{const k=ne.wireframe===!0;(u.geometry!==re.id||u.program!==ee.id||u.wireframe!==k)&&(u.geometry=re.id,u.program=ee.id,u.wireframe=k,Q=!0)}X!==null&&t.update(X,n.ELEMENT_ARRAY_BUFFER),(Q||f)&&(f=!1,I(z,ne,ee,re),X!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(X).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(z){return i.isWebGL2?n.bindVertexArray(z):s.bindVertexArrayOES(z)}function v(z){return i.isWebGL2?n.deleteVertexArray(z):s.deleteVertexArrayOES(z)}function _(z,ne,ee){const re=ee.wireframe===!0;let X=a[z.id];X===void 0&&(X={},a[z.id]=X);let Q=X[ne.id];Q===void 0&&(Q={},X[ne.id]=Q);let k=Q[re];return k===void 0&&(k=x(p()),Q[re]=k),k}function x(z){const ne=[],ee=[],re=[];for(let X=0;X<r;X++)ne[X]=0,ee[X]=0,re[X]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ne,enabledAttributes:ee,attributeDivisors:re,object:z,attributes:{},index:null}}function g(z,ne,ee,re){const X=u.attributes,Q=ne.attributes;let k=0;const G=ee.getAttributes();for(const te in G)if(G[te].location>=0){const xe=X[te];let Ce=Q[te];if(Ce===void 0&&(te==="instanceMatrix"&&z.instanceMatrix&&(Ce=z.instanceMatrix),te==="instanceColor"&&z.instanceColor&&(Ce=z.instanceColor)),xe===void 0||xe.attribute!==Ce||Ce&&xe.data!==Ce.data)return!0;k++}return u.attributesNum!==k||u.index!==re}function w(z,ne,ee,re){const X={},Q=ne.attributes;let k=0;const G=ee.getAttributes();for(const te in G)if(G[te].location>=0){let xe=Q[te];xe===void 0&&(te==="instanceMatrix"&&z.instanceMatrix&&(xe=z.instanceMatrix),te==="instanceColor"&&z.instanceColor&&(xe=z.instanceColor));const Ce={};Ce.attribute=xe,xe&&xe.data&&(Ce.data=xe.data),X[te]=Ce,k++}u.attributes=X,u.attributesNum=k,u.index=re}function S(){const z=u.newAttributes;for(let ne=0,ee=z.length;ne<ee;ne++)z[ne]=0}function E(z){b(z,0)}function b(z,ne){const ee=u.newAttributes,re=u.enabledAttributes,X=u.attributeDivisors;ee[z]=1,re[z]===0&&(n.enableVertexAttribArray(z),re[z]=1),X[z]!==ne&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](z,ne),X[z]=ne)}function P(){const z=u.newAttributes,ne=u.enabledAttributes;for(let ee=0,re=ne.length;ee<re;ee++)ne[ee]!==z[ee]&&(n.disableVertexAttribArray(ee),ne[ee]=0)}function R(z,ne,ee,re,X,Q,k){k===!0?n.vertexAttribIPointer(z,ne,ee,X,Q):n.vertexAttribPointer(z,ne,ee,re,X,Q)}function I(z,ne,ee,re){if(i.isWebGL2===!1&&(z.isInstancedMesh||re.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const X=re.attributes,Q=ee.getAttributes(),k=ne.defaultAttributeValues;for(const G in Q){const te=Q[G];if(te.location>=0){let me=X[G];if(me===void 0&&(G==="instanceMatrix"&&z.instanceMatrix&&(me=z.instanceMatrix),G==="instanceColor"&&z.instanceColor&&(me=z.instanceColor)),me!==void 0){const xe=me.normalized,Ce=me.itemSize,Ee=t.get(me);if(Ee===void 0)continue;const De=Ee.buffer,We=Ee.type,_t=Ee.bytesPerElement,Nt=i.isWebGL2===!0&&(We===n.INT||We===n.UNSIGNED_INT||me.gpuType===__);if(me.isInterleavedBufferAttribute){const Be=me.data,J=Be.stride,_e=me.offset;if(Be.isInstancedInterleavedBuffer){for(let ge=0;ge<te.locationSize;ge++)b(te.location+ge,Be.meshPerAttribute);z.isInstancedMesh!==!0&&re._maxInstanceCount===void 0&&(re._maxInstanceCount=Be.meshPerAttribute*Be.count)}else for(let ge=0;ge<te.locationSize;ge++)E(te.location+ge);n.bindBuffer(n.ARRAY_BUFFER,De);for(let ge=0;ge<te.locationSize;ge++)R(te.location+ge,Ce/te.locationSize,We,xe,J*_t,(_e+Ce/te.locationSize*ge)*_t,Nt)}else{if(me.isInstancedBufferAttribute){for(let Be=0;Be<te.locationSize;Be++)b(te.location+Be,me.meshPerAttribute);z.isInstancedMesh!==!0&&re._maxInstanceCount===void 0&&(re._maxInstanceCount=me.meshPerAttribute*me.count)}else for(let Be=0;Be<te.locationSize;Be++)E(te.location+Be);n.bindBuffer(n.ARRAY_BUFFER,De);for(let Be=0;Be<te.locationSize;Be++)R(te.location+Be,Ce/te.locationSize,We,xe,Ce*_t,Ce/te.locationSize*Be*_t,Nt)}}else if(k!==void 0){const xe=k[G];if(xe!==void 0)switch(xe.length){case 2:n.vertexAttrib2fv(te.location,xe);break;case 3:n.vertexAttrib3fv(te.location,xe);break;case 4:n.vertexAttrib4fv(te.location,xe);break;default:n.vertexAttrib1fv(te.location,xe)}}}}P()}function C(){W();for(const z in a){const ne=a[z];for(const ee in ne){const re=ne[ee];for(const X in re)v(re[X].object),delete re[X];delete ne[ee]}delete a[z]}}function L(z){if(a[z.id]===void 0)return;const ne=a[z.id];for(const ee in ne){const re=ne[ee];for(const X in re)v(re[X].object),delete re[X];delete ne[ee]}delete a[z.id]}function B(z){for(const ne in a){const ee=a[ne];if(ee[z.id]===void 0)continue;const re=ee[z.id];for(const X in re)v(re[X].object),delete re[X];delete ee[z.id]}}function W(){ie(),f=!0,u!==l&&(u=l,m(u.object))}function ie(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:W,resetDefaultState:ie,dispose:C,releaseStatesOfGeometry:L,releaseStatesOfProgram:B,initAttributes:S,enableAttribute:E,disableUnusedAttributes:P}}function hq(n,e,t,i){const r=i.isWebGL2;let s;function o(u){s=u}function a(u,f){n.drawArrays(s,u,f),t.update(f,s,1)}function l(u,f,d){if(d===0)return;let p,m;if(r)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,u,f,d),t.update(f,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function dq(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),f=t.logarithmicDepthBuffer===!0,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),v=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),_=n.getParameter(n.MAX_VERTEX_ATTRIBS),x=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),w=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),S=p>0,E=o||e.has("OES_texture_float"),b=S&&E,P=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:f,maxTextures:d,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:_,maxVertexUniforms:x,maxVaryings:g,maxFragmentUniforms:w,vertexTextures:S,floatFragmentTextures:E,floatVertexTextures:b,maxSamples:P}}function pq(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new tl,a=new Wt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||i!==0||r;return r=p,i=d.length,m},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){t=f(d,p,0)},this.setState=function(d,p,m){const v=d.clippingPlanes,_=d.clipIntersection,x=d.clipShadows,g=n.get(d);if(!r||v===null||v.length===0||s&&!x)s?f(null):u();else{const w=s?0:i,S=w*4;let E=g.clippingState||null;l.value=E,E=f(v,p,S,m);for(let b=0;b!==S;++b)E[b]=t[b];g.clippingState=E,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=w}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function f(d,p,m,v){const _=d!==null?d.length:0;let x=null;if(_!==0){if(x=l.value,v!==!0||x===null){const g=m+_*4,w=p.matrixWorldInverse;a.getNormalMatrix(w),(x===null||x.length<g)&&(x=new Float32Array(g));for(let S=0,E=m;S!==_;++S,E+=4)o.copy(d[S]).applyMatrix4(w,a),o.normal.toArray(x,E),x[E+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,x}}function mq(n){let e=new WeakMap;function t(o,a){return a===yh?o.mapping=Wo:a===$p&&(o.mapping=zl),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===yh||a===$p)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new SA(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",r),t(u.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Rh extends Dm{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=f*this.view.offsetY,l=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Ff=4,rI=[.125,.215,.35,.446,.526,.582],Cu=20,mw=new Rh,sI=new ut;let gw=null;const Au=(1+Math.sqrt(5))/2,of=1/Au,oI=[new j(1,1,1),new j(-1,1,1),new j(1,1,-1),new j(-1,1,-1),new j(0,Au,of),new j(0,Au,-of),new j(of,0,Au),new j(-of,0,Au),new j(Au,of,0),new j(-Au,of,0)];class tE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){gw=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=uI(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=lI(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(gw),e.scissorTest=!1,O0(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Wo||e.mapping===zl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),gw=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:cn,minFilter:cn,generateMipmaps:!1,type:zi,format:Ti,colorSpace:ws,depthBuffer:!1},r=aI(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=aI(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=gq(s)),this._blurMaterial=vq(s,e,t)}return r}_compileMaterial(e){const t=new yi(this._lodPlanes[0],e);this._renderer.compile(t,mw)}_sceneToCubeUV(e,t,i,r){const a=new Fi(90,1,t,i),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],f=this._renderer,d=f.autoClear,p=f.toneMapping;f.getClearColor(sI),f.toneMapping=Vo,f.autoClear=!1;const m=new La({name:"PMREM.Background",side:Ar,depthWrite:!1,depthTest:!1}),v=new yi(new Sc,m);let _=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,_=!0):(m.color.copy(sI),_=!0);for(let g=0;g<6;g++){const w=g%3;w===0?(a.up.set(0,l[g],0),a.lookAt(u[g],0,0)):w===1?(a.up.set(0,0,l[g]),a.lookAt(0,u[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,u[g]));const S=this._cubeSize;O0(r,w*S,g>2?S:0,S,S),f.setRenderTarget(r),_&&f.render(v,a),f.render(e,a)}v.geometry.dispose(),v.material.dispose(),f.toneMapping=p,f.autoClear=d,e.background=x}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Wo||e.mapping===zl;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=uI()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=lI());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new yi(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;O0(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,mw)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=oI[(r-1)%oI.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,d=new yi(this._lodPlanes[r],u),p=u.uniforms,m=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Cu-1),_=s/v,x=isFinite(s)?1+Math.floor(f*_):Cu;x>Cu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Cu}`);const g=[];let w=0;for(let R=0;R<Cu;++R){const I=R/_,C=Math.exp(-I*I/2);g.push(C),R===0?w+=C:R<x&&(w+=2*C)}for(let R=0;R<g.length;R++)g[R]=g[R]/w;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=v,p.mipInt.value=S-i;const E=this._sizeLods[r],b=3*E*(r>S-Ff?r-S+Ff:0),P=4*(this._cubeSize-E);O0(t,b,P,3*E,2*E),l.setRenderTarget(t),l.render(d,mw)}}function gq(n){const e=[],t=[],i=[];let r=n;const s=n-Ff+1+rI.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-Ff?l=rI[o-n+Ff-1]:o===0&&(l=0),i.push(l);const u=1/(a-2),f=-u,d=1+u,p=[f,f,d,f,d,d,f,f,d,d,f,d],m=6,v=6,_=3,x=2,g=1,w=new Float32Array(_*v*m),S=new Float32Array(x*v*m),E=new Float32Array(g*v*m);for(let P=0;P<m;P++){const R=P%3*2/3-1,I=P>2?0:-1,C=[R,I,0,R+2/3,I,0,R+2/3,I+1,0,R,I,0,R+2/3,I+1,0,R,I+1,0];w.set(C,_*v*P),S.set(p,x*v*P);const L=[P,P,P,P,P,P];E.set(L,g*v*P)}const b=new qt;b.setAttribute("position",new En(w,_)),b.setAttribute("uv",new En(S,x)),b.setAttribute("faceIndex",new En(E,g)),e.push(b),r>Ff&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function aI(n,e,t){const i=new Ss(n,e,t);return i.texture.mapping=Ch,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function O0(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function vq(n,e,t){const i=new Float32Array(Cu),r=new j(0,1,0);return new Ms({name:"SphericalGaussianBlur",defines:{n:Cu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:MA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Bo,depthTest:!1,depthWrite:!1})}function lI(){return new Ms({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:MA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Bo,depthTest:!1,depthWrite:!1})}function uI(){return new Ms({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:MA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Bo,depthTest:!1,depthWrite:!1})}function MA(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function yq(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,u=l===yh||l===$p,f=l===Wo||l===zl;if(u||f)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new tE(n)),d=u?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(u&&d&&d.height>0||f&&d&&r(d)){t===null&&(t=new tE(n));const p=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const u=6;for(let f=0;f<u;f++)a[f]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function _q(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function xq(n,e,t,i){const r={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const _=p.morphAttributes[v];for(let x=0,g=_.length;x<g;x++)e.remove(_[x])}p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const v in p)e.update(p[v],n.ARRAY_BUFFER);const m=d.morphAttributes;for(const v in m){const _=m[v];for(let x=0,g=_.length;x<g;x++)e.update(_[x],n.ARRAY_BUFFER)}}function u(d){const p=[],m=d.index,v=d.attributes.position;let _=0;if(m!==null){const w=m.array;_=m.version;for(let S=0,E=w.length;S<E;S+=3){const b=w[S+0],P=w[S+1],R=w[S+2];p.push(b,P,P,R,R,b)}}else if(v!==void 0){const w=v.array;_=v.version;for(let S=0,E=w.length/3-1;S<E;S+=3){const b=S+0,P=S+1,R=S+2;p.push(b,P,P,R,R,b)}}else return;const x=new(XU(p)?wA:xA)(p,1);x.version=_;const g=s.get(d);g&&e.remove(g),s.set(d,x)}function f(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&u(d)}else u(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:f}}function wq(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function f(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function d(p,m,v){if(v===0)return;let _,x;if(r)_=n,x="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[x](s,m,a,p*l,v),t.update(m,s,v)}this.setMode=o,this.setIndex=u,this.render=f,this.renderInstances=d}function Sq(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function Mq(n,e){return n[0]-e[0]}function Eq(n,e){return Math.abs(e[1])-Math.abs(n[1])}function Tq(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new gn,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,f,d){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const v=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,_=v!==void 0?v.length:0;let x=s.get(f);if(x===void 0||x.count!==_){let ne=function(){ie.dispose(),s.delete(f),f.removeEventListener("dispose",ne)};var m=ne;x!==void 0&&x.texture.dispose();const S=f.morphAttributes.position!==void 0,E=f.morphAttributes.normal!==void 0,b=f.morphAttributes.color!==void 0,P=f.morphAttributes.position||[],R=f.morphAttributes.normal||[],I=f.morphAttributes.color||[];let C=0;S===!0&&(C=1),E===!0&&(C=2),b===!0&&(C=3);let L=f.attributes.position.count*C,B=1;L>e.maxTextureSize&&(B=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const W=new Float32Array(L*B*4*_),ie=new S_(W,L,B,_);ie.type=bi,ie.needsUpdate=!0;const z=C*4;for(let ee=0;ee<_;ee++){const re=P[ee],X=R[ee],Q=I[ee],k=L*B*4*ee;for(let G=0;G<re.count;G++){const te=G*z;S===!0&&(o.fromBufferAttribute(re,G),W[k+te+0]=o.x,W[k+te+1]=o.y,W[k+te+2]=o.z,W[k+te+3]=0),E===!0&&(o.fromBufferAttribute(X,G),W[k+te+4]=o.x,W[k+te+5]=o.y,W[k+te+6]=o.z,W[k+te+7]=0),b===!0&&(o.fromBufferAttribute(Q,G),W[k+te+8]=o.x,W[k+te+9]=o.y,W[k+te+10]=o.z,W[k+te+11]=Q.itemSize===4?o.w:1)}}x={count:_,texture:ie,size:new Pe(L,B)},s.set(f,x),f.addEventListener("dispose",ne)}let g=0;for(let S=0;S<p.length;S++)g+=p[S];const w=f.morphTargetsRelative?1:1-g;d.getUniforms().setValue(n,"morphTargetBaseInfluence",w),d.getUniforms().setValue(n,"morphTargetInfluences",p),d.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const v=p===void 0?0:p.length;let _=i[f.id];if(_===void 0||_.length!==v){_=[];for(let E=0;E<v;E++)_[E]=[E,0];i[f.id]=_}for(let E=0;E<v;E++){const b=_[E];b[0]=E,b[1]=p[E]}_.sort(Eq);for(let E=0;E<8;E++)E<v&&_[E][1]?(a[E][0]=_[E][0],a[E][1]=_[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(Mq);const x=f.morphAttributes.position,g=f.morphAttributes.normal;let w=0;for(let E=0;E<8;E++){const b=a[E],P=b[0],R=b[1];P!==Number.MAX_SAFE_INTEGER&&R?(x&&f.getAttribute("morphTarget"+E)!==x[P]&&f.setAttribute("morphTarget"+E,x[P]),g&&f.getAttribute("morphNormal"+E)!==g[P]&&f.setAttribute("morphNormal"+E,g[P]),r[E]=R,w+=R):(x&&f.hasAttribute("morphTarget"+E)===!0&&f.deleteAttribute("morphTarget"+E),g&&f.hasAttribute("morphNormal"+E)===!0&&f.deleteAttribute("morphNormal"+E),r[E]=0)}const S=f.morphTargetsRelative?1:1-w;d.getUniforms().setValue(n,"morphTargetBaseInfluence",S),d.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function Aq(n,e,t,i){let r=new WeakMap;function s(l){const u=i.render.frame,f=l.geometry,d=e.get(l,f);if(r.get(d)!==u&&(e.update(d),r.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==u&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,u))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==u&&(p.update(),r.set(p,u))}return d}function o(){r=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const eF=new Mn,tF=new S_,nF=new _A,iF=new km,cI=[],fI=[],hI=new Float32Array(16),dI=new Float32Array(9),pI=new Float32Array(4);function Ih(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=cI[r];if(s===void 0&&(s=new Float32Array(r),cI[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Ci(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Pi(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function E_(n,e){let t=fI[e];t===void 0&&(t=new Int32Array(e),fI[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function bq(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Cq(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ci(t,e))return;n.uniform2fv(this.addr,e),Pi(t,e)}}function Pq(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ci(t,e))return;n.uniform3fv(this.addr,e),Pi(t,e)}}function Rq(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ci(t,e))return;n.uniform4fv(this.addr,e),Pi(t,e)}}function Iq(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ci(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Pi(t,e)}else{if(Ci(t,i))return;pI.set(i),n.uniformMatrix2fv(this.addr,!1,pI),Pi(t,i)}}function Lq(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ci(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Pi(t,e)}else{if(Ci(t,i))return;dI.set(i),n.uniformMatrix3fv(this.addr,!1,dI),Pi(t,i)}}function Nq(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ci(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Pi(t,e)}else{if(Ci(t,i))return;hI.set(i),n.uniformMatrix4fv(this.addr,!1,hI),Pi(t,i)}}function Dq(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function kq(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ci(t,e))return;n.uniform2iv(this.addr,e),Pi(t,e)}}function Oq(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ci(t,e))return;n.uniform3iv(this.addr,e),Pi(t,e)}}function Uq(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ci(t,e))return;n.uniform4iv(this.addr,e),Pi(t,e)}}function Fq(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function zq(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ci(t,e))return;n.uniform2uiv(this.addr,e),Pi(t,e)}}function Bq(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ci(t,e))return;n.uniform3uiv(this.addr,e),Pi(t,e)}}function Vq(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ci(t,e))return;n.uniform4uiv(this.addr,e),Pi(t,e)}}function Hq(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||eF,r)}function Gq(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||nF,r)}function Wq(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||iF,r)}function jq(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||tF,r)}function Xq(n){switch(n){case 5126:return bq;case 35664:return Cq;case 35665:return Pq;case 35666:return Rq;case 35674:return Iq;case 35675:return Lq;case 35676:return Nq;case 5124:case 35670:return Dq;case 35667:case 35671:return kq;case 35668:case 35672:return Oq;case 35669:case 35673:return Uq;case 5125:return Fq;case 36294:return zq;case 36295:return Bq;case 36296:return Vq;case 35678:case 36198:case 36298:case 36306:case 35682:return Hq;case 35679:case 36299:case 36307:return Gq;case 35680:case 36300:case 36308:case 36293:return Wq;case 36289:case 36303:case 36311:case 36292:return jq}}function Yq(n,e){n.uniform1fv(this.addr,e)}function qq(n,e){const t=Ih(e,this.size,2);n.uniform2fv(this.addr,t)}function Zq(n,e){const t=Ih(e,this.size,3);n.uniform3fv(this.addr,t)}function $q(n,e){const t=Ih(e,this.size,4);n.uniform4fv(this.addr,t)}function Kq(n,e){const t=Ih(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Jq(n,e){const t=Ih(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Qq(n,e){const t=Ih(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function eZ(n,e){n.uniform1iv(this.addr,e)}function tZ(n,e){n.uniform2iv(this.addr,e)}function nZ(n,e){n.uniform3iv(this.addr,e)}function iZ(n,e){n.uniform4iv(this.addr,e)}function rZ(n,e){n.uniform1uiv(this.addr,e)}function sZ(n,e){n.uniform2uiv(this.addr,e)}function oZ(n,e){n.uniform3uiv(this.addr,e)}function aZ(n,e){n.uniform4uiv(this.addr,e)}function lZ(n,e,t){const i=this.cache,r=e.length,s=E_(t,r);Ci(i,s)||(n.uniform1iv(this.addr,s),Pi(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||eF,s[o])}function uZ(n,e,t){const i=this.cache,r=e.length,s=E_(t,r);Ci(i,s)||(n.uniform1iv(this.addr,s),Pi(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||nF,s[o])}function cZ(n,e,t){const i=this.cache,r=e.length,s=E_(t,r);Ci(i,s)||(n.uniform1iv(this.addr,s),Pi(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||iF,s[o])}function fZ(n,e,t){const i=this.cache,r=e.length,s=E_(t,r);Ci(i,s)||(n.uniform1iv(this.addr,s),Pi(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||tF,s[o])}function hZ(n){switch(n){case 5126:return Yq;case 35664:return qq;case 35665:return Zq;case 35666:return $q;case 35674:return Kq;case 35675:return Jq;case 35676:return Qq;case 5124:case 35670:return eZ;case 35667:case 35671:return tZ;case 35668:case 35672:return nZ;case 35669:case 35673:return iZ;case 5125:return rZ;case 36294:return sZ;case 36295:return oZ;case 36296:return aZ;case 35678:case 36198:case 36298:case 36306:case 35682:return lZ;case 35679:case 36299:case 36307:return uZ;case 35680:case 36300:case 36308:case 36293:return cZ;case 36289:case 36303:case 36311:case 36292:return fZ}}class dZ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=Xq(t.type)}}class pZ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=hZ(t.type)}}class mZ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const vw=/(\w+)(\])?(\[|\.)?/g;function mI(n,e){n.seq.push(e),n.map[e.id]=e}function gZ(n,e,t){const i=n.name,r=i.length;for(vw.lastIndex=0;;){const s=vw.exec(i),o=vw.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===r){mI(t,u===void 0?new dZ(a,n,e):new pZ(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new mZ(a),mI(t,d)),t=d}}}class Fv{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);gZ(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function gI(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let vZ=0;function yZ(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function _Z(n){const e=mn.getPrimaries(mn.workingColorSpace),t=mn.getPrimaries(n);let i;switch(e===t?i="":e===rm&&t===im?i="LinearDisplayP3ToLinearSRGB":e===im&&t===rm&&(i="LinearSRGBToLinearDisplayP3"),n){case ws:case Lm:return[i,"LinearTransferOETF"];case gi:case w_:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[i,"LinearTransferOETF"]}}function vI(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+yZ(n.getShaderSource(e),o)}else return r}function xZ(n,e){const t=_Z(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function wZ(n,e){let t;switch(e){case xU:t="Linear";break;case wU:t="Reinhard";break;case SU:t="OptimizedCineon";break;case sA:t="ACESFilmic";break;case MU:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function SZ(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(zd).join(`
`)}function MZ(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function EZ(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function zd(n){return n!==""}function yI(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function _I(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const TZ=/^[ \t]*#include +<([\w\d./]+)>/gm;function nE(n){return n.replace(TZ,bZ)}const AZ=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function bZ(n,e){let t=Bt[e];if(t===void 0){const i=AZ.get(e);if(i!==void 0)t=Bt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return nE(t)}const CZ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function xI(n){return n.replace(CZ,PZ)}function PZ(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function wI(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function RZ(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===v_?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===fp?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===ro&&(e="SHADOWMAP_TYPE_VSM"),e}function IZ(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Wo:case zl:e="ENVMAP_TYPE_CUBE";break;case Ch:e="ENVMAP_TYPE_CUBE_UV";break}return e}function LZ(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case zl:e="ENVMAP_MODE_REFRACTION";break}return e}function NZ(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Im:e="ENVMAP_BLENDING_MULTIPLY";break;case yU:e="ENVMAP_BLENDING_MIX";break;case _U:e="ENVMAP_BLENDING_ADD";break}return e}function DZ(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function kZ(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=RZ(t),u=IZ(t),f=LZ(t),d=NZ(t),p=DZ(t),m=t.isWebGL2?"":SZ(t),v=MZ(s),_=r.createProgram();let x,g,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(zd).join(`
`),x.length>0&&(x+=`
`),g=[m,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(zd).join(`
`),g.length>0&&(g+=`
`)):(x=[wI(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(zd).join(`
`),g=[m,wI(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Vo?"#define TONE_MAPPING":"",t.toneMapping!==Vo?Bt.tonemapping_pars_fragment:"",t.toneMapping!==Vo?wZ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Bt.colorspace_pars_fragment,xZ("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(zd).join(`
`)),o=nE(o),o=yI(o,t),o=_I(o,t),a=nE(a),a=yI(a,t),a=_I(a,t),o=xI(o),a=xI(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,g=["#define varying in",t.glslVersion===QM?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===QM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const S=w+x+o,E=w+g+a,b=gI(r,r.VERTEX_SHADER,S),P=gI(r,r.FRAGMENT_SHADER,E);if(r.attachShader(_,b),r.attachShader(_,P),t.index0AttributeName!==void 0?r.bindAttribLocation(_,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(_,0,"position"),r.linkProgram(_),n.debug.checkShaderErrors){const C=r.getProgramInfoLog(_).trim(),L=r.getShaderInfoLog(b).trim(),B=r.getShaderInfoLog(P).trim();let W=!0,ie=!0;if(r.getProgramParameter(_,r.LINK_STATUS)===!1)if(W=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,_,b,P);else{const z=vI(r,b,"vertex"),ne=vI(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(_,r.VALIDATE_STATUS)+`

Program Info Log: `+C+`
`+z+`
`+ne)}else C!==""?console.warn("THREE.WebGLProgram: Program Info Log:",C):(L===""||B==="")&&(ie=!1);ie&&(this.diagnostics={runnable:W,programLog:C,vertexShader:{log:L,prefix:x},fragmentShader:{log:B,prefix:g}})}r.deleteShader(b),r.deleteShader(P);let R;this.getUniforms=function(){return R===void 0&&(R=new Fv(r,_)),R};let I;return this.getAttributes=function(){return I===void 0&&(I=EZ(r,_)),I},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(_),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=vZ++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=b,this.fragmentShader=P,this}let OZ=0;class UZ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new FZ(e),t.set(e,i)),i}}class FZ{constructor(e){this.id=OZ++,this.code=e,this.usedTimes=0}}function zZ(n,e,t,i,r,s,o){const a=new Ju,l=new UZ,u=[],f=r.isWebGL2,d=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(C){return C===0?"uv":`uv${C}`}function x(C,L,B,W,ie){const z=W.fog,ne=ie.geometry,ee=C.isMeshStandardMaterial?W.environment:null,re=(C.isMeshStandardMaterial?t:e).get(C.envMap||ee),X=re&&re.mapping===Ch?re.image.height:null,Q=v[C.type];C.precision!==null&&(m=r.getMaxPrecision(C.precision),m!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",m,"instead."));const k=ne.morphAttributes.position||ne.morphAttributes.normal||ne.morphAttributes.color,G=k!==void 0?k.length:0;let te=0;ne.morphAttributes.position!==void 0&&(te=1),ne.morphAttributes.normal!==void 0&&(te=2),ne.morphAttributes.color!==void 0&&(te=3);let me,xe,Ce,Ee;if(Q){const tt=lo[Q];me=tt.vertexShader,xe=tt.fragmentShader}else me=C.vertexShader,xe=C.fragmentShader,l.update(C),Ce=l.getVertexShaderID(C),Ee=l.getFragmentShaderID(C);const De=n.getRenderTarget(),We=ie.isInstancedMesh===!0,_t=!!C.map,Nt=!!C.matcap,Be=!!re,J=!!C.aoMap,_e=!!C.lightMap,ge=!!C.bumpMap,Re=!!C.normalMap,Te=!!C.displacementMap,se=!!C.emissiveMap,He=!!C.metalnessMap,Qe=!!C.roughnessMap,vt=C.anisotropy>0,mt=C.clearcoat>0,Jt=C.iridescence>0,q=C.sheen>0,F=C.transmission>0,ue=vt&&!!C.anisotropyMap,Ne=mt&&!!C.clearcoatMap,Me=mt&&!!C.clearcoatNormalMap,Ie=mt&&!!C.clearcoatRoughnessMap,Ke=Jt&&!!C.iridescenceMap,ke=Jt&&!!C.iridescenceThicknessMap,Ye=q&&!!C.sheenColorMap,it=q&&!!C.sheenRoughnessMap,Dt=!!C.specularMap,Ae=!!C.specularColorMap,Ht=!!C.specularIntensityMap,xt=F&&!!C.transmissionMap,rt=F&&!!C.thicknessMap,Je=!!C.gradientMap,Z=!!C.alphaMap,fe=C.alphaTest>0,Le=!!C.alphaHash,Xe=!!C.extensions,Ve=!!ne.attributes.uv1,be=!!ne.attributes.uv2,ot=!!ne.attributes.uv3;let Et=Vo;return C.toneMapped&&(De===null||De.isXRRenderTarget===!0)&&(Et=n.toneMapping),{isWebGL2:f,shaderID:Q,shaderType:C.type,shaderName:C.name,vertexShader:me,fragmentShader:xe,defines:C.defines,customVertexShaderID:Ce,customFragmentShaderID:Ee,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:m,instancing:We,instancingColor:We&&ie.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:De===null?n.outputColorSpace:De.isXRRenderTarget===!0?De.texture.colorSpace:ws,map:_t,matcap:Nt,envMap:Be,envMapMode:Be&&re.mapping,envMapCubeUVHeight:X,aoMap:J,lightMap:_e,bumpMap:ge,normalMap:Re,displacementMap:p&&Te,emissiveMap:se,normalMapObjectSpace:Re&&C.normalMapType===kU,normalMapTangentSpace:Re&&C.normalMapType===ql,metalnessMap:He,roughnessMap:Qe,anisotropy:vt,anisotropyMap:ue,clearcoat:mt,clearcoatMap:Ne,clearcoatNormalMap:Me,clearcoatRoughnessMap:Ie,iridescence:Jt,iridescenceMap:Ke,iridescenceThicknessMap:ke,sheen:q,sheenColorMap:Ye,sheenRoughnessMap:it,specularMap:Dt,specularColorMap:Ae,specularIntensityMap:Ht,transmission:F,transmissionMap:xt,thicknessMap:rt,gradientMap:Je,opaque:C.transparent===!1&&C.blending===$u,alphaMap:Z,alphaTest:fe,alphaHash:Le,combine:C.combine,mapUv:_t&&_(C.map.channel),aoMapUv:J&&_(C.aoMap.channel),lightMapUv:_e&&_(C.lightMap.channel),bumpMapUv:ge&&_(C.bumpMap.channel),normalMapUv:Re&&_(C.normalMap.channel),displacementMapUv:Te&&_(C.displacementMap.channel),emissiveMapUv:se&&_(C.emissiveMap.channel),metalnessMapUv:He&&_(C.metalnessMap.channel),roughnessMapUv:Qe&&_(C.roughnessMap.channel),anisotropyMapUv:ue&&_(C.anisotropyMap.channel),clearcoatMapUv:Ne&&_(C.clearcoatMap.channel),clearcoatNormalMapUv:Me&&_(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ie&&_(C.clearcoatRoughnessMap.channel),iridescenceMapUv:Ke&&_(C.iridescenceMap.channel),iridescenceThicknessMapUv:ke&&_(C.iridescenceThicknessMap.channel),sheenColorMapUv:Ye&&_(C.sheenColorMap.channel),sheenRoughnessMapUv:it&&_(C.sheenRoughnessMap.channel),specularMapUv:Dt&&_(C.specularMap.channel),specularColorMapUv:Ae&&_(C.specularColorMap.channel),specularIntensityMapUv:Ht&&_(C.specularIntensityMap.channel),transmissionMapUv:xt&&_(C.transmissionMap.channel),thicknessMapUv:rt&&_(C.thicknessMap.channel),alphaMapUv:Z&&_(C.alphaMap.channel),vertexTangents:!!ne.attributes.tangent&&(Re||vt),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!ne.attributes.color&&ne.attributes.color.itemSize===4,vertexUv1s:Ve,vertexUv2s:be,vertexUv3s:ot,pointsUvs:ie.isPoints===!0&&!!ne.attributes.uv&&(_t||Z),fog:!!z,useFog:C.fog===!0,fogExp2:z&&z.isFogExp2,flatShading:C.flatShading===!0,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:ie.isSkinnedMesh===!0,morphTargets:ne.morphAttributes.position!==void 0,morphNormals:ne.morphAttributes.normal!==void 0,morphColors:ne.morphAttributes.color!==void 0,morphTargetsCount:G,morphTextureStride:te,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&B.length>0,shadowMapType:n.shadowMap.type,toneMapping:Et,useLegacyLights:n._useLegacyLights,decodeVideoTexture:_t&&C.map.isVideoTexture===!0&&mn.getTransfer(C.map.colorSpace)===bn,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===uo,flipSided:C.side===Ar,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:Xe&&C.extensions.derivatives===!0,extensionFragDepth:Xe&&C.extensions.fragDepth===!0,extensionDrawBuffers:Xe&&C.extensions.drawBuffers===!0,extensionShaderTextureLOD:Xe&&C.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:f||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||i.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function g(C){const L=[];if(C.shaderID?L.push(C.shaderID):(L.push(C.customVertexShaderID),L.push(C.customFragmentShaderID)),C.defines!==void 0)for(const B in C.defines)L.push(B),L.push(C.defines[B]);return C.isRawShaderMaterial===!1&&(w(L,C),S(L,C),L.push(n.outputColorSpace)),L.push(C.customProgramCacheKey),L.join()}function w(C,L){C.push(L.precision),C.push(L.outputColorSpace),C.push(L.envMapMode),C.push(L.envMapCubeUVHeight),C.push(L.mapUv),C.push(L.alphaMapUv),C.push(L.lightMapUv),C.push(L.aoMapUv),C.push(L.bumpMapUv),C.push(L.normalMapUv),C.push(L.displacementMapUv),C.push(L.emissiveMapUv),C.push(L.metalnessMapUv),C.push(L.roughnessMapUv),C.push(L.anisotropyMapUv),C.push(L.clearcoatMapUv),C.push(L.clearcoatNormalMapUv),C.push(L.clearcoatRoughnessMapUv),C.push(L.iridescenceMapUv),C.push(L.iridescenceThicknessMapUv),C.push(L.sheenColorMapUv),C.push(L.sheenRoughnessMapUv),C.push(L.specularMapUv),C.push(L.specularColorMapUv),C.push(L.specularIntensityMapUv),C.push(L.transmissionMapUv),C.push(L.thicknessMapUv),C.push(L.combine),C.push(L.fogExp2),C.push(L.sizeAttenuation),C.push(L.morphTargetsCount),C.push(L.morphAttributeCount),C.push(L.numDirLights),C.push(L.numPointLights),C.push(L.numSpotLights),C.push(L.numSpotLightMaps),C.push(L.numHemiLights),C.push(L.numRectAreaLights),C.push(L.numDirLightShadows),C.push(L.numPointLightShadows),C.push(L.numSpotLightShadows),C.push(L.numSpotLightShadowsWithMaps),C.push(L.numLightProbes),C.push(L.shadowMapType),C.push(L.toneMapping),C.push(L.numClippingPlanes),C.push(L.numClipIntersection),C.push(L.depthPacking)}function S(C,L){a.disableAll(),L.isWebGL2&&a.enable(0),L.supportsVertexTextures&&a.enable(1),L.instancing&&a.enable(2),L.instancingColor&&a.enable(3),L.matcap&&a.enable(4),L.envMap&&a.enable(5),L.normalMapObjectSpace&&a.enable(6),L.normalMapTangentSpace&&a.enable(7),L.clearcoat&&a.enable(8),L.iridescence&&a.enable(9),L.alphaTest&&a.enable(10),L.vertexColors&&a.enable(11),L.vertexAlphas&&a.enable(12),L.vertexUv1s&&a.enable(13),L.vertexUv2s&&a.enable(14),L.vertexUv3s&&a.enable(15),L.vertexTangents&&a.enable(16),L.anisotropy&&a.enable(17),C.push(a.mask),a.disableAll(),L.fog&&a.enable(0),L.useFog&&a.enable(1),L.flatShading&&a.enable(2),L.logarithmicDepthBuffer&&a.enable(3),L.skinning&&a.enable(4),L.morphTargets&&a.enable(5),L.morphNormals&&a.enable(6),L.morphColors&&a.enable(7),L.premultipliedAlpha&&a.enable(8),L.shadowMapEnabled&&a.enable(9),L.useLegacyLights&&a.enable(10),L.doubleSided&&a.enable(11),L.flipSided&&a.enable(12),L.useDepthPacking&&a.enable(13),L.dithering&&a.enable(14),L.transmission&&a.enable(15),L.sheen&&a.enable(16),L.opaque&&a.enable(17),L.pointsUvs&&a.enable(18),L.decodeVideoTexture&&a.enable(19),C.push(a.mask)}function E(C){const L=v[C.type];let B;if(L){const W=lo[L];B=KU.clone(W.uniforms)}else B=C.uniforms;return B}function b(C,L){let B;for(let W=0,ie=u.length;W<ie;W++){const z=u[W];if(z.cacheKey===L){B=z,++B.usedTimes;break}}return B===void 0&&(B=new kZ(n,L,C,s),u.push(B)),B}function P(C){if(--C.usedTimes===0){const L=u.indexOf(C);u[L]=u[u.length-1],u.pop(),C.destroy()}}function R(C){l.remove(C)}function I(){l.dispose()}return{getParameters:x,getProgramCacheKey:g,getUniforms:E,acquireProgram:b,releaseProgram:P,releaseShaderCache:R,programs:u,dispose:I}}function BZ(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function VZ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function SI(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function MI(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(d,p,m,v,_,x){let g=n[e];return g===void 0?(g={id:d.id,object:d,geometry:p,material:m,groupOrder:v,renderOrder:d.renderOrder,z:_,group:x},n[e]=g):(g.id=d.id,g.object=d,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=d.renderOrder,g.z=_,g.group=x),e++,g}function a(d,p,m,v,_,x){const g=o(d,p,m,v,_,x);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):t.push(g)}function l(d,p,m,v,_,x){const g=o(d,p,m,v,_,x);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):t.unshift(g)}function u(d,p){t.length>1&&t.sort(d||VZ),i.length>1&&i.sort(p||SI),r.length>1&&r.sort(p||SI)}function f(){for(let d=e,p=n.length;d<p;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:f,sort:u}}function HZ(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new MI,n.set(i,[o])):r>=s.length?(o=new MI,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function GZ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new j,color:new ut};break;case"SpotLight":t={position:new j,direction:new j,color:new ut,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new j,color:new ut,distance:0,decay:0};break;case"HemisphereLight":t={direction:new j,skyColor:new ut,groundColor:new ut};break;case"RectAreaLight":t={color:new ut,position:new j,halfWidth:new j,halfHeight:new j};break}return n[e.id]=t,t}}}function WZ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Pe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Pe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Pe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let jZ=0;function XZ(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function YZ(n,e){const t=new GZ,i=WZ(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)r.probe.push(new j);const s=new j,o=new zt,a=new zt;function l(f,d){let p=0,m=0,v=0;for(let W=0;W<9;W++)r.probe[W].set(0,0,0);let _=0,x=0,g=0,w=0,S=0,E=0,b=0,P=0,R=0,I=0,C=0;f.sort(XZ);const L=d===!0?Math.PI:1;for(let W=0,ie=f.length;W<ie;W++){const z=f[W],ne=z.color,ee=z.intensity,re=z.distance,X=z.shadow&&z.shadow.map?z.shadow.map.texture:null;if(z.isAmbientLight)p+=ne.r*ee*L,m+=ne.g*ee*L,v+=ne.b*ee*L;else if(z.isLightProbe){for(let Q=0;Q<9;Q++)r.probe[Q].addScaledVector(z.sh.coefficients[Q],ee);C++}else if(z.isDirectionalLight){const Q=t.get(z);if(Q.color.copy(z.color).multiplyScalar(z.intensity*L),z.castShadow){const k=z.shadow,G=i.get(z);G.shadowBias=k.bias,G.shadowNormalBias=k.normalBias,G.shadowRadius=k.radius,G.shadowMapSize=k.mapSize,r.directionalShadow[_]=G,r.directionalShadowMap[_]=X,r.directionalShadowMatrix[_]=z.shadow.matrix,E++}r.directional[_]=Q,_++}else if(z.isSpotLight){const Q=t.get(z);Q.position.setFromMatrixPosition(z.matrixWorld),Q.color.copy(ne).multiplyScalar(ee*L),Q.distance=re,Q.coneCos=Math.cos(z.angle),Q.penumbraCos=Math.cos(z.angle*(1-z.penumbra)),Q.decay=z.decay,r.spot[g]=Q;const k=z.shadow;if(z.map&&(r.spotLightMap[R]=z.map,R++,k.updateMatrices(z),z.castShadow&&I++),r.spotLightMatrix[g]=k.matrix,z.castShadow){const G=i.get(z);G.shadowBias=k.bias,G.shadowNormalBias=k.normalBias,G.shadowRadius=k.radius,G.shadowMapSize=k.mapSize,r.spotShadow[g]=G,r.spotShadowMap[g]=X,P++}g++}else if(z.isRectAreaLight){const Q=t.get(z);Q.color.copy(ne).multiplyScalar(ee),Q.halfWidth.set(z.width*.5,0,0),Q.halfHeight.set(0,z.height*.5,0),r.rectArea[w]=Q,w++}else if(z.isPointLight){const Q=t.get(z);if(Q.color.copy(z.color).multiplyScalar(z.intensity*L),Q.distance=z.distance,Q.decay=z.decay,z.castShadow){const k=z.shadow,G=i.get(z);G.shadowBias=k.bias,G.shadowNormalBias=k.normalBias,G.shadowRadius=k.radius,G.shadowMapSize=k.mapSize,G.shadowCameraNear=k.camera.near,G.shadowCameraFar=k.camera.far,r.pointShadow[x]=G,r.pointShadowMap[x]=X,r.pointShadowMatrix[x]=z.shadow.matrix,b++}r.point[x]=Q,x++}else if(z.isHemisphereLight){const Q=t.get(z);Q.skyColor.copy(z.color).multiplyScalar(ee*L),Q.groundColor.copy(z.groundColor).multiplyScalar(ee*L),r.hemi[S]=Q,S++}}w>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=$e.LTC_FLOAT_1,r.rectAreaLTC2=$e.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=$e.LTC_HALF_1,r.rectAreaLTC2=$e.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=v;const B=r.hash;(B.directionalLength!==_||B.pointLength!==x||B.spotLength!==g||B.rectAreaLength!==w||B.hemiLength!==S||B.numDirectionalShadows!==E||B.numPointShadows!==b||B.numSpotShadows!==P||B.numSpotMaps!==R||B.numLightProbes!==C)&&(r.directional.length=_,r.spot.length=g,r.rectArea.length=w,r.point.length=x,r.hemi.length=S,r.directionalShadow.length=E,r.directionalShadowMap.length=E,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=P,r.spotShadowMap.length=P,r.directionalShadowMatrix.length=E,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=P+R-I,r.spotLightMap.length=R,r.numSpotLightShadowsWithMaps=I,r.numLightProbes=C,B.directionalLength=_,B.pointLength=x,B.spotLength=g,B.rectAreaLength=w,B.hemiLength=S,B.numDirectionalShadows=E,B.numPointShadows=b,B.numSpotShadows=P,B.numSpotMaps=R,B.numLightProbes=C,r.version=jZ++)}function u(f,d){let p=0,m=0,v=0,_=0,x=0;const g=d.matrixWorldInverse;for(let w=0,S=f.length;w<S;w++){const E=f[w];if(E.isDirectionalLight){const b=r.directional[p];b.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(g),p++}else if(E.isSpotLight){const b=r.spot[v];b.position.setFromMatrixPosition(E.matrixWorld),b.position.applyMatrix4(g),b.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(g),v++}else if(E.isRectAreaLight){const b=r.rectArea[_];b.position.setFromMatrixPosition(E.matrixWorld),b.position.applyMatrix4(g),a.identity(),o.copy(E.matrixWorld),o.premultiply(g),a.extractRotation(o),b.halfWidth.set(E.width*.5,0,0),b.halfHeight.set(0,E.height*.5,0),b.halfWidth.applyMatrix4(a),b.halfHeight.applyMatrix4(a),_++}else if(E.isPointLight){const b=r.point[m];b.position.setFromMatrixPosition(E.matrixWorld),b.position.applyMatrix4(g),m++}else if(E.isHemisphereLight){const b=r.hemi[x];b.direction.setFromMatrixPosition(E.matrixWorld),b.direction.transformDirection(g),x++}}}return{setup:l,setupView:u,state:r}}function EI(n,e){const t=new YZ(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(d){i.push(d)}function a(d){r.push(d)}function l(d){t.setup(i,d)}function u(d){t.setupView(i,d)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function qZ(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new EI(n,e),t.set(s,[l])):o>=a.length?(l=new EI(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class EA extends cr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=NU,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class TA extends cr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const ZZ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,$Z=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function KZ(n,e,t){let i=new M_;const r=new Pe,s=new Pe,o=new gn,a=new EA({depthPacking:DU}),l=new TA,u={},f=t.maxTextureSize,d={[Pa]:Ar,[Ar]:Pa,[uo]:uo},p=new Ms({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Pe},radius:{value:4}},vertexShader:ZZ,fragmentShader:$Z}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new qt;v.setAttribute("position",new En(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new yi(v,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=v_;let g=this.type;this.render=function(b,P,R){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||b.length===0)return;const I=n.getRenderTarget(),C=n.getActiveCubeFace(),L=n.getActiveMipmapLevel(),B=n.state;B.setBlending(Bo),B.buffers.color.setClear(1,1,1,1),B.buffers.depth.setTest(!0),B.setScissorTest(!1);const W=g!==ro&&this.type===ro,ie=g===ro&&this.type!==ro;for(let z=0,ne=b.length;z<ne;z++){const ee=b[z],re=ee.shadow;if(re===void 0){console.warn("THREE.WebGLShadowMap:",ee,"has no shadow.");continue}if(re.autoUpdate===!1&&re.needsUpdate===!1)continue;r.copy(re.mapSize);const X=re.getFrameExtents();if(r.multiply(X),s.copy(re.mapSize),(r.x>f||r.y>f)&&(r.x>f&&(s.x=Math.floor(f/X.x),r.x=s.x*X.x,re.mapSize.x=s.x),r.y>f&&(s.y=Math.floor(f/X.y),r.y=s.y*X.y,re.mapSize.y=s.y)),re.map===null||W===!0||ie===!0){const k=this.type!==ro?{minFilter:oi,magFilter:oi}:{};re.map!==null&&re.map.dispose(),re.map=new Ss(r.x,r.y,k),re.map.texture.name=ee.name+".shadowMap",re.camera.updateProjectionMatrix()}n.setRenderTarget(re.map),n.clear();const Q=re.getViewportCount();for(let k=0;k<Q;k++){const G=re.getViewport(k);o.set(s.x*G.x,s.y*G.y,s.x*G.z,s.y*G.w),B.viewport(o),re.updateMatrices(ee,k),i=re.getFrustum(),E(P,R,re.camera,ee,this.type)}re.isPointLightShadow!==!0&&this.type===ro&&w(re,R),re.needsUpdate=!1}g=this.type,x.needsUpdate=!1,n.setRenderTarget(I,C,L)};function w(b,P){const R=e.update(_);p.defines.VSM_SAMPLES!==b.blurSamples&&(p.defines.VSM_SAMPLES=b.blurSamples,m.defines.VSM_SAMPLES=b.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),b.mapPass===null&&(b.mapPass=new Ss(r.x,r.y)),p.uniforms.shadow_pass.value=b.map.texture,p.uniforms.resolution.value=b.mapSize,p.uniforms.radius.value=b.radius,n.setRenderTarget(b.mapPass),n.clear(),n.renderBufferDirect(P,null,R,p,_,null),m.uniforms.shadow_pass.value=b.mapPass.texture,m.uniforms.resolution.value=b.mapSize,m.uniforms.radius.value=b.radius,n.setRenderTarget(b.map),n.clear(),n.renderBufferDirect(P,null,R,m,_,null)}function S(b,P,R,I){let C=null;const L=R.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(L!==void 0)C=L;else if(C=R.isPointLight===!0?l:a,n.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const B=C.uuid,W=P.uuid;let ie=u[B];ie===void 0&&(ie={},u[B]=ie);let z=ie[W];z===void 0&&(z=C.clone(),ie[W]=z),C=z}if(C.visible=P.visible,C.wireframe=P.wireframe,I===ro?C.side=P.shadowSide!==null?P.shadowSide:P.side:C.side=P.shadowSide!==null?P.shadowSide:d[P.side],C.alphaMap=P.alphaMap,C.alphaTest=P.alphaTest,C.map=P.map,C.clipShadows=P.clipShadows,C.clippingPlanes=P.clippingPlanes,C.clipIntersection=P.clipIntersection,C.displacementMap=P.displacementMap,C.displacementScale=P.displacementScale,C.displacementBias=P.displacementBias,C.wireframeLinewidth=P.wireframeLinewidth,C.linewidth=P.linewidth,R.isPointLight===!0&&C.isMeshDistanceMaterial===!0){const B=n.properties.get(C);B.light=R}return C}function E(b,P,R,I,C){if(b.visible===!1)return;if(b.layers.test(P.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&C===ro)&&(!b.frustumCulled||i.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,b.matrixWorld);const W=e.update(b),ie=b.material;if(Array.isArray(ie)){const z=W.groups;for(let ne=0,ee=z.length;ne<ee;ne++){const re=z[ne],X=ie[re.materialIndex];if(X&&X.visible){const Q=S(b,X,I,C);n.renderBufferDirect(R,null,W,Q,b,re)}}}else if(ie.visible){const z=S(b,ie,I,C);n.renderBufferDirect(R,null,W,z,b,null)}}const B=b.children;for(let W=0,ie=B.length;W<ie;W++)E(B[W],P,R,I,C)}}function JZ(n,e,t){const i=t.isWebGL2;function r(){let Z=!1;const fe=new gn;let Le=null;const Xe=new gn(0,0,0,0);return{setMask:function(Ve){Le!==Ve&&!Z&&(n.colorMask(Ve,Ve,Ve,Ve),Le=Ve)},setLocked:function(Ve){Z=Ve},setClear:function(Ve,be,ot,Et,Tn){Tn===!0&&(Ve*=Et,be*=Et,ot*=Et),fe.set(Ve,be,ot,Et),Xe.equals(fe)===!1&&(n.clearColor(Ve,be,ot,Et),Xe.copy(fe))},reset:function(){Z=!1,Le=null,Xe.set(-1,0,0,0)}}}function s(){let Z=!1,fe=null,Le=null,Xe=null;return{setTest:function(Ve){Ve?De(n.DEPTH_TEST):We(n.DEPTH_TEST)},setMask:function(Ve){fe!==Ve&&!Z&&(n.depthMask(Ve),fe=Ve)},setFunc:function(Ve){if(Le!==Ve){switch(Ve){case fU:n.depthFunc(n.NEVER);break;case hU:n.depthFunc(n.ALWAYS);break;case dU:n.depthFunc(n.LESS);break;case Ly:n.depthFunc(n.LEQUAL);break;case pU:n.depthFunc(n.EQUAL);break;case mU:n.depthFunc(n.GEQUAL);break;case gU:n.depthFunc(n.GREATER);break;case vU:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Le=Ve}},setLocked:function(Ve){Z=Ve},setClear:function(Ve){Xe!==Ve&&(n.clearDepth(Ve),Xe=Ve)},reset:function(){Z=!1,fe=null,Le=null,Xe=null}}}function o(){let Z=!1,fe=null,Le=null,Xe=null,Ve=null,be=null,ot=null,Et=null,Tn=null;return{setTest:function(tt){Z||(tt?De(n.STENCIL_TEST):We(n.STENCIL_TEST))},setMask:function(tt){fe!==tt&&!Z&&(n.stencilMask(tt),fe=tt)},setFunc:function(tt,ct,Pt){(Le!==tt||Xe!==ct||Ve!==Pt)&&(n.stencilFunc(tt,ct,Pt),Le=tt,Xe=ct,Ve=Pt)},setOp:function(tt,ct,Pt){(be!==tt||ot!==ct||Et!==Pt)&&(n.stencilOp(tt,ct,Pt),be=tt,ot=ct,Et=Pt)},setLocked:function(tt){Z=tt},setClear:function(tt){Tn!==tt&&(n.clearStencil(tt),Tn=tt)},reset:function(){Z=!1,fe=null,Le=null,Xe=null,Ve=null,be=null,ot=null,Et=null,Tn=null}}}const a=new r,l=new s,u=new o,f=new WeakMap,d=new WeakMap;let p={},m={},v=new WeakMap,_=[],x=null,g=!1,w=null,S=null,E=null,b=null,P=null,R=null,I=null,C=!1,L=null,B=null,W=null,ie=null,z=null;const ne=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ee=!1,re=0;const X=n.getParameter(n.VERSION);X.indexOf("WebGL")!==-1?(re=parseFloat(/^WebGL (\d)/.exec(X)[1]),ee=re>=1):X.indexOf("OpenGL ES")!==-1&&(re=parseFloat(/^OpenGL ES (\d)/.exec(X)[1]),ee=re>=2);let Q=null,k={};const G=n.getParameter(n.SCISSOR_BOX),te=n.getParameter(n.VIEWPORT),me=new gn().fromArray(G),xe=new gn().fromArray(te);function Ce(Z,fe,Le,Xe){const Ve=new Uint8Array(4),be=n.createTexture();n.bindTexture(Z,be),n.texParameteri(Z,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Z,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let ot=0;ot<Le;ot++)i&&(Z===n.TEXTURE_3D||Z===n.TEXTURE_2D_ARRAY)?n.texImage3D(fe,0,n.RGBA,1,1,Xe,0,n.RGBA,n.UNSIGNED_BYTE,Ve):n.texImage2D(fe+ot,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ve);return be}const Ee={};Ee[n.TEXTURE_2D]=Ce(n.TEXTURE_2D,n.TEXTURE_2D,1),Ee[n.TEXTURE_CUBE_MAP]=Ce(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(Ee[n.TEXTURE_2D_ARRAY]=Ce(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ee[n.TEXTURE_3D]=Ce(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),De(n.DEPTH_TEST),l.setFunc(Ly),Te(!1),se(wM),De(n.CULL_FACE),ge(Bo);function De(Z){p[Z]!==!0&&(n.enable(Z),p[Z]=!0)}function We(Z){p[Z]!==!1&&(n.disable(Z),p[Z]=!1)}function _t(Z,fe){return m[Z]!==fe?(n.bindFramebuffer(Z,fe),m[Z]=fe,i&&(Z===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=fe),Z===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=fe)),!0):!1}function Nt(Z,fe){let Le=_,Xe=!1;if(Z)if(Le=v.get(fe),Le===void 0&&(Le=[],v.set(fe,Le)),Z.isWebGLMultipleRenderTargets){const Ve=Z.texture;if(Le.length!==Ve.length||Le[0]!==n.COLOR_ATTACHMENT0){for(let be=0,ot=Ve.length;be<ot;be++)Le[be]=n.COLOR_ATTACHMENT0+be;Le.length=Ve.length,Xe=!0}}else Le[0]!==n.COLOR_ATTACHMENT0&&(Le[0]=n.COLOR_ATTACHMENT0,Xe=!0);else Le[0]!==n.BACK&&(Le[0]=n.BACK,Xe=!0);Xe&&(t.isWebGL2?n.drawBuffers(Le):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Le))}function Be(Z){return x!==Z?(n.useProgram(Z),x=Z,!0):!1}const J={[bu]:n.FUNC_ADD,[eU]:n.FUNC_SUBTRACT,[tU]:n.FUNC_REVERSE_SUBTRACT};if(i)J[TM]=n.MIN,J[AM]=n.MAX;else{const Z=e.get("EXT_blend_minmax");Z!==null&&(J[TM]=Z.MIN_EXT,J[AM]=Z.MAX_EXT)}const _e={[nU]:n.ZERO,[iU]:n.ONE,[rU]:n.SRC_COLOR,[iA]:n.SRC_ALPHA,[cU]:n.SRC_ALPHA_SATURATE,[lU]:n.DST_COLOR,[oU]:n.DST_ALPHA,[sU]:n.ONE_MINUS_SRC_COLOR,[rA]:n.ONE_MINUS_SRC_ALPHA,[uU]:n.ONE_MINUS_DST_COLOR,[aU]:n.ONE_MINUS_DST_ALPHA};function ge(Z,fe,Le,Xe,Ve,be,ot,Et){if(Z===Bo){g===!0&&(We(n.BLEND),g=!1);return}if(g===!1&&(De(n.BLEND),g=!0),Z!==QO){if(Z!==w||Et!==C){if((S!==bu||P!==bu)&&(n.blendEquation(n.FUNC_ADD),S=bu,P=bu),Et)switch(Z){case $u:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case SM:n.blendFunc(n.ONE,n.ONE);break;case MM:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case EM:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}else switch(Z){case $u:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case SM:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case MM:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case EM:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}E=null,b=null,R=null,I=null,w=Z,C=Et}return}Ve=Ve||fe,be=be||Le,ot=ot||Xe,(fe!==S||Ve!==P)&&(n.blendEquationSeparate(J[fe],J[Ve]),S=fe,P=Ve),(Le!==E||Xe!==b||be!==R||ot!==I)&&(n.blendFuncSeparate(_e[Le],_e[Xe],_e[be],_e[ot]),E=Le,b=Xe,R=be,I=ot),w=Z,C=!1}function Re(Z,fe){Z.side===uo?We(n.CULL_FACE):De(n.CULL_FACE);let Le=Z.side===Ar;fe&&(Le=!Le),Te(Le),Z.blending===$u&&Z.transparent===!1?ge(Bo):ge(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst,Z.blendEquationAlpha,Z.blendSrcAlpha,Z.blendDstAlpha,Z.premultipliedAlpha),l.setFunc(Z.depthFunc),l.setTest(Z.depthTest),l.setMask(Z.depthWrite),a.setMask(Z.colorWrite);const Xe=Z.stencilWrite;u.setTest(Xe),Xe&&(u.setMask(Z.stencilWriteMask),u.setFunc(Z.stencilFunc,Z.stencilRef,Z.stencilFuncMask),u.setOp(Z.stencilFail,Z.stencilZFail,Z.stencilZPass)),Qe(Z.polygonOffset,Z.polygonOffsetFactor,Z.polygonOffsetUnits),Z.alphaToCoverage===!0?De(n.SAMPLE_ALPHA_TO_COVERAGE):We(n.SAMPLE_ALPHA_TO_COVERAGE)}function Te(Z){L!==Z&&(Z?n.frontFace(n.CW):n.frontFace(n.CCW),L=Z)}function se(Z){Z!==$O?(De(n.CULL_FACE),Z!==B&&(Z===wM?n.cullFace(n.BACK):Z===KO?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):We(n.CULL_FACE),B=Z}function He(Z){Z!==W&&(ee&&n.lineWidth(Z),W=Z)}function Qe(Z,fe,Le){Z?(De(n.POLYGON_OFFSET_FILL),(ie!==fe||z!==Le)&&(n.polygonOffset(fe,Le),ie=fe,z=Le)):We(n.POLYGON_OFFSET_FILL)}function vt(Z){Z?De(n.SCISSOR_TEST):We(n.SCISSOR_TEST)}function mt(Z){Z===void 0&&(Z=n.TEXTURE0+ne-1),Q!==Z&&(n.activeTexture(Z),Q=Z)}function Jt(Z,fe,Le){Le===void 0&&(Q===null?Le=n.TEXTURE0+ne-1:Le=Q);let Xe=k[Le];Xe===void 0&&(Xe={type:void 0,texture:void 0},k[Le]=Xe),(Xe.type!==Z||Xe.texture!==fe)&&(Q!==Le&&(n.activeTexture(Le),Q=Le),n.bindTexture(Z,fe||Ee[Z]),Xe.type=Z,Xe.texture=fe)}function q(){const Z=k[Q];Z!==void 0&&Z.type!==void 0&&(n.bindTexture(Z.type,null),Z.type=void 0,Z.texture=void 0)}function F(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ue(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ne(){try{n.texSubImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Me(){try{n.texSubImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ie(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ke(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ke(){try{n.texStorage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ye(){try{n.texStorage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function it(){try{n.texImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Dt(){try{n.texImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ae(Z){me.equals(Z)===!1&&(n.scissor(Z.x,Z.y,Z.z,Z.w),me.copy(Z))}function Ht(Z){xe.equals(Z)===!1&&(n.viewport(Z.x,Z.y,Z.z,Z.w),xe.copy(Z))}function xt(Z,fe){let Le=d.get(fe);Le===void 0&&(Le=new WeakMap,d.set(fe,Le));let Xe=Le.get(Z);Xe===void 0&&(Xe=n.getUniformBlockIndex(fe,Z.name),Le.set(Z,Xe))}function rt(Z,fe){const Xe=d.get(fe).get(Z);f.get(fe)!==Xe&&(n.uniformBlockBinding(fe,Xe,Z.__bindingPointIndex),f.set(fe,Xe))}function Je(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),i===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},Q=null,k={},m={},v=new WeakMap,_=[],x=null,g=!1,w=null,S=null,E=null,b=null,P=null,R=null,I=null,C=!1,L=null,B=null,W=null,ie=null,z=null,me.set(0,0,n.canvas.width,n.canvas.height),xe.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:De,disable:We,bindFramebuffer:_t,drawBuffers:Nt,useProgram:Be,setBlending:ge,setMaterial:Re,setFlipSided:Te,setCullFace:se,setLineWidth:He,setPolygonOffset:Qe,setScissorTest:vt,activeTexture:mt,bindTexture:Jt,unbindTexture:q,compressedTexImage2D:F,compressedTexImage3D:ue,texImage2D:it,texImage3D:Dt,updateUBOMapping:xt,uniformBlockBinding:rt,texStorage2D:ke,texStorage3D:Ye,texSubImage2D:Ne,texSubImage3D:Me,compressedTexSubImage2D:Ie,compressedTexSubImage3D:Ke,scissor:Ae,viewport:Ht,reset:Je}}function QZ(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,u=r.maxCubemapSize,f=r.maxTextureSize,d=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let _;const x=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(q,F){return g?new OffscreenCanvas(q,F):am("canvas")}function S(q,F,ue,Ne){let Me=1;if((q.width>Ne||q.height>Ne)&&(Me=Ne/Math.max(q.width,q.height)),Me<1||F===!0)if(typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&q instanceof ImageBitmap){const Ie=F?ky:Math.floor,Ke=Ie(Me*q.width),ke=Ie(Me*q.height);_===void 0&&(_=w(Ke,ke));const Ye=ue?w(Ke,ke):_;return Ye.width=Ke,Ye.height=ke,Ye.getContext("2d").drawImage(q,0,0,Ke,ke),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+q.width+"x"+q.height+") to ("+Ke+"x"+ke+")."),Ye}else return"data"in q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+q.width+"x"+q.height+")."),q;return q}function E(q){return eE(q.width)&&eE(q.height)}function b(q){return a?!1:q.wrapS!==zn||q.wrapT!==zn||q.minFilter!==oi&&q.minFilter!==cn}function P(q,F){return q.generateMipmaps&&F&&q.minFilter!==oi&&q.minFilter!==cn}function R(q){n.generateMipmap(q)}function I(q,F,ue,Ne,Me=!1){if(a===!1)return F;if(q!==null){if(n[q]!==void 0)return n[q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+q+"'")}let Ie=F;if(F===n.RED&&(ue===n.FLOAT&&(Ie=n.R32F),ue===n.HALF_FLOAT&&(Ie=n.R16F),ue===n.UNSIGNED_BYTE&&(Ie=n.R8)),F===n.RED_INTEGER&&(ue===n.UNSIGNED_BYTE&&(Ie=n.R8UI),ue===n.UNSIGNED_SHORT&&(Ie=n.R16UI),ue===n.UNSIGNED_INT&&(Ie=n.R32UI),ue===n.BYTE&&(Ie=n.R8I),ue===n.SHORT&&(Ie=n.R16I),ue===n.INT&&(Ie=n.R32I)),F===n.RG&&(ue===n.FLOAT&&(Ie=n.RG32F),ue===n.HALF_FLOAT&&(Ie=n.RG16F),ue===n.UNSIGNED_BYTE&&(Ie=n.RG8)),F===n.RGBA){const Ke=Me?nm:mn.getTransfer(Ne);ue===n.FLOAT&&(Ie=n.RGBA32F),ue===n.HALF_FLOAT&&(Ie=n.RGBA16F),ue===n.UNSIGNED_BYTE&&(Ie=Ke===bn?n.SRGB8_ALPHA8:n.RGBA8),ue===n.UNSIGNED_SHORT_4_4_4_4&&(Ie=n.RGBA4),ue===n.UNSIGNED_SHORT_5_5_5_1&&(Ie=n.RGB5_A1)}return(Ie===n.R16F||Ie===n.R32F||Ie===n.RG16F||Ie===n.RG32F||Ie===n.RGBA16F||Ie===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ie}function C(q,F,ue){return P(q,ue)===!0||q.isFramebufferTexture&&q.minFilter!==oi&&q.minFilter!==cn?Math.log2(Math.max(F.width,F.height))+1:q.mipmaps!==void 0&&q.mipmaps.length>0?q.mipmaps.length:q.isCompressedTexture&&Array.isArray(q.image)?F.mipmaps.length:1}function L(q){return q===oi||q===Ny||q===hp?n.NEAREST:n.LINEAR}function B(q){const F=q.target;F.removeEventListener("dispose",B),ie(F),F.isVideoTexture&&v.delete(F)}function W(q){const F=q.target;F.removeEventListener("dispose",W),ne(F)}function ie(q){const F=i.get(q);if(F.__webglInit===void 0)return;const ue=q.source,Ne=x.get(ue);if(Ne){const Me=Ne[F.__cacheKey];Me.usedTimes--,Me.usedTimes===0&&z(q),Object.keys(Ne).length===0&&x.delete(ue)}i.remove(q)}function z(q){const F=i.get(q);n.deleteTexture(F.__webglTexture);const ue=q.source,Ne=x.get(ue);delete Ne[F.__cacheKey],o.memory.textures--}function ne(q){const F=q.texture,ue=i.get(q),Ne=i.get(F);if(Ne.__webglTexture!==void 0&&(n.deleteTexture(Ne.__webglTexture),o.memory.textures--),q.depthTexture&&q.depthTexture.dispose(),q.isWebGLCubeRenderTarget)for(let Me=0;Me<6;Me++){if(Array.isArray(ue.__webglFramebuffer[Me]))for(let Ie=0;Ie<ue.__webglFramebuffer[Me].length;Ie++)n.deleteFramebuffer(ue.__webglFramebuffer[Me][Ie]);else n.deleteFramebuffer(ue.__webglFramebuffer[Me]);ue.__webglDepthbuffer&&n.deleteRenderbuffer(ue.__webglDepthbuffer[Me])}else{if(Array.isArray(ue.__webglFramebuffer))for(let Me=0;Me<ue.__webglFramebuffer.length;Me++)n.deleteFramebuffer(ue.__webglFramebuffer[Me]);else n.deleteFramebuffer(ue.__webglFramebuffer);if(ue.__webglDepthbuffer&&n.deleteRenderbuffer(ue.__webglDepthbuffer),ue.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ue.__webglMultisampledFramebuffer),ue.__webglColorRenderbuffer)for(let Me=0;Me<ue.__webglColorRenderbuffer.length;Me++)ue.__webglColorRenderbuffer[Me]&&n.deleteRenderbuffer(ue.__webglColorRenderbuffer[Me]);ue.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ue.__webglDepthRenderbuffer)}if(q.isWebGLMultipleRenderTargets)for(let Me=0,Ie=F.length;Me<Ie;Me++){const Ke=i.get(F[Me]);Ke.__webglTexture&&(n.deleteTexture(Ke.__webglTexture),o.memory.textures--),i.remove(F[Me])}i.remove(F),i.remove(q)}let ee=0;function re(){ee=0}function X(){const q=ee;return q>=l&&console.warn("THREE.WebGLTextures: Trying to use "+q+" texture units while this GPU supports only "+l),ee+=1,q}function Q(q){const F=[];return F.push(q.wrapS),F.push(q.wrapT),F.push(q.wrapR||0),F.push(q.magFilter),F.push(q.minFilter),F.push(q.anisotropy),F.push(q.internalFormat),F.push(q.format),F.push(q.type),F.push(q.generateMipmaps),F.push(q.premultiplyAlpha),F.push(q.flipY),F.push(q.unpackAlignment),F.push(q.colorSpace),F.join()}function k(q,F){const ue=i.get(q);if(q.isVideoTexture&&mt(q),q.isRenderTargetTexture===!1&&q.version>0&&ue.__version!==q.version){const Ne=q.image;if(Ne===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ne.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{_t(ue,q,F);return}}t.bindTexture(n.TEXTURE_2D,ue.__webglTexture,n.TEXTURE0+F)}function G(q,F){const ue=i.get(q);if(q.version>0&&ue.__version!==q.version){_t(ue,q,F);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ue.__webglTexture,n.TEXTURE0+F)}function te(q,F){const ue=i.get(q);if(q.version>0&&ue.__version!==q.version){_t(ue,q,F);return}t.bindTexture(n.TEXTURE_3D,ue.__webglTexture,n.TEXTURE0+F)}function me(q,F){const ue=i.get(q);if(q.version>0&&ue.__version!==q.version){Nt(ue,q,F);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ue.__webglTexture,n.TEXTURE0+F)}const xe={[Kp]:n.REPEAT,[zn]:n.CLAMP_TO_EDGE,[Jp]:n.MIRRORED_REPEAT},Ce={[oi]:n.NEAREST,[Ny]:n.NEAREST_MIPMAP_NEAREST,[hp]:n.NEAREST_MIPMAP_LINEAR,[cn]:n.LINEAR,[oA]:n.LINEAR_MIPMAP_NEAREST,[Bl]:n.LINEAR_MIPMAP_LINEAR},Ee={[UU]:n.NEVER,[WU]:n.ALWAYS,[FU]:n.LESS,[BU]:n.LEQUAL,[zU]:n.EQUAL,[GU]:n.GEQUAL,[VU]:n.GREATER,[HU]:n.NOTEQUAL};function De(q,F,ue){if(ue?(n.texParameteri(q,n.TEXTURE_WRAP_S,xe[F.wrapS]),n.texParameteri(q,n.TEXTURE_WRAP_T,xe[F.wrapT]),(q===n.TEXTURE_3D||q===n.TEXTURE_2D_ARRAY)&&n.texParameteri(q,n.TEXTURE_WRAP_R,xe[F.wrapR]),n.texParameteri(q,n.TEXTURE_MAG_FILTER,Ce[F.magFilter]),n.texParameteri(q,n.TEXTURE_MIN_FILTER,Ce[F.minFilter])):(n.texParameteri(q,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(q,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(q===n.TEXTURE_3D||q===n.TEXTURE_2D_ARRAY)&&n.texParameteri(q,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(F.wrapS!==zn||F.wrapT!==zn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(q,n.TEXTURE_MAG_FILTER,L(F.magFilter)),n.texParameteri(q,n.TEXTURE_MIN_FILTER,L(F.minFilter)),F.minFilter!==oi&&F.minFilter!==cn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),F.compareFunction&&(n.texParameteri(q,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(q,n.TEXTURE_COMPARE_FUNC,Ee[F.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ne=e.get("EXT_texture_filter_anisotropic");if(F.magFilter===oi||F.minFilter!==hp&&F.minFilter!==Bl||F.type===bi&&e.has("OES_texture_float_linear")===!1||a===!1&&F.type===zi&&e.has("OES_texture_half_float_linear")===!1)return;(F.anisotropy>1||i.get(F).__currentAnisotropy)&&(n.texParameterf(q,Ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,r.getMaxAnisotropy())),i.get(F).__currentAnisotropy=F.anisotropy)}}function We(q,F){let ue=!1;q.__webglInit===void 0&&(q.__webglInit=!0,F.addEventListener("dispose",B));const Ne=F.source;let Me=x.get(Ne);Me===void 0&&(Me={},x.set(Ne,Me));const Ie=Q(F);if(Ie!==q.__cacheKey){Me[Ie]===void 0&&(Me[Ie]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ue=!0),Me[Ie].usedTimes++;const Ke=Me[q.__cacheKey];Ke!==void 0&&(Me[q.__cacheKey].usedTimes--,Ke.usedTimes===0&&z(F)),q.__cacheKey=Ie,q.__webglTexture=Me[Ie].texture}return ue}function _t(q,F,ue){let Ne=n.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(Ne=n.TEXTURE_2D_ARRAY),F.isData3DTexture&&(Ne=n.TEXTURE_3D);const Me=We(q,F),Ie=F.source;t.bindTexture(Ne,q.__webglTexture,n.TEXTURE0+ue);const Ke=i.get(Ie);if(Ie.version!==Ke.__version||Me===!0){t.activeTexture(n.TEXTURE0+ue);const ke=mn.getPrimaries(mn.workingColorSpace),Ye=F.colorSpace===us?null:mn.getPrimaries(F.colorSpace),it=F.colorSpace===us||ke===Ye?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,it);const Dt=b(F)&&E(F.image)===!1;let Ae=S(F.image,Dt,!1,f);Ae=Jt(F,Ae);const Ht=E(Ae)||a,xt=s.convert(F.format,F.colorSpace);let rt=s.convert(F.type),Je=I(F.internalFormat,xt,rt,F.colorSpace,F.isVideoTexture);De(Ne,F,Ht);let Z;const fe=F.mipmaps,Le=a&&F.isVideoTexture!==!0,Xe=Ke.__version===void 0||Me===!0,Ve=C(F,Ae,Ht);if(F.isDepthTexture)Je=n.DEPTH_COMPONENT,a?F.type===bi?Je=n.DEPTH_COMPONENT32F:F.type===No?Je=n.DEPTH_COMPONENT24:F.type===Cl?Je=n.DEPTH24_STENCIL8:Je=n.DEPTH_COMPONENT16:F.type===bi&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),F.format===Pl&&Je===n.DEPTH_COMPONENT&&F.type!==y_&&F.type!==No&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),F.type=No,rt=s.convert(F.type)),F.format===cc&&Je===n.DEPTH_COMPONENT&&(Je=n.DEPTH_STENCIL,F.type!==Cl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),F.type=Cl,rt=s.convert(F.type))),Xe&&(Le?t.texStorage2D(n.TEXTURE_2D,1,Je,Ae.width,Ae.height):t.texImage2D(n.TEXTURE_2D,0,Je,Ae.width,Ae.height,0,xt,rt,null));else if(F.isDataTexture)if(fe.length>0&&Ht){Le&&Xe&&t.texStorage2D(n.TEXTURE_2D,Ve,Je,fe[0].width,fe[0].height);for(let be=0,ot=fe.length;be<ot;be++)Z=fe[be],Le?t.texSubImage2D(n.TEXTURE_2D,be,0,0,Z.width,Z.height,xt,rt,Z.data):t.texImage2D(n.TEXTURE_2D,be,Je,Z.width,Z.height,0,xt,rt,Z.data);F.generateMipmaps=!1}else Le?(Xe&&t.texStorage2D(n.TEXTURE_2D,Ve,Je,Ae.width,Ae.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ae.width,Ae.height,xt,rt,Ae.data)):t.texImage2D(n.TEXTURE_2D,0,Je,Ae.width,Ae.height,0,xt,rt,Ae.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){Le&&Xe&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ve,Je,fe[0].width,fe[0].height,Ae.depth);for(let be=0,ot=fe.length;be<ot;be++)Z=fe[be],F.format!==Ti?xt!==null?Le?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,be,0,0,0,Z.width,Z.height,Ae.depth,xt,Z.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,be,Je,Z.width,Z.height,Ae.depth,0,Z.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Le?t.texSubImage3D(n.TEXTURE_2D_ARRAY,be,0,0,0,Z.width,Z.height,Ae.depth,xt,rt,Z.data):t.texImage3D(n.TEXTURE_2D_ARRAY,be,Je,Z.width,Z.height,Ae.depth,0,xt,rt,Z.data)}else{Le&&Xe&&t.texStorage2D(n.TEXTURE_2D,Ve,Je,fe[0].width,fe[0].height);for(let be=0,ot=fe.length;be<ot;be++)Z=fe[be],F.format!==Ti?xt!==null?Le?t.compressedTexSubImage2D(n.TEXTURE_2D,be,0,0,Z.width,Z.height,xt,Z.data):t.compressedTexImage2D(n.TEXTURE_2D,be,Je,Z.width,Z.height,0,Z.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Le?t.texSubImage2D(n.TEXTURE_2D,be,0,0,Z.width,Z.height,xt,rt,Z.data):t.texImage2D(n.TEXTURE_2D,be,Je,Z.width,Z.height,0,xt,rt,Z.data)}else if(F.isDataArrayTexture)Le?(Xe&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ve,Je,Ae.width,Ae.height,Ae.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Ae.width,Ae.height,Ae.depth,xt,rt,Ae.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Je,Ae.width,Ae.height,Ae.depth,0,xt,rt,Ae.data);else if(F.isData3DTexture)Le?(Xe&&t.texStorage3D(n.TEXTURE_3D,Ve,Je,Ae.width,Ae.height,Ae.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Ae.width,Ae.height,Ae.depth,xt,rt,Ae.data)):t.texImage3D(n.TEXTURE_3D,0,Je,Ae.width,Ae.height,Ae.depth,0,xt,rt,Ae.data);else if(F.isFramebufferTexture){if(Xe)if(Le)t.texStorage2D(n.TEXTURE_2D,Ve,Je,Ae.width,Ae.height);else{let be=Ae.width,ot=Ae.height;for(let Et=0;Et<Ve;Et++)t.texImage2D(n.TEXTURE_2D,Et,Je,be,ot,0,xt,rt,null),be>>=1,ot>>=1}}else if(fe.length>0&&Ht){Le&&Xe&&t.texStorage2D(n.TEXTURE_2D,Ve,Je,fe[0].width,fe[0].height);for(let be=0,ot=fe.length;be<ot;be++)Z=fe[be],Le?t.texSubImage2D(n.TEXTURE_2D,be,0,0,xt,rt,Z):t.texImage2D(n.TEXTURE_2D,be,Je,xt,rt,Z);F.generateMipmaps=!1}else Le?(Xe&&t.texStorage2D(n.TEXTURE_2D,Ve,Je,Ae.width,Ae.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,xt,rt,Ae)):t.texImage2D(n.TEXTURE_2D,0,Je,xt,rt,Ae);P(F,Ht)&&R(Ne),Ke.__version=Ie.version,F.onUpdate&&F.onUpdate(F)}q.__version=F.version}function Nt(q,F,ue){if(F.image.length!==6)return;const Ne=We(q,F),Me=F.source;t.bindTexture(n.TEXTURE_CUBE_MAP,q.__webglTexture,n.TEXTURE0+ue);const Ie=i.get(Me);if(Me.version!==Ie.__version||Ne===!0){t.activeTexture(n.TEXTURE0+ue);const Ke=mn.getPrimaries(mn.workingColorSpace),ke=F.colorSpace===us?null:mn.getPrimaries(F.colorSpace),Ye=F.colorSpace===us||Ke===ke?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ye);const it=F.isCompressedTexture||F.image[0].isCompressedTexture,Dt=F.image[0]&&F.image[0].isDataTexture,Ae=[];for(let be=0;be<6;be++)!it&&!Dt?Ae[be]=S(F.image[be],!1,!0,u):Ae[be]=Dt?F.image[be].image:F.image[be],Ae[be]=Jt(F,Ae[be]);const Ht=Ae[0],xt=E(Ht)||a,rt=s.convert(F.format,F.colorSpace),Je=s.convert(F.type),Z=I(F.internalFormat,rt,Je,F.colorSpace),fe=a&&F.isVideoTexture!==!0,Le=Ie.__version===void 0||Ne===!0;let Xe=C(F,Ht,xt);De(n.TEXTURE_CUBE_MAP,F,xt);let Ve;if(it){fe&&Le&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Xe,Z,Ht.width,Ht.height);for(let be=0;be<6;be++){Ve=Ae[be].mipmaps;for(let ot=0;ot<Ve.length;ot++){const Et=Ve[ot];F.format!==Ti?rt!==null?fe?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,ot,0,0,Et.width,Et.height,rt,Et.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,ot,Z,Et.width,Et.height,0,Et.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):fe?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,ot,0,0,Et.width,Et.height,rt,Je,Et.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,ot,Z,Et.width,Et.height,0,rt,Je,Et.data)}}}else{Ve=F.mipmaps,fe&&Le&&(Ve.length>0&&Xe++,t.texStorage2D(n.TEXTURE_CUBE_MAP,Xe,Z,Ae[0].width,Ae[0].height));for(let be=0;be<6;be++)if(Dt){fe?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,0,0,Ae[be].width,Ae[be].height,rt,Je,Ae[be].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,Z,Ae[be].width,Ae[be].height,0,rt,Je,Ae[be].data);for(let ot=0;ot<Ve.length;ot++){const Tn=Ve[ot].image[be].image;fe?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,ot+1,0,0,Tn.width,Tn.height,rt,Je,Tn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,ot+1,Z,Tn.width,Tn.height,0,rt,Je,Tn.data)}}else{fe?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,0,0,rt,Je,Ae[be]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,Z,rt,Je,Ae[be]);for(let ot=0;ot<Ve.length;ot++){const Et=Ve[ot];fe?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,ot+1,0,0,rt,Je,Et.image[be]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,ot+1,Z,rt,Je,Et.image[be])}}}P(F,xt)&&R(n.TEXTURE_CUBE_MAP),Ie.__version=Me.version,F.onUpdate&&F.onUpdate(F)}q.__version=F.version}function Be(q,F,ue,Ne,Me,Ie){const Ke=s.convert(ue.format,ue.colorSpace),ke=s.convert(ue.type),Ye=I(ue.internalFormat,Ke,ke,ue.colorSpace);if(!i.get(F).__hasExternalTextures){const Dt=Math.max(1,F.width>>Ie),Ae=Math.max(1,F.height>>Ie);Me===n.TEXTURE_3D||Me===n.TEXTURE_2D_ARRAY?t.texImage3D(Me,Ie,Ye,Dt,Ae,F.depth,0,Ke,ke,null):t.texImage2D(Me,Ie,Ye,Dt,Ae,0,Ke,ke,null)}t.bindFramebuffer(n.FRAMEBUFFER,q),vt(F)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ne,Me,i.get(ue).__webglTexture,0,Qe(F)):(Me===n.TEXTURE_2D||Me>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Me<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ne,Me,i.get(ue).__webglTexture,Ie),t.bindFramebuffer(n.FRAMEBUFFER,null)}function J(q,F,ue){if(n.bindRenderbuffer(n.RENDERBUFFER,q),F.depthBuffer&&!F.stencilBuffer){let Ne=a===!0?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(ue||vt(F)){const Me=F.depthTexture;Me&&Me.isDepthTexture&&(Me.type===bi?Ne=n.DEPTH_COMPONENT32F:Me.type===No&&(Ne=n.DEPTH_COMPONENT24));const Ie=Qe(F);vt(F)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ie,Ne,F.width,F.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Ie,Ne,F.width,F.height)}else n.renderbufferStorage(n.RENDERBUFFER,Ne,F.width,F.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,q)}else if(F.depthBuffer&&F.stencilBuffer){const Ne=Qe(F);ue&&vt(F)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ne,n.DEPTH24_STENCIL8,F.width,F.height):vt(F)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ne,n.DEPTH24_STENCIL8,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,F.width,F.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,q)}else{const Ne=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let Me=0;Me<Ne.length;Me++){const Ie=Ne[Me],Ke=s.convert(Ie.format,Ie.colorSpace),ke=s.convert(Ie.type),Ye=I(Ie.internalFormat,Ke,ke,Ie.colorSpace),it=Qe(F);ue&&vt(F)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,it,Ye,F.width,F.height):vt(F)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,it,Ye,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,Ye,F.width,F.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function _e(q,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,q),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),k(F.depthTexture,0);const Ne=i.get(F.depthTexture).__webglTexture,Me=Qe(F);if(F.depthTexture.format===Pl)vt(F)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ne,0,Me):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ne,0);else if(F.depthTexture.format===cc)vt(F)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ne,0,Me):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ne,0);else throw new Error("Unknown depthTexture format")}function ge(q){const F=i.get(q),ue=q.isWebGLCubeRenderTarget===!0;if(q.depthTexture&&!F.__autoAllocateDepthBuffer){if(ue)throw new Error("target.depthTexture not supported in Cube render targets");_e(F.__webglFramebuffer,q)}else if(ue){F.__webglDepthbuffer=[];for(let Ne=0;Ne<6;Ne++)t.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer[Ne]),F.__webglDepthbuffer[Ne]=n.createRenderbuffer(),J(F.__webglDepthbuffer[Ne],q,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer),F.__webglDepthbuffer=n.createRenderbuffer(),J(F.__webglDepthbuffer,q,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Re(q,F,ue){const Ne=i.get(q);F!==void 0&&Be(Ne.__webglFramebuffer,q,q.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ue!==void 0&&ge(q)}function Te(q){const F=q.texture,ue=i.get(q),Ne=i.get(F);q.addEventListener("dispose",W),q.isWebGLMultipleRenderTargets!==!0&&(Ne.__webglTexture===void 0&&(Ne.__webglTexture=n.createTexture()),Ne.__version=F.version,o.memory.textures++);const Me=q.isWebGLCubeRenderTarget===!0,Ie=q.isWebGLMultipleRenderTargets===!0,Ke=E(q)||a;if(Me){ue.__webglFramebuffer=[];for(let ke=0;ke<6;ke++)if(a&&F.mipmaps&&F.mipmaps.length>0){ue.__webglFramebuffer[ke]=[];for(let Ye=0;Ye<F.mipmaps.length;Ye++)ue.__webglFramebuffer[ke][Ye]=n.createFramebuffer()}else ue.__webglFramebuffer[ke]=n.createFramebuffer()}else{if(a&&F.mipmaps&&F.mipmaps.length>0){ue.__webglFramebuffer=[];for(let ke=0;ke<F.mipmaps.length;ke++)ue.__webglFramebuffer[ke]=n.createFramebuffer()}else ue.__webglFramebuffer=n.createFramebuffer();if(Ie)if(r.drawBuffers){const ke=q.texture;for(let Ye=0,it=ke.length;Ye<it;Ye++){const Dt=i.get(ke[Ye]);Dt.__webglTexture===void 0&&(Dt.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&q.samples>0&&vt(q)===!1){const ke=Ie?F:[F];ue.__webglMultisampledFramebuffer=n.createFramebuffer(),ue.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ue.__webglMultisampledFramebuffer);for(let Ye=0;Ye<ke.length;Ye++){const it=ke[Ye];ue.__webglColorRenderbuffer[Ye]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ue.__webglColorRenderbuffer[Ye]);const Dt=s.convert(it.format,it.colorSpace),Ae=s.convert(it.type),Ht=I(it.internalFormat,Dt,Ae,it.colorSpace,q.isXRRenderTarget===!0),xt=Qe(q);n.renderbufferStorageMultisample(n.RENDERBUFFER,xt,Ht,q.width,q.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ye,n.RENDERBUFFER,ue.__webglColorRenderbuffer[Ye])}n.bindRenderbuffer(n.RENDERBUFFER,null),q.depthBuffer&&(ue.__webglDepthRenderbuffer=n.createRenderbuffer(),J(ue.__webglDepthRenderbuffer,q,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Me){t.bindTexture(n.TEXTURE_CUBE_MAP,Ne.__webglTexture),De(n.TEXTURE_CUBE_MAP,F,Ke);for(let ke=0;ke<6;ke++)if(a&&F.mipmaps&&F.mipmaps.length>0)for(let Ye=0;Ye<F.mipmaps.length;Ye++)Be(ue.__webglFramebuffer[ke][Ye],q,F,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ke,Ye);else Be(ue.__webglFramebuffer[ke],q,F,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ke,0);P(F,Ke)&&R(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ie){const ke=q.texture;for(let Ye=0,it=ke.length;Ye<it;Ye++){const Dt=ke[Ye],Ae=i.get(Dt);t.bindTexture(n.TEXTURE_2D,Ae.__webglTexture),De(n.TEXTURE_2D,Dt,Ke),Be(ue.__webglFramebuffer,q,Dt,n.COLOR_ATTACHMENT0+Ye,n.TEXTURE_2D,0),P(Dt,Ke)&&R(n.TEXTURE_2D)}t.unbindTexture()}else{let ke=n.TEXTURE_2D;if((q.isWebGL3DRenderTarget||q.isWebGLArrayRenderTarget)&&(a?ke=q.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ke,Ne.__webglTexture),De(ke,F,Ke),a&&F.mipmaps&&F.mipmaps.length>0)for(let Ye=0;Ye<F.mipmaps.length;Ye++)Be(ue.__webglFramebuffer[Ye],q,F,n.COLOR_ATTACHMENT0,ke,Ye);else Be(ue.__webglFramebuffer,q,F,n.COLOR_ATTACHMENT0,ke,0);P(F,Ke)&&R(ke),t.unbindTexture()}q.depthBuffer&&ge(q)}function se(q){const F=E(q)||a,ue=q.isWebGLMultipleRenderTargets===!0?q.texture:[q.texture];for(let Ne=0,Me=ue.length;Ne<Me;Ne++){const Ie=ue[Ne];if(P(Ie,F)){const Ke=q.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,ke=i.get(Ie).__webglTexture;t.bindTexture(Ke,ke),R(Ke),t.unbindTexture()}}}function He(q){if(a&&q.samples>0&&vt(q)===!1){const F=q.isWebGLMultipleRenderTargets?q.texture:[q.texture],ue=q.width,Ne=q.height;let Me=n.COLOR_BUFFER_BIT;const Ie=[],Ke=q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ke=i.get(q),Ye=q.isWebGLMultipleRenderTargets===!0;if(Ye)for(let it=0;it<F.length;it++)t.bindFramebuffer(n.FRAMEBUFFER,ke.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+it,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ke.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+it,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ke.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ke.__webglFramebuffer);for(let it=0;it<F.length;it++){Ie.push(n.COLOR_ATTACHMENT0+it),q.depthBuffer&&Ie.push(Ke);const Dt=ke.__ignoreDepthValues!==void 0?ke.__ignoreDepthValues:!1;if(Dt===!1&&(q.depthBuffer&&(Me|=n.DEPTH_BUFFER_BIT),q.stencilBuffer&&(Me|=n.STENCIL_BUFFER_BIT)),Ye&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ke.__webglColorRenderbuffer[it]),Dt===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Ke]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Ke])),Ye){const Ae=i.get(F[it]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Ae,0)}n.blitFramebuffer(0,0,ue,Ne,0,0,ue,Ne,Me,n.NEAREST),m&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ie)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ye)for(let it=0;it<F.length;it++){t.bindFramebuffer(n.FRAMEBUFFER,ke.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+it,n.RENDERBUFFER,ke.__webglColorRenderbuffer[it]);const Dt=i.get(F[it]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ke.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+it,n.TEXTURE_2D,Dt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ke.__webglMultisampledFramebuffer)}}function Qe(q){return Math.min(d,q.samples)}function vt(q){const F=i.get(q);return a&&q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function mt(q){const F=o.render.frame;v.get(q)!==F&&(v.set(q,F),q.update())}function Jt(q,F){const ue=q.colorSpace,Ne=q.format,Me=q.type;return q.isCompressedTexture===!0||q.isVideoTexture===!0||q.format===Dy||ue!==ws&&ue!==us&&(mn.getTransfer(ue)===bn?a===!1?e.has("EXT_sRGB")===!0&&Ne===Ti?(q.format=Dy,q.minFilter=cn,q.generateMipmaps=!1):F=yA.sRGBToLinear(F):(Ne!==Ti||Me!==ps)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ue)),F}this.allocateTextureUnit=X,this.resetTextureUnits=re,this.setTexture2D=k,this.setTexture2DArray=G,this.setTexture3D=te,this.setTextureCube=me,this.rebindTextures=Re,this.setupRenderTarget=Te,this.updateRenderTargetMipmap=se,this.updateMultisampleRenderTarget=He,this.setupDepthRenderbuffer=ge,this.setupFrameBufferTexture=Be,this.useMultisampledRTT=vt}function rF(n,e,t){const i=t.isWebGL2;function r(s,o=us){let a;const l=mn.getTransfer(o);if(s===ps)return n.UNSIGNED_BYTE;if(s===uA)return n.UNSIGNED_SHORT_4_4_4_4;if(s===cA)return n.UNSIGNED_SHORT_5_5_5_1;if(s===aA)return n.BYTE;if(s===lA)return n.SHORT;if(s===y_)return n.UNSIGNED_SHORT;if(s===__)return n.INT;if(s===No)return n.UNSIGNED_INT;if(s===bi)return n.FLOAT;if(s===zi)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===EU)return n.ALPHA;if(s===Ti)return n.RGBA;if(s===TU)return n.LUMINANCE;if(s===AU)return n.LUMINANCE_ALPHA;if(s===Pl)return n.DEPTH_COMPONENT;if(s===cc)return n.DEPTH_STENCIL;if(s===Dy)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===fA)return n.RED;if(s===hA)return n.RED_INTEGER;if(s===bU)return n.RG;if(s===dA)return n.RG_INTEGER;if(s===pA)return n.RGBA_INTEGER;if(s===Iv||s===Lv||s===Nv||s===Dv)if(l===bn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Iv)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Lv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Nv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Dv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Iv)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Lv)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Nv)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Dv)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===CM||s===PM||s===RM||s===IM)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===CM)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===PM)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===RM)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===IM)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===CU)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===LM||s===NM)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===LM)return l===bn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===NM)return l===bn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===DM||s===kM||s===OM||s===UM||s===FM||s===zM||s===BM||s===VM||s===HM||s===GM||s===WM||s===jM||s===XM||s===YM)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===DM)return l===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===kM)return l===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===OM)return l===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===UM)return l===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===FM)return l===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===zM)return l===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===BM)return l===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===VM)return l===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===HM)return l===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===GM)return l===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===WM)return l===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===jM)return l===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===XM)return l===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===YM)return l===bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===kv||s===qM||s===ZM)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===kv)return l===bn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===qM)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===ZM)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===PU||s===$M||s===KM||s===JM)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===kv)return a.COMPRESSED_RED_RGTC1_EXT;if(s===$M)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===KM)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===JM)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Cl?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class sF extends Fi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class zf extends ln{constructor(){super(),this.isGroup=!0,this.type="Group"}}const e$={type:"move"};class yw{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new zf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new zf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new j,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new j),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new zf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new j,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new j),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const _ of e.hand.values()){const x=t.getJointPose(_,i),g=this._getHandJoint(u,_);x!==null&&(g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=x.radius),g.visible=x!==null}const f=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],p=f.position.distanceTo(d.position),m=.02,v=.005;u.inputState.pinching&&p>m+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(e$)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new zf;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class oF extends Mn{constructor(e,t,i,r,s,o,a,l,u,f){if(f=f!==void 0?f:Pl,f!==Pl&&f!==cc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&f===Pl&&(i=No),i===void 0&&f===cc&&(i=Cl),super(null,r,s,o,a,l,f,i,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:oi,this.minFilter=l!==void 0?l:oi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class t$ extends Ia{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,u=null,f=null,d=null,p=null,m=null,v=null;const _=t.getContextAttributes();let x=null,g=null;const w=[],S=[],E=new Fi;E.layers.enable(1),E.viewport=new gn;const b=new Fi;b.layers.enable(2),b.viewport=new gn;const P=[E,b],R=new sF;R.layers.enable(1),R.layers.enable(2);let I=null,C=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let te=w[G];return te===void 0&&(te=new yw,w[G]=te),te.getTargetRaySpace()},this.getControllerGrip=function(G){let te=w[G];return te===void 0&&(te=new yw,w[G]=te),te.getGripSpace()},this.getHand=function(G){let te=w[G];return te===void 0&&(te=new yw,w[G]=te),te.getHandSpace()};function L(G){const te=S.indexOf(G.inputSource);if(te===-1)return;const me=w[te];me!==void 0&&(me.update(G.inputSource,G.frame,u||o),me.dispatchEvent({type:G.type,data:G.inputSource}))}function B(){r.removeEventListener("select",L),r.removeEventListener("selectstart",L),r.removeEventListener("selectend",L),r.removeEventListener("squeeze",L),r.removeEventListener("squeezestart",L),r.removeEventListener("squeezeend",L),r.removeEventListener("end",B),r.removeEventListener("inputsourceschange",W);for(let G=0;G<w.length;G++){const te=S[G];te!==null&&(S[G]=null,w[G].disconnect(te))}I=null,C=null,e.setRenderTarget(x),m=null,p=null,d=null,r=null,g=null,k.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){s=G,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){a=G,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(G){u=G},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(G){if(r=G,r!==null){if(x=e.getRenderTarget(),r.addEventListener("select",L),r.addEventListener("selectstart",L),r.addEventListener("selectend",L),r.addEventListener("squeeze",L),r.addEventListener("squeezestart",L),r.addEventListener("squeezeend",L),r.addEventListener("end",B),r.addEventListener("inputsourceschange",W),_.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const te={antialias:r.renderState.layers===void 0?_.antialias:!0,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,te),r.updateRenderState({baseLayer:m}),g=new Ss(m.framebufferWidth,m.framebufferHeight,{format:Ti,type:ps,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil})}else{let te=null,me=null,xe=null;_.depth&&(xe=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,te=_.stencil?cc:Pl,me=_.stencil?Cl:No);const Ce={colorFormat:t.RGBA8,depthFormat:xe,scaleFactor:s};d=new XRWebGLBinding(r,t),p=d.createProjectionLayer(Ce),r.updateRenderState({layers:[p]}),g=new Ss(p.textureWidth,p.textureHeight,{format:Ti,type:ps,depthTexture:new oF(p.textureWidth,p.textureHeight,me,void 0,void 0,void 0,void 0,void 0,void 0,te),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0});const Ee=e.properties.get(g);Ee.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await r.requestReferenceSpace(a),k.setContext(r),k.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function W(G){for(let te=0;te<G.removed.length;te++){const me=G.removed[te],xe=S.indexOf(me);xe>=0&&(S[xe]=null,w[xe].disconnect(me))}for(let te=0;te<G.added.length;te++){const me=G.added[te];let xe=S.indexOf(me);if(xe===-1){for(let Ee=0;Ee<w.length;Ee++)if(Ee>=S.length){S.push(me),xe=Ee;break}else if(S[Ee]===null){S[Ee]=me,xe=Ee;break}if(xe===-1)break}const Ce=w[xe];Ce&&Ce.connect(me)}}const ie=new j,z=new j;function ne(G,te,me){ie.setFromMatrixPosition(te.matrixWorld),z.setFromMatrixPosition(me.matrixWorld);const xe=ie.distanceTo(z),Ce=te.projectionMatrix.elements,Ee=me.projectionMatrix.elements,De=Ce[14]/(Ce[10]-1),We=Ce[14]/(Ce[10]+1),_t=(Ce[9]+1)/Ce[5],Nt=(Ce[9]-1)/Ce[5],Be=(Ce[8]-1)/Ce[0],J=(Ee[8]+1)/Ee[0],_e=De*Be,ge=De*J,Re=xe/(-Be+J),Te=Re*-Be;te.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(Te),G.translateZ(Re),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert();const se=De+Re,He=We+Re,Qe=_e-Te,vt=ge+(xe-Te),mt=_t*We/He*se,Jt=Nt*We/He*se;G.projectionMatrix.makePerspective(Qe,vt,mt,Jt,se,He),G.projectionMatrixInverse.copy(G.projectionMatrix).invert()}function ee(G,te){te===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(te.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(r===null)return;R.near=b.near=E.near=G.near,R.far=b.far=E.far=G.far,(I!==R.near||C!==R.far)&&(r.updateRenderState({depthNear:R.near,depthFar:R.far}),I=R.near,C=R.far);const te=G.parent,me=R.cameras;ee(R,te);for(let xe=0;xe<me.length;xe++)ee(me[xe],te);me.length===2?ne(R,E,b):R.projectionMatrix.copy(E.projectionMatrix),re(G,R,te)};function re(G,te,me){me===null?G.matrix.copy(te.matrixWorld):(G.matrix.copy(me.matrixWorld),G.matrix.invert(),G.matrix.multiply(te.matrixWorld)),G.matrix.decompose(G.position,G.quaternion,G.scale),G.updateMatrixWorld(!0),G.projectionMatrix.copy(te.projectionMatrix),G.projectionMatrixInverse.copy(te.projectionMatrixInverse),G.isPerspectiveCamera&&(G.fov=_h*2*Math.atan(1/G.projectionMatrix.elements[5]),G.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(G){l=G,p!==null&&(p.fixedFoveation=G),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=G)};let X=null;function Q(G,te){if(f=te.getViewerPose(u||o),v=te,f!==null){const me=f.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let xe=!1;me.length!==R.cameras.length&&(R.cameras.length=0,xe=!0);for(let Ce=0;Ce<me.length;Ce++){const Ee=me[Ce];let De=null;if(m!==null)De=m.getViewport(Ee);else{const _t=d.getViewSubImage(p,Ee);De=_t.viewport,Ce===0&&(e.setRenderTargetTextures(g,_t.colorTexture,p.ignoreDepthValues?void 0:_t.depthStencilTexture),e.setRenderTarget(g))}let We=P[Ce];We===void 0&&(We=new Fi,We.layers.enable(Ce),We.viewport=new gn,P[Ce]=We),We.matrix.fromArray(Ee.transform.matrix),We.matrix.decompose(We.position,We.quaternion,We.scale),We.projectionMatrix.fromArray(Ee.projectionMatrix),We.projectionMatrixInverse.copy(We.projectionMatrix).invert(),We.viewport.set(De.x,De.y,De.width,De.height),Ce===0&&(R.matrix.copy(We.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),xe===!0&&R.cameras.push(We)}}for(let me=0;me<w.length;me++){const xe=S[me],Ce=w[me];xe!==null&&Ce!==void 0&&Ce.update(xe,te,u||o)}X&&X(G,te),te.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:te}),v=null}const k=new QU;k.setAnimationLoop(Q),this.setAnimationLoop=function(G){X=G},this.dispose=function(){}}}function n$(n,e){function t(x,g){x.matrixAutoUpdate===!0&&x.updateMatrix(),g.value.copy(x.matrix)}function i(x,g){g.color.getRGB(x.fogColor.value,$U(n)),g.isFog?(x.fogNear.value=g.near,x.fogFar.value=g.far):g.isFogExp2&&(x.fogDensity.value=g.density)}function r(x,g,w,S,E){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(x,g):g.isMeshToonMaterial?(s(x,g),d(x,g)):g.isMeshPhongMaterial?(s(x,g),f(x,g)):g.isMeshStandardMaterial?(s(x,g),p(x,g),g.isMeshPhysicalMaterial&&m(x,g,E)):g.isMeshMatcapMaterial?(s(x,g),v(x,g)):g.isMeshDepthMaterial?s(x,g):g.isMeshDistanceMaterial?(s(x,g),_(x,g)):g.isMeshNormalMaterial?s(x,g):g.isLineBasicMaterial?(o(x,g),g.isLineDashedMaterial&&a(x,g)):g.isPointsMaterial?l(x,g,w,S):g.isSpriteMaterial?u(x,g):g.isShadowMaterial?(x.color.value.copy(g.color),x.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(x,g){x.opacity.value=g.opacity,g.color&&x.diffuse.value.copy(g.color),g.emissive&&x.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.bumpMap&&(x.bumpMap.value=g.bumpMap,t(g.bumpMap,x.bumpMapTransform),x.bumpScale.value=g.bumpScale,g.side===Ar&&(x.bumpScale.value*=-1)),g.normalMap&&(x.normalMap.value=g.normalMap,t(g.normalMap,x.normalMapTransform),x.normalScale.value.copy(g.normalScale),g.side===Ar&&x.normalScale.value.negate()),g.displacementMap&&(x.displacementMap.value=g.displacementMap,t(g.displacementMap,x.displacementMapTransform),x.displacementScale.value=g.displacementScale,x.displacementBias.value=g.displacementBias),g.emissiveMap&&(x.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,x.emissiveMapTransform)),g.specularMap&&(x.specularMap.value=g.specularMap,t(g.specularMap,x.specularMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest);const w=e.get(g).envMap;if(w&&(x.envMap.value=w,x.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=g.reflectivity,x.ior.value=g.ior,x.refractionRatio.value=g.refractionRatio),g.lightMap){x.lightMap.value=g.lightMap;const S=n._useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=g.lightMapIntensity*S,t(g.lightMap,x.lightMapTransform)}g.aoMap&&(x.aoMap.value=g.aoMap,x.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,x.aoMapTransform))}function o(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform))}function a(x,g){x.dashSize.value=g.dashSize,x.totalSize.value=g.dashSize+g.gapSize,x.scale.value=g.scale}function l(x,g,w,S){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.size.value=g.size*w,x.scale.value=S*.5,g.map&&(x.map.value=g.map,t(g.map,x.uvTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function u(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.rotation.value=g.rotation,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function f(x,g){x.specular.value.copy(g.specular),x.shininess.value=Math.max(g.shininess,1e-4)}function d(x,g){g.gradientMap&&(x.gradientMap.value=g.gradientMap)}function p(x,g){x.metalness.value=g.metalness,g.metalnessMap&&(x.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,x.metalnessMapTransform)),x.roughness.value=g.roughness,g.roughnessMap&&(x.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,x.roughnessMapTransform)),e.get(g).envMap&&(x.envMapIntensity.value=g.envMapIntensity)}function m(x,g,w){x.ior.value=g.ior,g.sheen>0&&(x.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),x.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(x.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,x.sheenColorMapTransform)),g.sheenRoughnessMap&&(x.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,x.sheenRoughnessMapTransform))),g.clearcoat>0&&(x.clearcoat.value=g.clearcoat,x.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(x.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,x.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(x.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Ar&&x.clearcoatNormalScale.value.negate())),g.iridescence>0&&(x.iridescence.value=g.iridescence,x.iridescenceIOR.value=g.iridescenceIOR,x.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(x.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,x.iridescenceMapTransform)),g.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),g.transmission>0&&(x.transmission.value=g.transmission,x.transmissionSamplerMap.value=w.texture,x.transmissionSamplerSize.value.set(w.width,w.height),g.transmissionMap&&(x.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,x.transmissionMapTransform)),x.thickness.value=g.thickness,g.thicknessMap&&(x.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=g.attenuationDistance,x.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(x.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(x.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=g.specularIntensity,x.specularColor.value.copy(g.specularColor),g.specularColorMap&&(x.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,x.specularColorMapTransform)),g.specularIntensityMap&&(x.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,x.specularIntensityMapTransform))}function v(x,g){g.matcap&&(x.matcap.value=g.matcap)}function _(x,g){const w=e.get(g).light;x.referencePosition.value.setFromMatrixPosition(w.matrixWorld),x.nearDistance.value=w.shadow.camera.near,x.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function i$(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(w,S){const E=S.program;i.uniformBlockBinding(w,E)}function u(w,S){let E=r[w.id];E===void 0&&(v(w),E=f(w),r[w.id]=E,w.addEventListener("dispose",x));const b=S.program;i.updateUBOMapping(w,b);const P=e.render.frame;s[w.id]!==P&&(p(w),s[w.id]=P)}function f(w){const S=d();w.__bindingPointIndex=S;const E=n.createBuffer(),b=w.__size,P=w.usage;return n.bindBuffer(n.UNIFORM_BUFFER,E),n.bufferData(n.UNIFORM_BUFFER,b,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,E),E}function d(){for(let w=0;w<a;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(w){const S=r[w.id],E=w.uniforms,b=w.__cache;n.bindBuffer(n.UNIFORM_BUFFER,S);for(let P=0,R=E.length;P<R;P++){const I=E[P];if(m(I,P,b)===!0){const C=I.__offset,L=Array.isArray(I.value)?I.value:[I.value];let B=0;for(let W=0;W<L.length;W++){const ie=L[W],z=_(ie);typeof ie=="number"?(I.__data[0]=ie,n.bufferSubData(n.UNIFORM_BUFFER,C+B,I.__data)):ie.isMatrix3?(I.__data[0]=ie.elements[0],I.__data[1]=ie.elements[1],I.__data[2]=ie.elements[2],I.__data[3]=ie.elements[0],I.__data[4]=ie.elements[3],I.__data[5]=ie.elements[4],I.__data[6]=ie.elements[5],I.__data[7]=ie.elements[0],I.__data[8]=ie.elements[6],I.__data[9]=ie.elements[7],I.__data[10]=ie.elements[8],I.__data[11]=ie.elements[0]):(ie.toArray(I.__data,B),B+=z.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,C,I.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(w,S,E){const b=w.value;if(E[S]===void 0){if(typeof b=="number")E[S]=b;else{const P=Array.isArray(b)?b:[b],R=[];for(let I=0;I<P.length;I++)R.push(P[I].clone());E[S]=R}return!0}else if(typeof b=="number"){if(E[S]!==b)return E[S]=b,!0}else{const P=Array.isArray(E[S])?E[S]:[E[S]],R=Array.isArray(b)?b:[b];for(let I=0;I<P.length;I++){const C=P[I];if(C.equals(R[I])===!1)return C.copy(R[I]),!0}}return!1}function v(w){const S=w.uniforms;let E=0;const b=16;let P=0;for(let R=0,I=S.length;R<I;R++){const C=S[R],L={boundary:0,storage:0},B=Array.isArray(C.value)?C.value:[C.value];for(let W=0,ie=B.length;W<ie;W++){const z=B[W],ne=_(z);L.boundary+=ne.boundary,L.storage+=ne.storage}if(C.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),C.__offset=E,R>0){P=E%b;const W=b-P;P!==0&&W-L.boundary<0&&(E+=b-P,C.__offset=E)}E+=L.storage}return P=E%b,P>0&&(E+=b-P),w.__size=E,w.__cache={},this}function _(w){const S={boundary:0,storage:0};return typeof w=="number"?(S.boundary=4,S.storage=4):w.isVector2?(S.boundary=8,S.storage=8):w.isVector3||w.isColor?(S.boundary=16,S.storage=12):w.isVector4?(S.boundary=16,S.storage=16):w.isMatrix3?(S.boundary=48,S.storage=48):w.isMatrix4?(S.boundary=64,S.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),S}function x(w){const S=w.target;S.removeEventListener("dispose",x);const E=o.indexOf(S.__bindingPointIndex);o.splice(E,1),n.deleteBuffer(r[S.id]),delete r[S.id],delete s[S.id]}function g(){for(const w in r)n.deleteBuffer(r[w]);o=[],r={},s={}}return{bind:l,update:u,dispose:g}}class T_{constructor(e={}){const{canvas:t=YU(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let p;i!==null?p=i.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),v=new Int32Array(4);let _=null,x=null;const g=[],w=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=gi,this._useLegacyLights=!1,this.toneMapping=Vo,this.toneMappingExposure=1;const S=this;let E=!1,b=0,P=0,R=null,I=-1,C=null;const L=new gn,B=new gn;let W=null;const ie=new ut(0);let z=0,ne=t.width,ee=t.height,re=1,X=null,Q=null;const k=new gn(0,0,ne,ee),G=new gn(0,0,ne,ee);let te=!1;const me=new M_;let xe=!1,Ce=!1,Ee=null;const De=new zt,We=new Pe,_t=new j,Nt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Be(){return R===null?re:1}let J=i;function _e(A,U){for(let V=0;V<A.length;V++){const H=A[V],Y=t.getContext(H,U);if(Y!==null)return Y}return null}try{const A={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:f,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Rm}`),t.addEventListener("webglcontextlost",fe,!1),t.addEventListener("webglcontextrestored",Le,!1),t.addEventListener("webglcontextcreationerror",Xe,!1),J===null){const U=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&U.shift(),J=_e(U,A),J===null)throw _e(U)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&J instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),J.getShaderPrecisionFormat===void 0&&(J.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(A){throw console.error("THREE.WebGLRenderer: "+A.message),A}let ge,Re,Te,se,He,Qe,vt,mt,Jt,q,F,ue,Ne,Me,Ie,Ke,ke,Ye,it,Dt,Ae,Ht,xt,rt;function Je(){ge=new _q(J),Re=new dq(J,ge,e),ge.init(Re),Ht=new rF(J,ge,Re),Te=new JZ(J,ge,Re),se=new Sq(J),He=new BZ,Qe=new QZ(J,ge,Te,He,Re,Ht,se),vt=new mq(S),mt=new yq(S),Jt=new L7(J,Re),xt=new fq(J,ge,Jt,Re),q=new xq(J,Jt,se,xt),F=new Aq(J,q,Jt,se),it=new Tq(J,Re,Qe),Ke=new pq(He),ue=new zZ(S,vt,mt,ge,Re,xt,Ke),Ne=new n$(S,He),Me=new HZ,Ie=new qZ(ge,Re),Ye=new cq(S,vt,mt,Te,F,p,l),ke=new KZ(S,F,Re),rt=new i$(J,se,Re,Te),Dt=new hq(J,ge,se,Re),Ae=new wq(J,ge,se,Re),se.programs=ue.programs,S.capabilities=Re,S.extensions=ge,S.properties=He,S.renderLists=Me,S.shadowMap=ke,S.state=Te,S.info=se}Je();const Z=new t$(S,J);this.xr=Z,this.getContext=function(){return J},this.getContextAttributes=function(){return J.getContextAttributes()},this.forceContextLoss=function(){const A=ge.get("WEBGL_lose_context");A&&A.loseContext()},this.forceContextRestore=function(){const A=ge.get("WEBGL_lose_context");A&&A.restoreContext()},this.getPixelRatio=function(){return re},this.setPixelRatio=function(A){A!==void 0&&(re=A,this.setSize(ne,ee,!1))},this.getSize=function(A){return A.set(ne,ee)},this.setSize=function(A,U,V=!0){if(Z.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ne=A,ee=U,t.width=Math.floor(A*re),t.height=Math.floor(U*re),V===!0&&(t.style.width=A+"px",t.style.height=U+"px"),this.setViewport(0,0,A,U)},this.getDrawingBufferSize=function(A){return A.set(ne*re,ee*re).floor()},this.setDrawingBufferSize=function(A,U,V){ne=A,ee=U,re=V,t.width=Math.floor(A*V),t.height=Math.floor(U*V),this.setViewport(0,0,A,U)},this.getCurrentViewport=function(A){return A.copy(L)},this.getViewport=function(A){return A.copy(k)},this.setViewport=function(A,U,V,H){A.isVector4?k.set(A.x,A.y,A.z,A.w):k.set(A,U,V,H),Te.viewport(L.copy(k).multiplyScalar(re).floor())},this.getScissor=function(A){return A.copy(G)},this.setScissor=function(A,U,V,H){A.isVector4?G.set(A.x,A.y,A.z,A.w):G.set(A,U,V,H),Te.scissor(B.copy(G).multiplyScalar(re).floor())},this.getScissorTest=function(){return te},this.setScissorTest=function(A){Te.setScissorTest(te=A)},this.setOpaqueSort=function(A){X=A},this.setTransparentSort=function(A){Q=A},this.getClearColor=function(A){return A.copy(Ye.getClearColor())},this.setClearColor=function(){Ye.setClearColor.apply(Ye,arguments)},this.getClearAlpha=function(){return Ye.getClearAlpha()},this.setClearAlpha=function(){Ye.setClearAlpha.apply(Ye,arguments)},this.clear=function(A=!0,U=!0,V=!0){let H=0;if(A){let Y=!1;if(R!==null){const le=R.texture.format;Y=le===pA||le===dA||le===hA}if(Y){const le=R.texture.type,ce=le===ps||le===No||le===y_||le===Cl||le===uA||le===cA,pe=Ye.getClearColor(),ve=Ye.getClearAlpha(),Se=pe.r,de=pe.g,Fe=pe.b;ce?(m[0]=Se,m[1]=de,m[2]=Fe,m[3]=ve,J.clearBufferuiv(J.COLOR,0,m)):(v[0]=Se,v[1]=de,v[2]=Fe,v[3]=ve,J.clearBufferiv(J.COLOR,0,v))}else H|=J.COLOR_BUFFER_BIT}U&&(H|=J.DEPTH_BUFFER_BIT),V&&(H|=J.STENCIL_BUFFER_BIT),J.clear(H)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",fe,!1),t.removeEventListener("webglcontextrestored",Le,!1),t.removeEventListener("webglcontextcreationerror",Xe,!1),Me.dispose(),Ie.dispose(),He.dispose(),vt.dispose(),mt.dispose(),F.dispose(),xt.dispose(),rt.dispose(),ue.dispose(),Z.dispose(),Z.removeEventListener("sessionstart",tt),Z.removeEventListener("sessionend",ct),Ee&&(Ee.dispose(),Ee=null),Pt.stop()};function fe(A){A.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function Le(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const A=se.autoReset,U=ke.enabled,V=ke.autoUpdate,H=ke.needsUpdate,Y=ke.type;Je(),se.autoReset=A,ke.enabled=U,ke.autoUpdate=V,ke.needsUpdate=H,ke.type=Y}function Xe(A){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",A.statusMessage)}function Ve(A){const U=A.target;U.removeEventListener("dispose",Ve),be(U)}function be(A){ot(A),He.remove(A)}function ot(A){const U=He.get(A).programs;U!==void 0&&(U.forEach(function(V){ue.releaseProgram(V)}),A.isShaderMaterial&&ue.releaseShaderCache(A))}this.renderBufferDirect=function(A,U,V,H,Y,le){U===null&&(U=Nt);const ce=Y.isMesh&&Y.matrixWorld.determinant()<0,pe=Bn(A,U,V,H,Y);Te.setMaterial(H,ce);let ve=V.index,Se=1;if(H.wireframe===!0){if(ve=q.getWireframeAttribute(V),ve===void 0)return;Se=2}const de=V.drawRange,Fe=V.attributes.position;let Oe=de.start*Se,Ge=(de.start+de.count)*Se;le!==null&&(Oe=Math.max(Oe,le.start*Se),Ge=Math.min(Ge,(le.start+le.count)*Se)),ve!==null?(Oe=Math.max(Oe,0),Ge=Math.min(Ge,ve.count)):Fe!=null&&(Oe=Math.max(Oe,0),Ge=Math.min(Ge,Fe.count));const yt=Ge-Oe;if(yt<0||yt===1/0)return;xt.setup(Y,H,pe,V,ve);let wt,at=Dt;if(ve!==null&&(wt=Jt.get(ve),at=Ae,at.setIndex(wt)),Y.isMesh)H.wireframe===!0?(Te.setLineWidth(H.wireframeLinewidth*Be()),at.setMode(J.LINES)):at.setMode(J.TRIANGLES);else if(Y.isLine){let Ze=H.linewidth;Ze===void 0&&(Ze=1),Te.setLineWidth(Ze*Be()),Y.isLineSegments?at.setMode(J.LINES):Y.isLineLoop?at.setMode(J.LINE_LOOP):at.setMode(J.LINE_STRIP)}else Y.isPoints?at.setMode(J.POINTS):Y.isSprite&&at.setMode(J.TRIANGLES);if(Y.isInstancedMesh)at.renderInstances(Oe,yt,Y.count);else if(V.isInstancedBufferGeometry){const Ze=V._maxInstanceCount!==void 0?V._maxInstanceCount:1/0,At=Math.min(V.instanceCount,Ze);at.renderInstances(Oe,yt,At)}else at.render(Oe,yt)},this.compile=function(A,U){function V(H,Y,le){H.transparent===!0&&H.side===uo&&H.forceSinglePass===!1?(H.side=Ar,H.needsUpdate=!0,bt(H,Y,le),H.side=Pa,H.needsUpdate=!0,bt(H,Y,le),H.side=uo):bt(H,Y,le)}x=Ie.get(A),x.init(),w.push(x),A.traverseVisible(function(H){H.isLight&&H.layers.test(U.layers)&&(x.pushLight(H),H.castShadow&&x.pushShadow(H))}),x.setupLights(S._useLegacyLights),A.traverse(function(H){const Y=H.material;if(Y)if(Array.isArray(Y))for(let le=0;le<Y.length;le++){const ce=Y[le];V(ce,A,H)}else V(Y,A,H)}),w.pop(),x=null};let Et=null;function Tn(A){Et&&Et(A)}function tt(){Pt.stop()}function ct(){Pt.start()}const Pt=new QU;Pt.setAnimationLoop(Tn),typeof self<"u"&&Pt.setContext(self),this.setAnimationLoop=function(A){Et=A,Z.setAnimationLoop(A),A===null?Pt.stop():Pt.start()},Z.addEventListener("sessionstart",tt),Z.addEventListener("sessionend",ct),this.render=function(A,U){if(U!==void 0&&U.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;A.matrixWorldAutoUpdate===!0&&A.updateMatrixWorld(),U.parent===null&&U.matrixWorldAutoUpdate===!0&&U.updateMatrixWorld(),Z.enabled===!0&&Z.isPresenting===!0&&(Z.cameraAutoUpdate===!0&&Z.updateCamera(U),U=Z.getCamera()),A.isScene===!0&&A.onBeforeRender(S,A,U,R),x=Ie.get(A,w.length),x.init(),w.push(x),De.multiplyMatrices(U.projectionMatrix,U.matrixWorldInverse),me.setFromProjectionMatrix(De),Ce=this.localClippingEnabled,xe=Ke.init(this.clippingPlanes,Ce),_=Me.get(A,g.length),_.init(),g.push(_),qe(A,U,0,S.sortObjects),_.finish(),S.sortObjects===!0&&_.sort(X,Q),this.info.render.frame++,xe===!0&&Ke.beginShadows();const V=x.state.shadowsArray;if(ke.render(V,A,U),xe===!0&&Ke.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ye.render(_,A),x.setupLights(S._useLegacyLights),U.isArrayCamera){const H=U.cameras;for(let Y=0,le=H.length;Y<le;Y++){const ce=H[Y];Rt(_,A,ce,ce.viewport)}}else Rt(_,A,U);R!==null&&(Qe.updateMultisampleRenderTarget(R),Qe.updateRenderTargetMipmap(R)),A.isScene===!0&&A.onAfterRender(S,A,U),xt.resetDefaultState(),I=-1,C=null,w.pop(),w.length>0?x=w[w.length-1]:x=null,g.pop(),g.length>0?_=g[g.length-1]:_=null};function qe(A,U,V,H){if(A.visible===!1)return;if(A.layers.test(U.layers)){if(A.isGroup)V=A.renderOrder;else if(A.isLOD)A.autoUpdate===!0&&A.update(U);else if(A.isLight)x.pushLight(A),A.castShadow&&x.pushShadow(A);else if(A.isSprite){if(!A.frustumCulled||me.intersectsSprite(A)){H&&_t.setFromMatrixPosition(A.matrixWorld).applyMatrix4(De);const ce=F.update(A),pe=A.material;pe.visible&&_.push(A,ce,pe,V,_t.z,null)}}else if((A.isMesh||A.isLine||A.isPoints)&&(!A.frustumCulled||me.intersectsObject(A))){const ce=F.update(A),pe=A.material;if(H&&(A.boundingSphere!==void 0?(A.boundingSphere===null&&A.computeBoundingSphere(),_t.copy(A.boundingSphere.center)):(ce.boundingSphere===null&&ce.computeBoundingSphere(),_t.copy(ce.boundingSphere.center)),_t.applyMatrix4(A.matrixWorld).applyMatrix4(De)),Array.isArray(pe)){const ve=ce.groups;for(let Se=0,de=ve.length;Se<de;Se++){const Fe=ve[Se],Oe=pe[Fe.materialIndex];Oe&&Oe.visible&&_.push(A,ce,Oe,V,_t.z,Fe)}}else pe.visible&&_.push(A,ce,pe,V,_t.z,null)}}const le=A.children;for(let ce=0,pe=le.length;ce<pe;ce++)qe(le[ce],U,V,H)}function Rt(A,U,V,H){const Y=A.opaque,le=A.transmissive,ce=A.transparent;x.setupLightsView(V),xe===!0&&Ke.setGlobalState(S.clippingPlanes,V),le.length>0&&dt(Y,le,U,V),H&&Te.viewport(L.copy(H)),Y.length>0&&Tt(Y,U,V),le.length>0&&Tt(le,U,V),ce.length>0&&Tt(ce,U,V),Te.buffers.depth.setTest(!0),Te.buffers.depth.setMask(!0),Te.buffers.color.setMask(!0),Te.setPolygonOffset(!1)}function dt(A,U,V,H){const Y=Re.isWebGL2;Ee===null&&(Ee=new Ss(1,1,{generateMipmaps:!0,type:ge.has("EXT_color_buffer_half_float")?zi:ps,minFilter:Bl,samples:Y?4:0})),S.getDrawingBufferSize(We),Y?Ee.setSize(We.x,We.y):Ee.setSize(ky(We.x),ky(We.y));const le=S.getRenderTarget();S.setRenderTarget(Ee),S.getClearColor(ie),z=S.getClearAlpha(),z<1&&S.setClearColor(16777215,.5),S.clear();const ce=S.toneMapping;S.toneMapping=Vo,Tt(A,V,H),Qe.updateMultisampleRenderTarget(Ee),Qe.updateRenderTargetMipmap(Ee);let pe=!1;for(let ve=0,Se=U.length;ve<Se;ve++){const de=U[ve],Fe=de.object,Oe=de.geometry,Ge=de.material,yt=de.group;if(Ge.side===uo&&Fe.layers.test(H.layers)){const wt=Ge.side;Ge.side=Ar,Ge.needsUpdate=!0,pn(Fe,V,H,Oe,Ge,yt),Ge.side=wt,Ge.needsUpdate=!0,pe=!0}}pe===!0&&(Qe.updateMultisampleRenderTarget(Ee),Qe.updateRenderTargetMipmap(Ee)),S.setRenderTarget(le),S.setClearColor(ie,z),S.toneMapping=ce}function Tt(A,U,V){const H=U.isScene===!0?U.overrideMaterial:null;for(let Y=0,le=A.length;Y<le;Y++){const ce=A[Y],pe=ce.object,ve=ce.geometry,Se=H===null?ce.material:H,de=ce.group;pe.layers.test(V.layers)&&pn(pe,U,V,ve,Se,de)}}function pn(A,U,V,H,Y,le){A.onBeforeRender(S,U,V,H,Y,le),A.modelViewMatrix.multiplyMatrices(V.matrixWorldInverse,A.matrixWorld),A.normalMatrix.getNormalMatrix(A.modelViewMatrix),Y.onBeforeRender(S,U,V,H,A,le),Y.transparent===!0&&Y.side===uo&&Y.forceSinglePass===!1?(Y.side=Ar,Y.needsUpdate=!0,S.renderBufferDirect(V,U,H,Y,A,le),Y.side=Pa,Y.needsUpdate=!0,S.renderBufferDirect(V,U,H,Y,A,le),Y.side=uo):S.renderBufferDirect(V,U,H,Y,A,le),A.onAfterRender(S,U,V,H,Y,le)}function bt(A,U,V){U.isScene!==!0&&(U=Nt);const H=He.get(A),Y=x.state.lights,le=x.state.shadowsArray,ce=Y.state.version,pe=ue.getParameters(A,Y.state,le,U,V),ve=ue.getProgramCacheKey(pe);let Se=H.programs;H.environment=A.isMeshStandardMaterial?U.environment:null,H.fog=U.fog,H.envMap=(A.isMeshStandardMaterial?mt:vt).get(A.envMap||H.environment),Se===void 0&&(A.addEventListener("dispose",Ve),Se=new Map,H.programs=Se);let de=Se.get(ve);if(de!==void 0){if(H.currentProgram===de&&H.lightsStateVersion===ce)return pt(A,pe),de}else pe.uniforms=ue.getUniforms(A),A.onBuild(V,pe,S),A.onBeforeCompile(pe,S),de=ue.acquireProgram(pe,ve),Se.set(ve,de),H.uniforms=pe.uniforms;const Fe=H.uniforms;(!A.isShaderMaterial&&!A.isRawShaderMaterial||A.clipping===!0)&&(Fe.clippingPlanes=Ke.uniform),pt(A,pe),H.needsLights=D(A),H.lightsStateVersion=ce,H.needsLights&&(Fe.ambientLightColor.value=Y.state.ambient,Fe.lightProbe.value=Y.state.probe,Fe.directionalLights.value=Y.state.directional,Fe.directionalLightShadows.value=Y.state.directionalShadow,Fe.spotLights.value=Y.state.spot,Fe.spotLightShadows.value=Y.state.spotShadow,Fe.rectAreaLights.value=Y.state.rectArea,Fe.ltc_1.value=Y.state.rectAreaLTC1,Fe.ltc_2.value=Y.state.rectAreaLTC2,Fe.pointLights.value=Y.state.point,Fe.pointLightShadows.value=Y.state.pointShadow,Fe.hemisphereLights.value=Y.state.hemi,Fe.directionalShadowMap.value=Y.state.directionalShadowMap,Fe.directionalShadowMatrix.value=Y.state.directionalShadowMatrix,Fe.spotShadowMap.value=Y.state.spotShadowMap,Fe.spotLightMatrix.value=Y.state.spotLightMatrix,Fe.spotLightMap.value=Y.state.spotLightMap,Fe.pointShadowMap.value=Y.state.pointShadowMap,Fe.pointShadowMatrix.value=Y.state.pointShadowMatrix);const Oe=de.getUniforms(),Ge=Fv.seqWithValue(Oe.seq,Fe);return H.currentProgram=de,H.uniformsList=Ge,de}function pt(A,U){const V=He.get(A);V.outputColorSpace=U.outputColorSpace,V.instancing=U.instancing,V.instancingColor=U.instancingColor,V.skinning=U.skinning,V.morphTargets=U.morphTargets,V.morphNormals=U.morphNormals,V.morphColors=U.morphColors,V.morphTargetsCount=U.morphTargetsCount,V.numClippingPlanes=U.numClippingPlanes,V.numIntersection=U.numClipIntersection,V.vertexAlphas=U.vertexAlphas,V.vertexTangents=U.vertexTangents,V.toneMapping=U.toneMapping}function Bn(A,U,V,H,Y){U.isScene!==!0&&(U=Nt),Qe.resetTextureUnits();const le=U.fog,ce=H.isMeshStandardMaterial?U.environment:null,pe=R===null?S.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:ws,ve=(H.isMeshStandardMaterial?mt:vt).get(H.envMap||ce),Se=H.vertexColors===!0&&!!V.attributes.color&&V.attributes.color.itemSize===4,de=!!V.attributes.tangent&&(!!H.normalMap||H.anisotropy>0),Fe=!!V.morphAttributes.position,Oe=!!V.morphAttributes.normal,Ge=!!V.morphAttributes.color;let yt=Vo;H.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(yt=S.toneMapping);const wt=V.morphAttributes.position||V.morphAttributes.normal||V.morphAttributes.color,at=wt!==void 0?wt.length:0,Ze=He.get(H),At=x.state.lights;if(xe===!0&&(Ce===!0||A!==C)){const kt=A===C&&H.id===I;Ke.setState(H,A,kt)}let st=!1;H.version===Ze.__version?(Ze.needsLights&&Ze.lightsStateVersion!==At.state.version||Ze.outputColorSpace!==pe||Y.isInstancedMesh&&Ze.instancing===!1||!Y.isInstancedMesh&&Ze.instancing===!0||Y.isSkinnedMesh&&Ze.skinning===!1||!Y.isSkinnedMesh&&Ze.skinning===!0||Y.isInstancedMesh&&Ze.instancingColor===!0&&Y.instanceColor===null||Y.isInstancedMesh&&Ze.instancingColor===!1&&Y.instanceColor!==null||Ze.envMap!==ve||H.fog===!0&&Ze.fog!==le||Ze.numClippingPlanes!==void 0&&(Ze.numClippingPlanes!==Ke.numPlanes||Ze.numIntersection!==Ke.numIntersection)||Ze.vertexAlphas!==Se||Ze.vertexTangents!==de||Ze.morphTargets!==Fe||Ze.morphNormals!==Oe||Ze.morphColors!==Ge||Ze.toneMapping!==yt||Re.isWebGL2===!0&&Ze.morphTargetsCount!==at)&&(st=!0):(st=!0,Ze.__version=H.version);let Ot=Ze.currentProgram;st===!0&&(Ot=bt(H,U,Y));let fn=!1,Lt=!1,hn=!1;const rn=Ot.getUniforms(),_n=Ze.uniforms;if(Te.useProgram(Ot.program)&&(fn=!0,Lt=!0,hn=!0),H.id!==I&&(I=H.id,Lt=!0),fn||C!==A){rn.setValue(J,"projectionMatrix",A.projectionMatrix),rn.setValue(J,"viewMatrix",A.matrixWorldInverse);const kt=rn.map.cameraPosition;kt!==void 0&&kt.setValue(J,_t.setFromMatrixPosition(A.matrixWorld)),Re.logarithmicDepthBuffer&&rn.setValue(J,"logDepthBufFC",2/(Math.log(A.far+1)/Math.LN2)),(H.isMeshPhongMaterial||H.isMeshToonMaterial||H.isMeshLambertMaterial||H.isMeshBasicMaterial||H.isMeshStandardMaterial||H.isShaderMaterial)&&rn.setValue(J,"isOrthographic",A.isOrthographicCamera===!0),C!==A&&(C=A,Lt=!0,hn=!0)}if(Y.isSkinnedMesh){rn.setOptional(J,Y,"bindMatrix"),rn.setOptional(J,Y,"bindMatrixInverse");const kt=Y.skeleton;kt&&(Re.floatVertexTextures?(kt.boneTexture===null&&kt.computeBoneTexture(),rn.setValue(J,"boneTexture",kt.boneTexture,Qe),rn.setValue(J,"boneTextureSize",kt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const ni=V.morphAttributes;if((ni.position!==void 0||ni.normal!==void 0||ni.color!==void 0&&Re.isWebGL2===!0)&&it.update(Y,V,Ot),(Lt||Ze.receiveShadow!==Y.receiveShadow)&&(Ze.receiveShadow=Y.receiveShadow,rn.setValue(J,"receiveShadow",Y.receiveShadow)),H.isMeshGouraudMaterial&&H.envMap!==null&&(_n.envMap.value=ve,_n.flipEnvMap.value=ve.isCubeTexture&&ve.isRenderTargetTexture===!1?-1:1),Lt&&(rn.setValue(J,"toneMappingExposure",S.toneMappingExposure),Ze.needsLights&&yn(_n,hn),le&&H.fog===!0&&Ne.refreshFogUniforms(_n,le),Ne.refreshMaterialUniforms(_n,H,re,ee,Ee),Fv.upload(J,Ze.uniformsList,_n,Qe)),H.isShaderMaterial&&H.uniformsNeedUpdate===!0&&(Fv.upload(J,Ze.uniformsList,_n,Qe),H.uniformsNeedUpdate=!1),H.isSpriteMaterial&&rn.setValue(J,"center",Y.center),rn.setValue(J,"modelViewMatrix",Y.modelViewMatrix),rn.setValue(J,"normalMatrix",Y.normalMatrix),rn.setValue(J,"modelMatrix",Y.matrixWorld),H.isShaderMaterial||H.isRawShaderMaterial){const kt=H.uniformsGroups;for(let Vn=0,un=kt.length;Vn<un;Vn++)if(Re.isWebGL2){const Qt=kt[Vn];rt.update(Qt,Ot),rt.bind(Qt,Ot)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Ot}function yn(A,U){A.ambientLightColor.needsUpdate=U,A.lightProbe.needsUpdate=U,A.directionalLights.needsUpdate=U,A.directionalLightShadows.needsUpdate=U,A.pointLights.needsUpdate=U,A.pointLightShadows.needsUpdate=U,A.spotLights.needsUpdate=U,A.spotLightShadows.needsUpdate=U,A.rectAreaLights.needsUpdate=U,A.hemisphereLights.needsUpdate=U}function D(A){return A.isMeshLambertMaterial||A.isMeshToonMaterial||A.isMeshPhongMaterial||A.isMeshStandardMaterial||A.isShadowMaterial||A.isShaderMaterial&&A.lights===!0}this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(A,U,V){He.get(A.texture).__webglTexture=U,He.get(A.depthTexture).__webglTexture=V;const H=He.get(A);H.__hasExternalTextures=!0,H.__hasExternalTextures&&(H.__autoAllocateDepthBuffer=V===void 0,H.__autoAllocateDepthBuffer||ge.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),H.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(A,U){const V=He.get(A);V.__webglFramebuffer=U,V.__useDefaultFramebuffer=U===void 0},this.setRenderTarget=function(A,U=0,V=0){R=A,b=U,P=V;let H=!0,Y=null,le=!1,ce=!1;if(A){const ve=He.get(A);ve.__useDefaultFramebuffer!==void 0?(Te.bindFramebuffer(J.FRAMEBUFFER,null),H=!1):ve.__webglFramebuffer===void 0?Qe.setupRenderTarget(A):ve.__hasExternalTextures&&Qe.rebindTextures(A,He.get(A.texture).__webglTexture,He.get(A.depthTexture).__webglTexture);const Se=A.texture;(Se.isData3DTexture||Se.isDataArrayTexture||Se.isCompressedArrayTexture)&&(ce=!0);const de=He.get(A).__webglFramebuffer;A.isWebGLCubeRenderTarget?(Array.isArray(de[U])?Y=de[U][V]:Y=de[U],le=!0):Re.isWebGL2&&A.samples>0&&Qe.useMultisampledRTT(A)===!1?Y=He.get(A).__webglMultisampledFramebuffer:Array.isArray(de)?Y=de[V]:Y=de,L.copy(A.viewport),B.copy(A.scissor),W=A.scissorTest}else L.copy(k).multiplyScalar(re).floor(),B.copy(G).multiplyScalar(re).floor(),W=te;if(Te.bindFramebuffer(J.FRAMEBUFFER,Y)&&Re.drawBuffers&&H&&Te.drawBuffers(A,Y),Te.viewport(L),Te.scissor(B),Te.setScissorTest(W),le){const ve=He.get(A.texture);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_CUBE_MAP_POSITIVE_X+U,ve.__webglTexture,V)}else if(ce){const ve=He.get(A.texture),Se=U||0;J.framebufferTextureLayer(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,ve.__webglTexture,V||0,Se)}I=-1},this.readRenderTargetPixels=function(A,U,V,H,Y,le,ce){if(!(A&&A.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let pe=He.get(A).__webglFramebuffer;if(A.isWebGLCubeRenderTarget&&ce!==void 0&&(pe=pe[ce]),pe){Te.bindFramebuffer(J.FRAMEBUFFER,pe);try{const ve=A.texture,Se=ve.format,de=ve.type;if(Se!==Ti&&Ht.convert(Se)!==J.getParameter(J.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Fe=de===zi&&(ge.has("EXT_color_buffer_half_float")||Re.isWebGL2&&ge.has("EXT_color_buffer_float"));if(de!==ps&&Ht.convert(de)!==J.getParameter(J.IMPLEMENTATION_COLOR_READ_TYPE)&&!(de===bi&&(Re.isWebGL2||ge.has("OES_texture_float")||ge.has("WEBGL_color_buffer_float")))&&!Fe){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}U>=0&&U<=A.width-H&&V>=0&&V<=A.height-Y&&J.readPixels(U,V,H,Y,Ht.convert(Se),Ht.convert(de),le)}finally{const ve=R!==null?He.get(R).__webglFramebuffer:null;Te.bindFramebuffer(J.FRAMEBUFFER,ve)}}},this.copyFramebufferToTexture=function(A,U,V=0){const H=Math.pow(2,-V),Y=Math.floor(U.image.width*H),le=Math.floor(U.image.height*H);Qe.setTexture2D(U,0),J.copyTexSubImage2D(J.TEXTURE_2D,V,0,0,A.x,A.y,Y,le),Te.unbindTexture()},this.copyTextureToTexture=function(A,U,V,H=0){const Y=U.image.width,le=U.image.height,ce=Ht.convert(V.format),pe=Ht.convert(V.type);Qe.setTexture2D(V,0),J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,V.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,V.unpackAlignment),U.isDataTexture?J.texSubImage2D(J.TEXTURE_2D,H,A.x,A.y,Y,le,ce,pe,U.image.data):U.isCompressedTexture?J.compressedTexSubImage2D(J.TEXTURE_2D,H,A.x,A.y,U.mipmaps[0].width,U.mipmaps[0].height,ce,U.mipmaps[0].data):J.texSubImage2D(J.TEXTURE_2D,H,A.x,A.y,ce,pe,U.image),H===0&&V.generateMipmaps&&J.generateMipmap(J.TEXTURE_2D),Te.unbindTexture()},this.copyTextureToTexture3D=function(A,U,V,H,Y=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const le=A.max.x-A.min.x+1,ce=A.max.y-A.min.y+1,pe=A.max.z-A.min.z+1,ve=Ht.convert(H.format),Se=Ht.convert(H.type);let de;if(H.isData3DTexture)Qe.setTexture3D(H,0),de=J.TEXTURE_3D;else if(H.isDataArrayTexture)Qe.setTexture2DArray(H,0),de=J.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,H.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,H.unpackAlignment);const Fe=J.getParameter(J.UNPACK_ROW_LENGTH),Oe=J.getParameter(J.UNPACK_IMAGE_HEIGHT),Ge=J.getParameter(J.UNPACK_SKIP_PIXELS),yt=J.getParameter(J.UNPACK_SKIP_ROWS),wt=J.getParameter(J.UNPACK_SKIP_IMAGES),at=V.isCompressedTexture?V.mipmaps[0]:V.image;J.pixelStorei(J.UNPACK_ROW_LENGTH,at.width),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,at.height),J.pixelStorei(J.UNPACK_SKIP_PIXELS,A.min.x),J.pixelStorei(J.UNPACK_SKIP_ROWS,A.min.y),J.pixelStorei(J.UNPACK_SKIP_IMAGES,A.min.z),V.isDataTexture||V.isData3DTexture?J.texSubImage3D(de,Y,U.x,U.y,U.z,le,ce,pe,ve,Se,at.data):V.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),J.compressedTexSubImage3D(de,Y,U.x,U.y,U.z,le,ce,pe,ve,at.data)):J.texSubImage3D(de,Y,U.x,U.y,U.z,le,ce,pe,ve,Se,at),J.pixelStorei(J.UNPACK_ROW_LENGTH,Fe),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,Oe),J.pixelStorei(J.UNPACK_SKIP_PIXELS,Ge),J.pixelStorei(J.UNPACK_SKIP_ROWS,yt),J.pixelStorei(J.UNPACK_SKIP_IMAGES,wt),Y===0&&H.generateMipmaps&&J.generateMipmap(de),Te.unbindTexture()},this.initTexture=function(A){A.isCubeTexture?Qe.setTextureCube(A,0):A.isData3DTexture?Qe.setTexture3D(A,0):A.isDataArrayTexture||A.isCompressedArrayTexture?Qe.setTexture2DArray(A,0):Qe.setTexture2D(A,0),Te.unbindTexture()},this.resetState=function(){b=0,P=0,R=null,Te.reset(),xt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Do}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===w_?"display-p3":"srgb",t.unpackColorSpace=mn.workingColorSpace===Lm?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===gi?Rl:gA}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Rl?gi:ws}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class aF extends T_{}aF.prototype.isWebGL1Renderer=!0;class A_{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ut(e),this.density=t}clone(){return new A_(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class b_{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new ut(e),this.near=t,this.far=i}clone(){return new b_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Om extends ln{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class C_{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=sm,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ms()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ms()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ms()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const mr=new j;class fc{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)mr.fromBufferAttribute(this,t),mr.applyMatrix4(e),this.setXYZ(t,mr.x,mr.y,mr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)mr.fromBufferAttribute(this,t),mr.applyNormalMatrix(e),this.setXYZ(t,mr.x,mr.y,mr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)mr.fromBufferAttribute(this,t),mr.transformDirection(e),this.setXYZ(t,mr.x,mr.y,mr.z);return this}setX(e,t){return this.normalized&&(t=Vt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Vt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Vt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Vt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Fr(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Fr(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Fr(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Fr(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Vt(t,this.array),i=Vt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Vt(t,this.array),i=Vt(i,this.array),r=Vt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Vt(t,this.array),i=Vt(i,this.array),r=Vt(r,this.array),s=Vt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new En(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new fc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class AA extends cr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ut(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let af;const gd=new j,lf=new j,uf=new j,cf=new Pe,vd=new Pe,lF=new zt,U0=new j,yd=new j,F0=new j,TI=new Pe,_w=new Pe,AI=new Pe;class uF extends ln{constructor(e=new AA){if(super(),this.isSprite=!0,this.type="Sprite",af===void 0){af=new qt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new C_(t,5);af.setIndex([0,1,2,0,2,3]),af.setAttribute("position",new fc(i,3,0,!1)),af.setAttribute("uv",new fc(i,2,3,!1))}this.geometry=af,this.material=e,this.center=new Pe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),lf.setFromMatrixScale(this.matrixWorld),lF.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),uf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&lf.multiplyScalar(-uf.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;z0(U0.set(-.5,-.5,0),uf,o,lf,r,s),z0(yd.set(.5,-.5,0),uf,o,lf,r,s),z0(F0.set(.5,.5,0),uf,o,lf,r,s),TI.set(0,0),_w.set(1,0),AI.set(1,1);let a=e.ray.intersectTriangle(U0,yd,F0,!1,gd);if(a===null&&(z0(yd.set(-.5,.5,0),uf,o,lf,r,s),_w.set(0,1),a=e.ray.intersectTriangle(U0,F0,yd,!1,gd),a===null))return;const l=e.ray.origin.distanceTo(gd);l<e.near||l>e.far||t.push({distance:l,point:gd.clone(),uv:Ur.getInterpolation(gd,U0,yd,F0,TI,_w,AI,new Pe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function z0(n,e,t,i,r,s){cf.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(vd.x=s*cf.x-r*cf.y,vd.y=r*cf.x+s*cf.y):vd.copy(cf),n.copy(e),n.x+=vd.x,n.y+=vd.y,n.applyMatrix4(lF)}const B0=new j,bI=new j;class cF extends ln{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){B0.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(B0);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){B0.setFromMatrixPosition(e.matrixWorld),bI.setFromMatrixPosition(this.matrixWorld);const i=B0.distanceTo(bI)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const CI=new j,PI=new gn,RI=new gn,r$=new j,II=new zt,ff=new j,xw=new po,LI=new zt,ww=new Ph;class fF extends yi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new zt,this.bindMatrixInverse=new zt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new jo),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)ff.fromBufferAttribute(t,i),this.applyBoneTransform(i,ff),this.boundingBox.expandByPoint(ff)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new po),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)ff.fromBufferAttribute(t,i),this.applyBoneTransform(i,ff),this.boundingSphere.expandByPoint(ff)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),xw.copy(this.boundingSphere),xw.applyMatrix4(r),e.ray.intersectsSphere(xw)!==!1&&(LI.copy(r).invert(),ww.copy(e.ray).applyMatrix4(LI),!(this.boundingBox!==null&&ww.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,ww)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new gn,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;PI.fromBufferAttribute(r.attributes.skinIndex,e),RI.fromBufferAttribute(r.attributes.skinWeight,e),CI.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=RI.getComponent(s);if(o!==0){const a=PI.getComponent(s);II.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(r$.copy(CI).applyMatrix4(II),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class bA extends ln{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Qu extends Mn{constructor(e=null,t=1,i=1,r,s,o,a,l,u=oi,f=oi,d,p){super(null,o,a,l,u,f,r,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const NI=new zt,s$=new zt;class P_{constructor(e=[],t=[]){this.uuid=ms(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new zt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new zt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:s$;NI.multiplyMatrices(a,t[s]),NI.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new P_(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=jU(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Qu(t,e,e,Ti,bi);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new bA),this.bones.push(o),this.boneInverses.push(new zt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class wh extends En{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const hf=new zt,DI=new zt,V0=[],kI=new jo,o$=new zt,_d=new yi,xd=new po;class hF extends yi{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new wh(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,o$)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new jo),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,hf),kI.copy(e.boundingBox).applyMatrix4(hf),this.boundingBox.union(kI)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new po),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,hf),xd.copy(e.boundingSphere).applyMatrix4(hf),this.boundingSphere.union(xd)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(_d.geometry=this.geometry,_d.material=this.material,_d.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),xd.copy(this.boundingSphere),xd.applyMatrix4(i),e.ray.intersectsSphere(xd)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,hf),DI.multiplyMatrices(i,hf),_d.matrixWorld=DI,_d.raycast(e,V0);for(let o=0,a=V0.length;o<a;o++){const l=V0[o];l.instanceId=s,l.object=this,t.push(l)}V0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new wh(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Pr extends cr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ut(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const OI=new j,UI=new j,FI=new zt,Sw=new Ph,H0=new po;class Vl extends ln{constructor(e=new qt,t=new Pr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)OI.fromBufferAttribute(t,r-1),UI.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=OI.distanceTo(UI);e.setAttribute("lineDistance",new gt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),H0.copy(i.boundingSphere),H0.applyMatrix4(r),H0.radius+=s,e.ray.intersectsSphere(H0)===!1)return;FI.copy(r).invert(),Sw.copy(e.ray).applyMatrix4(FI);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new j,f=new j,d=new j,p=new j,m=this.isLineSegments?2:1,v=i.index,x=i.attributes.position;if(v!==null){const g=Math.max(0,o.start),w=Math.min(v.count,o.start+o.count);for(let S=g,E=w-1;S<E;S+=m){const b=v.getX(S),P=v.getX(S+1);if(u.fromBufferAttribute(x,b),f.fromBufferAttribute(x,P),Sw.distanceSqToSegment(u,f,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const I=e.ray.origin.distanceTo(p);I<e.near||I>e.far||t.push({distance:I,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),w=Math.min(x.count,o.start+o.count);for(let S=g,E=w-1;S<E;S+=m){if(u.fromBufferAttribute(x,S),f.fromBufferAttribute(x,S+1),Sw.distanceSqToSegment(u,f,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const zI=new j,BI=new j;class Xo extends Vl{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)zI.fromBufferAttribute(t,r),BI.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+zI.distanceTo(BI);e.setAttribute("lineDistance",new gt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class dF extends Vl{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class CA extends cr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ut(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const VI=new zt,iE=new Ph,G0=new po,W0=new j;class pF extends ln{constructor(e=new qt,t=new CA){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),G0.copy(i.boundingSphere),G0.applyMatrix4(r),G0.radius+=s,e.ray.intersectsSphere(G0)===!1)return;VI.copy(r).invert(),iE.copy(e.ray).applyMatrix4(VI);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=i.index,d=i.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let v=p,_=m;v<_;v++){const x=u.getX(v);W0.fromBufferAttribute(d,x),HI(W0,x,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let v=p,_=m;v<_;v++)W0.fromBufferAttribute(d,v),HI(W0,v,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function HI(n,e,t,i,r,s,o){const a=iE.distanceSqToPoint(n);if(a<t){const l=new j;iE.closestPointToPoint(n,l),l.applyMatrix4(i);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class a$ extends Mn{constructor(e,t,i,r,s,o,a,l,u){super(e,t,i,r,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:cn,this.magFilter=s!==void 0?s:cn,this.generateMipmaps=!1;const f=this;function d(){f.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class l$ extends Mn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=oi,this.minFilter=oi,this.generateMipmaps=!1,this.needsUpdate=!0}}class R_ extends Mn{constructor(e,t,i,r,s,o,a,l,u,f,d,p){super(null,o,a,l,u,f,r,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class u$ extends R_{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=zn}}class c$ extends R_{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Wo),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class f$ extends Mn{constructor(e,t,i,r,s,o,a,l,u){super(e,t,i,r,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class mo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,u;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),u=i[r]-o,u<0)a=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const f=i[r],p=i[r+1]-f,m=(o-f)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new Pe:new j);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new j,r=[],s=[],o=[],a=new j,l=new zt;for(let m=0;m<=e;m++){const v=m/e;r[m]=this.getTangentAt(v,new j)}s[0]=new j,o[0]=new j;let u=Number.MAX_VALUE;const f=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);f<=u&&(u=f,i.set(1,0,0)),d<=u&&(u=d,i.set(0,1,0)),p<=u&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Qn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(Qn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],m*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class I_ extends mo{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new Pe,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*f-m*d+this.aX,u=p*d+m*f+this.aY}return i.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class mF extends I_{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function PA(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){r(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,f,d){let p=(o-s)/u-(a-s)/(u+f)+(a-o)/f,m=(a-o)/f-(l-o)/(f+d)+(l-a)/d;p*=f,m*=f,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const j0=new j,Mw=new PA,Ew=new PA,Tw=new PA;class gF extends mo{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new j){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,f;this.closed||a>0?u=r[(a-1)%s]:(j0.subVectors(r[0],r[1]).add(r[0]),u=j0);const d=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?f=r[(a+2)%s]:(j0.subVectors(r[s-1],r[s-2]).add(r[s-1]),f=j0),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(d),m),_=Math.pow(d.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(f),m);_<1e-4&&(_=1),v<1e-4&&(v=_),x<1e-4&&(x=_),Mw.initNonuniformCatmullRom(u.x,d.x,p.x,f.x,v,_,x),Ew.initNonuniformCatmullRom(u.y,d.y,p.y,f.y,v,_,x),Tw.initNonuniformCatmullRom(u.z,d.z,p.z,f.z,v,_,x)}else this.curveType==="catmullrom"&&(Mw.initCatmullRom(u.x,d.x,p.x,f.x,this.tension),Ew.initCatmullRom(u.y,d.y,p.y,f.y,this.tension),Tw.initCatmullRom(u.z,d.z,p.z,f.z,this.tension));return i.set(Mw.calc(l),Ew.calc(l),Tw.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new j().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function GI(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function h$(n,e){const t=1-n;return t*t*e}function d$(n,e){return 2*(1-n)*n*e}function p$(n,e){return n*n*e}function mp(n,e,t,i){return h$(n,e)+d$(n,t)+p$(n,i)}function m$(n,e){const t=1-n;return t*t*t*e}function g$(n,e){const t=1-n;return 3*t*t*n*e}function v$(n,e){return 3*(1-n)*n*n*e}function y$(n,e){return n*n*n*e}function gp(n,e,t,i,r){return m$(n,e)+g$(n,t)+v$(n,i)+y$(n,r)}class RA extends mo{constructor(e=new Pe,t=new Pe,i=new Pe,r=new Pe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Pe){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(gp(e,r.x,s.x,o.x,a.x),gp(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class vF extends mo{constructor(e=new j,t=new j,i=new j,r=new j){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new j){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(gp(e,r.x,s.x,o.x,a.x),gp(e,r.y,s.y,o.y,a.y),gp(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class IA extends mo{constructor(e=new Pe,t=new Pe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Pe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Pe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class yF extends mo{constructor(e=new j,t=new j){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new j){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new j){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LA extends mo{constructor(e=new Pe,t=new Pe,i=new Pe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Pe){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(mp(e,r.x,s.x,o.x),mp(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NA extends mo{constructor(e=new j,t=new j,i=new j){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new j){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(mp(e,r.x,s.x,o.x),mp(e,r.y,s.y,o.y),mp(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class DA extends mo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Pe){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],u=r[o],f=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(GI(a,l.x,u.x,f.x,d.x),GI(a,l.y,u.y,f.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Pe().fromArray(r))}return this}}var Oy=Object.freeze({__proto__:null,ArcCurve:mF,CatmullRomCurve3:gF,CubicBezierCurve:RA,CubicBezierCurve3:vF,EllipseCurve:I_,LineCurve:IA,LineCurve3:yF,QuadraticBezierCurve:LA,QuadraticBezierCurve3:NA,SplineCurve:DA});class _F extends mo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Oy[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const f=l[u];i&&i.equals(f)||(t.push(f),i=f)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new Oy[r.type]().fromJSON(r))}return this}}class lm extends _F{constructor(e){super(),this.type="Path",this.currentPoint=new Pe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new IA(this.currentPoint.clone(),new Pe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new LA(this.currentPoint.clone(),new Pe(e,t),new Pe(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new RA(this.currentPoint.clone(),new Pe(e,t),new Pe(i,r),new Pe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new DA(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const u=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+u,t+f,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const u=new I_(e,t,i,r,s,o,a,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const f=u.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Um extends qt{constructor(e=[new Pe(0,-.5),new Pe(.5,0),new Pe(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Qn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],f=1/t,d=new j,p=new Pe,m=new j,v=new j,_=new j;let x=0,g=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:x=e[w+1].x-e[w].x,g=e[w+1].y-e[w].y,m.x=g*1,m.y=-x,m.z=g*0,_.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(_.x,_.y,_.z);break;default:x=e[w+1].x-e[w].x,g=e[w+1].y-e[w].y,m.x=g*1,m.y=-x,m.z=g*0,v.copy(m),m.x+=_.x,m.y+=_.y,m.z+=_.z,m.normalize(),l.push(m.x,m.y,m.z),_.copy(v)}for(let w=0;w<=t;w++){const S=i+w*f*r,E=Math.sin(S),b=Math.cos(S);for(let P=0;P<=e.length-1;P++){d.x=e[P].x*E,d.y=e[P].y,d.z=e[P].x*b,o.push(d.x,d.y,d.z),p.x=w/t,p.y=P/(e.length-1),a.push(p.x,p.y);const R=l[3*P+0]*E,I=l[3*P+1],C=l[3*P+0]*b;u.push(R,I,C)}}for(let w=0;w<t;w++)for(let S=0;S<e.length-1;S++){const E=S+w*e.length,b=E,P=E+e.length,R=E+e.length+1,I=E+1;s.push(b,P,I),s.push(R,I,P)}this.setIndex(s),this.setAttribute("position",new gt(o,3)),this.setAttribute("uv",new gt(a,2)),this.setAttribute("normal",new gt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Um(e.points,e.segments,e.phiStart,e.phiLength)}}class L_ extends Um{constructor(e=1,t=1,i=4,r=8){const s=new lm;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new L_(e.radius,e.length,e.capSegments,e.radialSegments)}}class N_ extends qt{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new j,f=new Pe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const m=i+d/t*r;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),f.x=(o[p]/e+1)/2,f.y=(o[p+1]/e+1)/2,l.push(f.x,f.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new gt(o,3)),this.setAttribute("normal",new gt(a,3)),this.setAttribute("uv",new gt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new N_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Lh extends qt{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;r=Math.floor(r),s=Math.floor(s);const f=[],d=[],p=[],m=[];let v=0;const _=[],x=i/2;let g=0;w(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(f),this.setAttribute("position",new gt(d,3)),this.setAttribute("normal",new gt(p,3)),this.setAttribute("uv",new gt(m,2));function w(){const E=new j,b=new j;let P=0;const R=(t-e)/i;for(let I=0;I<=s;I++){const C=[],L=I/s,B=L*(t-e)+e;for(let W=0;W<=r;W++){const ie=W/r,z=ie*l+a,ne=Math.sin(z),ee=Math.cos(z);b.x=B*ne,b.y=-L*i+x,b.z=B*ee,d.push(b.x,b.y,b.z),E.set(ne,R,ee).normalize(),p.push(E.x,E.y,E.z),m.push(ie,1-L),C.push(v++)}_.push(C)}for(let I=0;I<r;I++)for(let C=0;C<s;C++){const L=_[C][I],B=_[C+1][I],W=_[C+1][I+1],ie=_[C][I+1];f.push(L,B,ie),f.push(B,W,ie),P+=6}u.addGroup(g,P,0),g+=P}function S(E){const b=v,P=new Pe,R=new j;let I=0;const C=E===!0?e:t,L=E===!0?1:-1;for(let W=1;W<=r;W++)d.push(0,x*L,0),p.push(0,L,0),m.push(.5,.5),v++;const B=v;for(let W=0;W<=r;W++){const z=W/r*l+a,ne=Math.cos(z),ee=Math.sin(z);R.x=C*ee,R.y=x*L,R.z=C*ne,d.push(R.x,R.y,R.z),p.push(0,L,0),P.x=ne*.5+.5,P.y=ee*.5*L+.5,m.push(P.x,P.y),v++}for(let W=0;W<r;W++){const ie=b+W,z=B+W;E===!0?f.push(z,z+1,ie):f.push(z+1,z,ie),I+=3}u.addGroup(g,I,E===!0?1:2),g+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class D_ extends Lh{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new D_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Zl extends qt{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),u(i),f(),this.setAttribute("position",new gt(s,3)),this.setAttribute("normal",new gt(s.slice(),3)),this.setAttribute("uv",new gt(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(w){const S=new j,E=new j,b=new j;for(let P=0;P<t.length;P+=3)m(t[P+0],S),m(t[P+1],E),m(t[P+2],b),l(S,E,b,w)}function l(w,S,E,b){const P=b+1,R=[];for(let I=0;I<=P;I++){R[I]=[];const C=w.clone().lerp(E,I/P),L=S.clone().lerp(E,I/P),B=P-I;for(let W=0;W<=B;W++)W===0&&I===P?R[I][W]=C:R[I][W]=C.clone().lerp(L,W/B)}for(let I=0;I<P;I++)for(let C=0;C<2*(P-I)-1;C++){const L=Math.floor(C/2);C%2===0?(p(R[I][L+1]),p(R[I+1][L]),p(R[I][L])):(p(R[I][L+1]),p(R[I+1][L+1]),p(R[I+1][L]))}}function u(w){const S=new j;for(let E=0;E<s.length;E+=3)S.x=s[E+0],S.y=s[E+1],S.z=s[E+2],S.normalize().multiplyScalar(w),s[E+0]=S.x,s[E+1]=S.y,s[E+2]=S.z}function f(){const w=new j;for(let S=0;S<s.length;S+=3){w.x=s[S+0],w.y=s[S+1],w.z=s[S+2];const E=x(w)/2/Math.PI+.5,b=g(w)/Math.PI+.5;o.push(E,1-b)}v(),d()}function d(){for(let w=0;w<o.length;w+=6){const S=o[w+0],E=o[w+2],b=o[w+4],P=Math.max(S,E,b),R=Math.min(S,E,b);P>.9&&R<.1&&(S<.2&&(o[w+0]+=1),E<.2&&(o[w+2]+=1),b<.2&&(o[w+4]+=1))}}function p(w){s.push(w.x,w.y,w.z)}function m(w,S){const E=w*3;S.x=e[E+0],S.y=e[E+1],S.z=e[E+2]}function v(){const w=new j,S=new j,E=new j,b=new j,P=new Pe,R=new Pe,I=new Pe;for(let C=0,L=0;C<s.length;C+=9,L+=6){w.set(s[C+0],s[C+1],s[C+2]),S.set(s[C+3],s[C+4],s[C+5]),E.set(s[C+6],s[C+7],s[C+8]),P.set(o[L+0],o[L+1]),R.set(o[L+2],o[L+3]),I.set(o[L+4],o[L+5]),b.copy(w).add(S).add(E).divideScalar(3);const B=x(b);_(P,L+0,w,B),_(R,L+2,S,B),_(I,L+4,E,B)}}function _(w,S,E,b){b<0&&w.x===1&&(o[S]=w.x-1),E.x===0&&E.z===0&&(o[S]=b/2/Math.PI+.5)}function x(w){return Math.atan2(w.z,-w.x)}function g(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zl(e.vertices,e.indices,e.radius,e.details)}}class k_ extends Zl{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new k_(e.radius,e.detail)}}const X0=new j,Y0=new j,Aw=new j,q0=new Ur;class xF extends qt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Ku*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],f=["a","b","c"],d=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(u[0]=o.getX(v),u[1]=o.getX(v+1),u[2]=o.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:_,b:x,c:g}=q0;if(_.fromBufferAttribute(a,u[0]),x.fromBufferAttribute(a,u[1]),g.fromBufferAttribute(a,u[2]),q0.getNormal(Aw),d[0]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,d[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,d[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let w=0;w<3;w++){const S=(w+1)%3,E=d[w],b=d[S],P=q0[f[w]],R=q0[f[S]],I=`${E}_${b}`,C=`${b}_${E}`;C in p&&p[C]?(Aw.dot(p[C].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(R.x,R.y,R.z)),p[C]=null):I in p||(p[I]={index0:u[w],index1:u[S],normal:Aw.clone()})}}for(const v in p)if(p[v]){const{index0:_,index1:x}=p[v];X0.fromBufferAttribute(a,_),Y0.fromBufferAttribute(a,x),m.push(X0.x,X0.y,X0.z),m.push(Y0.x,Y0.y,Y0.z)}this.setAttribute("position",new gt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ec extends lm{constructor(e){super(e),this.uuid=ms(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new lm().fromJSON(r))}return this}}const _$={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=wF(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,f,d,p,m;if(i&&(s=E$(n,e,s,t)),n.length>80*t){a=u=n[0],l=f=n[1];for(let v=t;v<r;v+=t)d=n[v],p=n[v+1],d<a&&(a=d),p<l&&(l=p),d>u&&(u=d),p>f&&(f=p);m=Math.max(u-a,f-l),m=m!==0?32767/m:0}return um(s,o,t,a,l,m,0),o}};function wF(n,e,t,i,r){let s,o;if(r===k$(n,e,t,i)>0)for(s=e;s<t;s+=i)o=WI(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=WI(s,n[s],n[s+1],o);return o&&O_(o,o.next)&&(fm(o),o=o.next),o}function hc(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(O_(t,t.next)||Yn(t.prev,t,t.next)===0)){if(fm(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function um(n,e,t,i,r,s,o){if(!n)return;!o&&s&&P$(n,i,r,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?w$(n,i,r,s):x$(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),fm(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=S$(hc(n),e,t),um(n,e,t,i,r,s,2)):o===2&&M$(n,e,t,i,r,s):um(hc(n),e,t,i,r,s,1);break}}}function x$(n){const e=n.prev,t=n,i=n.next;if(Yn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,u=i.y,f=r<s?r<o?r:o:s<o?s:o,d=a<l?a<u?a:u:l<u?l:u,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let v=i.next;for(;v!==e;){if(v.x>=f&&v.x<=p&&v.y>=d&&v.y<=m&&Bf(r,a,s,l,o,u,v.x,v.y)&&Yn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function w$(n,e,t,i){const r=n.prev,s=n,o=n.next;if(Yn(r,s,o)>=0)return!1;const a=r.x,l=s.x,u=o.x,f=r.y,d=s.y,p=o.y,m=a<l?a<u?a:u:l<u?l:u,v=f<d?f<p?f:p:d<p?d:p,_=a>l?a>u?a:u:l>u?l:u,x=f>d?f>p?f:p:d>p?d:p,g=rE(m,v,e,t,i),w=rE(_,x,e,t,i);let S=n.prevZ,E=n.nextZ;for(;S&&S.z>=g&&E&&E.z<=w;){if(S.x>=m&&S.x<=_&&S.y>=v&&S.y<=x&&S!==r&&S!==o&&Bf(a,f,l,d,u,p,S.x,S.y)&&Yn(S.prev,S,S.next)>=0||(S=S.prevZ,E.x>=m&&E.x<=_&&E.y>=v&&E.y<=x&&E!==r&&E!==o&&Bf(a,f,l,d,u,p,E.x,E.y)&&Yn(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;S&&S.z>=g;){if(S.x>=m&&S.x<=_&&S.y>=v&&S.y<=x&&S!==r&&S!==o&&Bf(a,f,l,d,u,p,S.x,S.y)&&Yn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;E&&E.z<=w;){if(E.x>=m&&E.x<=_&&E.y>=v&&E.y<=x&&E!==r&&E!==o&&Bf(a,f,l,d,u,p,E.x,E.y)&&Yn(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function S$(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!O_(r,s)&&SF(r,i,i.next,s)&&cm(r,s)&&cm(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),fm(i),fm(i.next),i=n=s),i=i.next}while(i!==n);return hc(i)}function M$(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&L$(o,a)){let l=MF(o,a);o=hc(o,o.next),l=hc(l,l.next),um(o,e,t,i,r,s,0),um(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function E$(n,e,t,i){const r=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,u=wF(n,a,l,i,!1),u===u.next&&(u.steiner=!0),r.push(I$(u));for(r.sort(T$),s=0;s<r.length;s++)t=A$(r[s],t);return t}function T$(n,e){return n.x-e.x}function A$(n,e){const t=b$(n,e);if(!t)return e;const i=MF(t,n);return hc(i,i.next),hc(t,t.next)}function b$(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,u=r.y;let f=1/0,d;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&Bf(o<u?s:i,o,l,u,o<u?i:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),cm(t,n)&&(d<f||d===f&&(t.x>r.x||t.x===r.x&&C$(r,t)))&&(r=t,f=d)),t=t.next;while(t!==a);return r}function C$(n,e){return Yn(n.prev,n,e.prev)<0&&Yn(e.next,n,n.next)<0}function P$(n,e,t,i){let r=n;do r.z===0&&(r.z=rE(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,R$(r)}function R$(n){let e,t,i,r,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<u&&(a++,i=i.nextZ,!!i);e++);for(l=u;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,u*=2}while(o>1);return n}function rE(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function I$(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Bf(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function L$(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!N$(n,e)&&(cm(n,e)&&cm(e,n)&&D$(n,e)&&(Yn(n.prev,n,e.prev)||Yn(n,e.prev,e))||O_(n,e)&&Yn(n.prev,n,n.next)>0&&Yn(e.prev,e,e.next)>0)}function Yn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function O_(n,e){return n.x===e.x&&n.y===e.y}function SF(n,e,t,i){const r=$0(Yn(n,e,t)),s=$0(Yn(n,e,i)),o=$0(Yn(t,i,n)),a=$0(Yn(t,i,e));return!!(r!==s&&o!==a||r===0&&Z0(n,t,e)||s===0&&Z0(n,i,e)||o===0&&Z0(t,n,i)||a===0&&Z0(t,e,i))}function Z0(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function $0(n){return n>0?1:n<0?-1:0}function N$(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&SF(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function cm(n,e){return Yn(n.prev,n,n.next)<0?Yn(n,e,n.next)>=0&&Yn(n,n.prev,e)>=0:Yn(n,e,n.prev)<0||Yn(n,n.next,e)<0}function D$(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function MF(n,e){const t=new sE(n.i,n.x,n.y),i=new sE(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function WI(n,e,t,i){const r=new sE(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function fm(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function sE(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function k$(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class Ho{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Ho.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];jI(e),XI(i,e);let o=e.length;t.forEach(jI);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,XI(i,t[l]);const a=_$.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function jI(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function XI(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class U_ extends qt{constructor(e=new ec([new Pe(.5,.5),new Pe(-.5,.5),new Pe(-.5,-.5),new Pe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new gt(r,3)),this.setAttribute("uv",new gt(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,f=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,_=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:O$;let S,E=!1,b,P,R,I;g&&(S=g.getSpacedPoints(f),E=!0,p=!1,b=g.computeFrenetFrames(f,!1),P=new j,R=new j,I=new j),p||(x=0,m=0,v=0,_=0);const C=a.extractPoints(u);let L=C.shape;const B=C.holes;if(!Ho.isClockWise(L)){L=L.reverse();for(let J=0,_e=B.length;J<_e;J++){const ge=B[J];Ho.isClockWise(ge)&&(B[J]=ge.reverse())}}const ie=Ho.triangulateShape(L,B),z=L;for(let J=0,_e=B.length;J<_e;J++){const ge=B[J];L=L.concat(ge)}function ne(J,_e,ge){return _e||console.error("THREE.ExtrudeGeometry: vec does not exist"),J.clone().addScaledVector(_e,ge)}const ee=L.length,re=ie.length;function X(J,_e,ge){let Re,Te,se;const He=J.x-_e.x,Qe=J.y-_e.y,vt=ge.x-J.x,mt=ge.y-J.y,Jt=He*He+Qe*Qe,q=He*mt-Qe*vt;if(Math.abs(q)>Number.EPSILON){const F=Math.sqrt(Jt),ue=Math.sqrt(vt*vt+mt*mt),Ne=_e.x-Qe/F,Me=_e.y+He/F,Ie=ge.x-mt/ue,Ke=ge.y+vt/ue,ke=((Ie-Ne)*mt-(Ke-Me)*vt)/(He*mt-Qe*vt);Re=Ne+He*ke-J.x,Te=Me+Qe*ke-J.y;const Ye=Re*Re+Te*Te;if(Ye<=2)return new Pe(Re,Te);se=Math.sqrt(Ye/2)}else{let F=!1;He>Number.EPSILON?vt>Number.EPSILON&&(F=!0):He<-Number.EPSILON?vt<-Number.EPSILON&&(F=!0):Math.sign(Qe)===Math.sign(mt)&&(F=!0),F?(Re=-Qe,Te=He,se=Math.sqrt(Jt)):(Re=He,Te=Qe,se=Math.sqrt(Jt/2))}return new Pe(Re/se,Te/se)}const Q=[];for(let J=0,_e=z.length,ge=_e-1,Re=J+1;J<_e;J++,ge++,Re++)ge===_e&&(ge=0),Re===_e&&(Re=0),Q[J]=X(z[J],z[ge],z[Re]);const k=[];let G,te=Q.concat();for(let J=0,_e=B.length;J<_e;J++){const ge=B[J];G=[];for(let Re=0,Te=ge.length,se=Te-1,He=Re+1;Re<Te;Re++,se++,He++)se===Te&&(se=0),He===Te&&(He=0),G[Re]=X(ge[Re],ge[se],ge[He]);k.push(G),te=te.concat(G)}for(let J=0;J<x;J++){const _e=J/x,ge=m*Math.cos(_e*Math.PI/2),Re=v*Math.sin(_e*Math.PI/2)+_;for(let Te=0,se=z.length;Te<se;Te++){const He=ne(z[Te],Q[Te],Re);De(He.x,He.y,-ge)}for(let Te=0,se=B.length;Te<se;Te++){const He=B[Te];G=k[Te];for(let Qe=0,vt=He.length;Qe<vt;Qe++){const mt=ne(He[Qe],G[Qe],Re);De(mt.x,mt.y,-ge)}}}const me=v+_;for(let J=0;J<ee;J++){const _e=p?ne(L[J],te[J],me):L[J];E?(R.copy(b.normals[0]).multiplyScalar(_e.x),P.copy(b.binormals[0]).multiplyScalar(_e.y),I.copy(S[0]).add(R).add(P),De(I.x,I.y,I.z)):De(_e.x,_e.y,0)}for(let J=1;J<=f;J++)for(let _e=0;_e<ee;_e++){const ge=p?ne(L[_e],te[_e],me):L[_e];E?(R.copy(b.normals[J]).multiplyScalar(ge.x),P.copy(b.binormals[J]).multiplyScalar(ge.y),I.copy(S[J]).add(R).add(P),De(I.x,I.y,I.z)):De(ge.x,ge.y,d/f*J)}for(let J=x-1;J>=0;J--){const _e=J/x,ge=m*Math.cos(_e*Math.PI/2),Re=v*Math.sin(_e*Math.PI/2)+_;for(let Te=0,se=z.length;Te<se;Te++){const He=ne(z[Te],Q[Te],Re);De(He.x,He.y,d+ge)}for(let Te=0,se=B.length;Te<se;Te++){const He=B[Te];G=k[Te];for(let Qe=0,vt=He.length;Qe<vt;Qe++){const mt=ne(He[Qe],G[Qe],Re);E?De(mt.x,mt.y+S[f-1].y,S[f-1].x+ge):De(mt.x,mt.y,d+ge)}}}xe(),Ce();function xe(){const J=r.length/3;if(p){let _e=0,ge=ee*_e;for(let Re=0;Re<re;Re++){const Te=ie[Re];We(Te[2]+ge,Te[1]+ge,Te[0]+ge)}_e=f+x*2,ge=ee*_e;for(let Re=0;Re<re;Re++){const Te=ie[Re];We(Te[0]+ge,Te[1]+ge,Te[2]+ge)}}else{for(let _e=0;_e<re;_e++){const ge=ie[_e];We(ge[2],ge[1],ge[0])}for(let _e=0;_e<re;_e++){const ge=ie[_e];We(ge[0]+ee*f,ge[1]+ee*f,ge[2]+ee*f)}}i.addGroup(J,r.length/3-J,0)}function Ce(){const J=r.length/3;let _e=0;Ee(z,_e),_e+=z.length;for(let ge=0,Re=B.length;ge<Re;ge++){const Te=B[ge];Ee(Te,_e),_e+=Te.length}i.addGroup(J,r.length/3-J,1)}function Ee(J,_e){let ge=J.length;for(;--ge>=0;){const Re=ge;let Te=ge-1;Te<0&&(Te=J.length-1);for(let se=0,He=f+x*2;se<He;se++){const Qe=ee*se,vt=ee*(se+1),mt=_e+Re+Qe,Jt=_e+Te+Qe,q=_e+Te+vt,F=_e+Re+vt;_t(mt,Jt,q,F)}}}function De(J,_e,ge){l.push(J),l.push(_e),l.push(ge)}function We(J,_e,ge){Nt(J),Nt(_e),Nt(ge);const Re=r.length/3,Te=w.generateTopUV(i,r,Re-3,Re-2,Re-1);Be(Te[0]),Be(Te[1]),Be(Te[2])}function _t(J,_e,ge,Re){Nt(J),Nt(_e),Nt(Re),Nt(_e),Nt(ge),Nt(Re);const Te=r.length/3,se=w.generateSideWallUV(i,r,Te-6,Te-3,Te-2,Te-1);Be(se[0]),Be(se[1]),Be(se[3]),Be(se[1]),Be(se[2]),Be(se[3])}function Nt(J){r.push(l[J*3+0]),r.push(l[J*3+1]),r.push(l[J*3+2])}function Be(J){s.push(J.x),s.push(J.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return U$(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Oy[r.type]().fromJSON(r)),new U_(i,e.options)}}const O$={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],u=e[r*3],f=e[r*3+1];return[new Pe(s,o),new Pe(a,l),new Pe(u,f)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[i*3],f=e[i*3+1],d=e[i*3+2],p=e[r*3],m=e[r*3+1],v=e[r*3+2],_=e[s*3],x=e[s*3+1],g=e[s*3+2];return Math.abs(a-f)<Math.abs(o-u)?[new Pe(o,1-l),new Pe(u,1-d),new Pe(p,1-v),new Pe(_,1-g)]:[new Pe(a,1-l),new Pe(f,1-d),new Pe(m,1-v),new Pe(x,1-g)]}};function U$(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Fm extends Zl{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Fm(e.radius,e.detail)}}class zm extends Zl{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new zm(e.radius,e.detail)}}class F_ extends qt{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],u=[],f=[];let d=e;const p=(t-e)/r,m=new j,v=new Pe;for(let _=0;_<=r;_++){for(let x=0;x<=i;x++){const g=s+x/i*o;m.x=d*Math.cos(g),m.y=d*Math.sin(g),l.push(m.x,m.y,m.z),u.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,f.push(v.x,v.y)}d+=p}for(let _=0;_<r;_++){const x=_*(i+1);for(let g=0;g<i;g++){const w=g+x,S=w,E=w+i+1,b=w+i+2,P=w+1;a.push(S,E,P),a.push(E,b,P)}}this.setIndex(a),this.setAttribute("position",new gt(l,3)),this.setAttribute("normal",new gt(u,3)),this.setAttribute("uv",new gt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new F_(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class z_ extends qt{constructor(e=new ec([new Pe(0,.5),new Pe(-.5,-.5),new Pe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let f=0;f<e.length;f++)u(e[f]),this.addGroup(a,l,f),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new gt(r,3)),this.setAttribute("normal",new gt(s,3)),this.setAttribute("uv",new gt(o,2));function u(f){const d=r.length/3,p=f.extractPoints(t);let m=p.shape;const v=p.holes;Ho.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,g=v.length;x<g;x++){const w=v[x];Ho.isClockWise(w)===!0&&(v[x]=w.reverse())}const _=Ho.triangulateShape(m,v);for(let x=0,g=v.length;x<g;x++){const w=v[x];m=m.concat(w)}for(let x=0,g=m.length;x<g;x++){const w=m[x];r.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let x=0,g=_.length;x<g;x++){const w=_[x],S=w[0]+d,E=w[1]+d,b=w[2]+d;i.push(S,E,b),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return F$(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new z_(i,e.curveSegments)}}function F$(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Bm extends qt{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let u=0;const f=[],d=new j,p=new j,m=[],v=[],_=[],x=[];for(let g=0;g<=i;g++){const w=[],S=g/i;let E=0;g===0&&o===0?E=.5/t:g===i&&l===Math.PI&&(E=-.5/t);for(let b=0;b<=t;b++){const P=b/t;d.x=-e*Math.cos(r+P*s)*Math.sin(o+S*a),d.y=e*Math.cos(o+S*a),d.z=e*Math.sin(r+P*s)*Math.sin(o+S*a),v.push(d.x,d.y,d.z),p.copy(d).normalize(),_.push(p.x,p.y,p.z),x.push(P+E,1-S),w.push(u++)}f.push(w)}for(let g=0;g<i;g++)for(let w=0;w<t;w++){const S=f[g][w+1],E=f[g][w],b=f[g+1][w],P=f[g+1][w+1];(g!==0||o>0)&&m.push(S,E,P),(g!==i-1||l<Math.PI)&&m.push(E,b,P)}this.setIndex(m),this.setAttribute("position",new gt(v,3)),this.setAttribute("normal",new gt(_,3)),this.setAttribute("uv",new gt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bm(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class B_ extends Zl{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new B_(e.radius,e.detail)}}class V_ extends qt{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],u=[],f=new j,d=new j,p=new j;for(let m=0;m<=i;m++)for(let v=0;v<=r;v++){const _=v/r*s,x=m/i*Math.PI*2;d.x=(e+t*Math.cos(x))*Math.cos(_),d.y=(e+t*Math.cos(x))*Math.sin(_),d.z=t*Math.sin(x),a.push(d.x,d.y,d.z),f.x=e*Math.cos(_),f.y=e*Math.sin(_),p.subVectors(d,f).normalize(),l.push(p.x,p.y,p.z),u.push(v/r),u.push(m/i)}for(let m=1;m<=i;m++)for(let v=1;v<=r;v++){const _=(r+1)*m+v-1,x=(r+1)*(m-1)+v-1,g=(r+1)*(m-1)+v,w=(r+1)*m+v;o.push(_,x,w),o.push(x,g,w)}this.setIndex(o),this.setAttribute("position",new gt(a,3)),this.setAttribute("normal",new gt(l,3)),this.setAttribute("uv",new gt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new V_(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class H_ extends qt{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],u=[],f=[],d=new j,p=new j,m=new j,v=new j,_=new j,x=new j,g=new j;for(let S=0;S<=i;++S){const E=S/i*s*Math.PI*2;w(E,s,o,e,m),w(E+.01,s,o,e,v),x.subVectors(v,m),g.addVectors(v,m),_.crossVectors(x,g),g.crossVectors(_,x),_.normalize(),g.normalize();for(let b=0;b<=r;++b){const P=b/r*Math.PI*2,R=-t*Math.cos(P),I=t*Math.sin(P);d.x=m.x+(R*g.x+I*_.x),d.y=m.y+(R*g.y+I*_.y),d.z=m.z+(R*g.z+I*_.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),u.push(p.x,p.y,p.z),f.push(S/i),f.push(b/r)}}for(let S=1;S<=i;S++)for(let E=1;E<=r;E++){const b=(r+1)*(S-1)+(E-1),P=(r+1)*S+(E-1),R=(r+1)*S+E,I=(r+1)*(S-1)+E;a.push(b,P,I),a.push(P,R,I)}this.setIndex(a),this.setAttribute("position",new gt(l,3)),this.setAttribute("normal",new gt(u,3)),this.setAttribute("uv",new gt(f,2));function w(S,E,b,P,R){const I=Math.cos(S),C=Math.sin(S),L=b/E*S,B=Math.cos(L);R.x=P*(2+B)*.5*I,R.y=P*(2+B)*C*.5,R.z=P*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new H_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class G_ extends qt{constructor(e=new NA(new j(-1,-1,0),new j(-1,1,0),new j(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new j,l=new j,u=new Pe;let f=new j;const d=[],p=[],m=[],v=[];_(),this.setIndex(v),this.setAttribute("position",new gt(d,3)),this.setAttribute("normal",new gt(p,3)),this.setAttribute("uv",new gt(m,2));function _(){for(let S=0;S<t;S++)x(S);x(s===!1?t:0),w(),g()}function x(S){f=e.getPointAt(S/t,f);const E=o.normals[S],b=o.binormals[S];for(let P=0;P<=r;P++){const R=P/r*Math.PI*2,I=Math.sin(R),C=-Math.cos(R);l.x=C*E.x+I*b.x,l.y=C*E.y+I*b.y,l.z=C*E.z+I*b.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=f.x+i*l.x,a.y=f.y+i*l.y,a.z=f.z+i*l.z,d.push(a.x,a.y,a.z)}}function g(){for(let S=1;S<=t;S++)for(let E=1;E<=r;E++){const b=(r+1)*(S-1)+(E-1),P=(r+1)*S+(E-1),R=(r+1)*S+E,I=(r+1)*(S-1)+E;v.push(b,P,I),v.push(P,R,I)}}function w(){for(let S=0;S<=t;S++)for(let E=0;E<=r;E++)u.x=S/t,u.y=E/r,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new G_(new Oy[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class EF extends qt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new j,s=new j;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,f=l.length;u<f;++u){const d=l[u],p=d.start,m=d.count;for(let v=p,_=p+m;v<_;v+=3)for(let x=0;x<3;x++){const g=a.getX(v+x),w=a.getX(v+(x+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,w),YI(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const f=3*a+u,d=3*a+(u+1)%3;r.fromBufferAttribute(o,f),s.fromBufferAttribute(o,d),YI(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new gt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function YI(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var qI=Object.freeze({__proto__:null,BoxGeometry:Sc,CapsuleGeometry:L_,CircleGeometry:N_,ConeGeometry:D_,CylinderGeometry:Lh,DodecahedronGeometry:k_,EdgesGeometry:xF,ExtrudeGeometry:U_,IcosahedronGeometry:Fm,LatheGeometry:Um,OctahedronGeometry:zm,PlaneGeometry:Mc,PolyhedronGeometry:Zl,RingGeometry:F_,ShapeGeometry:z_,SphereGeometry:Bm,TetrahedronGeometry:B_,TorusGeometry:V_,TorusKnotGeometry:H_,TubeGeometry:G_,WireframeGeometry:EF});class TF extends cr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ut(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class AF extends Ms{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class kA extends cr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ut(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new Pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bF extends kA{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Pe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Qn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ut(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ut(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ut(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class CF extends cr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ut(16777215),this.specular=new ut(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new Pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Im,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class PF extends cr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ut(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new Pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class RF extends cr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new Pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class IF extends cr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new Pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Im,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class LF extends cr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ut(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new Pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class NF extends Pr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function zu(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function DF(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function kF(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function oE(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function OA(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function z$(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],f=u.getValueSize(),d=[],p=[];for(let m=0;m<u.times.length;++m){const v=u.times[m]*r;if(!(v<t||v>=i)){d.push(u.times[m]);for(let _=0;_<f;++_)p.push(u.values[m*f+_])}}d.length!==0&&(u.times=zu(d,u.times.constructor),u.values=zu(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function B$(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(u===void 0)continue;let f=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=d/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let _;if(s<=a.times[0]){const g=f,w=d-f;_=a.values.slice(g,w)}else if(s>=a.times[v]){const g=v*d+f,w=g+d-f;_=a.values.slice(g,w)}else{const g=a.createInterpolant(),w=f,S=d-f;g.evaluate(s),_=g.resultBuffer.slice(w,S)}l==="quaternion"&&new Yr().fromArray(_).normalize().conjugate().toArray(_);const x=u.times.length;for(let g=0;g<x;++g){const w=g*m+p;if(l==="quaternion")Yr.multiplyQuaternionsFlat(u.values,w,_,0,u.values,w);else{const S=m-p*2;for(let E=0;E<S;++E)u.values[w+E]-=_[E]}}}return n.blendMode=mA,n}const V$={convertArray:zu,isTypedArray:DF,getKeyframeOrder:kF,sortedArray:oE,flattenJSON:OA,subclip:z$,makeClipAdditive:B$};class Vm{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class OF extends Vm{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ku,endingEnd:ku}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Ou:s=e,a=2*t-i;break;case tm:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Ou:o=e,l=2*i-t;break;case tm:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const u=(i-t)*.5,f=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-i),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(i-t)/(r-t),_=v*v,x=_*v,g=-p*x+2*p*_-p*v,w=(1+p)*x+(-1.5-2*p)*_+(-.5+p)*v+1,S=(-1-m)*x+(1.5+m)*_+.5*v,E=m*x-m*_;for(let b=0;b!==a;++b)s[b]=g*o[f+b]+w*o[u+b]+S*o[l+b]+E*o[d+b];return s}}class UA extends Vm{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=(i-t)/(r-t),d=1-f;for(let p=0;p!==a;++p)s[p]=o[u+p]*d+o[l+p]*f;return s}}class UF extends Vm{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class go{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=zu(t,this.TimeBufferType),this.values=zu(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:zu(e.times,Array),values:zu(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new UF(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new UA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new OF(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Qp:t=this.InterpolantFactoryMethodDiscrete;break;case em:t=this.InterpolantFactoryMethodLinear;break;case Ov:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Qp;case this.InterpolantFactoryMethodLinear:return em;case this.InterpolantFactoryMethodSmooth:return Ov}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&DF(r))for(let a=0,l=r.length;a!==l;++a){const u=r[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===Ov,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],f=e[a+1];if(u!==f&&(a!==1||u!==e[0]))if(r)l=!0;else{const d=a*i,p=d-i,m=d+i;for(let v=0;v!==i;++v){const _=t[d+v];if(_!==t[p+v]||_!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,u=0;u!==i;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}go.prototype.TimeBufferType=Float32Array;go.prototype.ValueBufferType=Float32Array;go.prototype.DefaultInterpolation=em;class Ec extends go{}Ec.prototype.ValueTypeName="bool";Ec.prototype.ValueBufferType=Array;Ec.prototype.DefaultInterpolation=Qp;Ec.prototype.InterpolantFactoryMethodLinear=void 0;Ec.prototype.InterpolantFactoryMethodSmooth=void 0;class FA extends go{}FA.prototype.ValueTypeName="color";class hm extends go{}hm.prototype.ValueTypeName="number";class FF extends Vm{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let u=e*a;for(let f=u+a;u!==f;u+=4)Yr.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Nh extends go{InterpolantFactoryMethodLinear(e){return new FF(this.times,this.values,this.getValueSize(),e)}}Nh.prototype.ValueTypeName="quaternion";Nh.prototype.DefaultInterpolation=em;Nh.prototype.InterpolantFactoryMethodSmooth=void 0;class Tc extends go{}Tc.prototype.ValueTypeName="string";Tc.prototype.ValueBufferType=Array;Tc.prototype.DefaultInterpolation=Qp;Tc.prototype.InterpolantFactoryMethodLinear=void 0;Tc.prototype.InterpolantFactoryMethodSmooth=void 0;class dm extends go{}dm.prototype.ValueTypeName="vector";class pm{constructor(e,t=-1,i,r=x_){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=ms(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(G$(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(go.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const f=kF(l);l=oE(l,1,f),u=oE(u,1,f),!r&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new hm(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],f=u.name.match(s);if(f&&f.length>1){const d=f[1];let p=r[d];p||(r[d]=p=[]),p.push(u)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,p,m,v,_){if(m.length!==0){const x=[],g=[];OA(m,x,g,v),x.length!==0&&_.push(new d(p,x,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const p=u[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let _=0;_<p[v].morphTargets.length;_++)m[p[v].morphTargets[_]]=-1;for(const _ in m){const x=[],g=[];for(let w=0;w!==p[v].morphTargets.length;++w){const S=p[v];x.push(S.time),g.push(S.morphTarget===_?1:0)}r.push(new hm(".morphTargetInfluence["+_+"]",x,g))}l=m.length*o}else{const m=".bones["+t[d].name+"]";i(dm,m+".position",p,"pos",r),i(Nh,m+".quaternion",p,"rot",r),i(dm,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function H$(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return hm;case"vector":case"vector2":case"vector3":case"vector4":return dm;case"color":return FA;case"quaternion":return Nh;case"bool":case"boolean":return Ec;case"string":return Tc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function G$(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=H$(n.type);if(n.times===void 0){const t=[],i=[];OA(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const dc={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class W_{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(f){a++,s===!1&&r.onStart!==void 0&&r.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,r.onProgress!==void 0&&r.onProgress(f,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(f){r.onError!==void 0&&r.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,d){return u.push(f,d),this},this.removeHandler=function(f){const d=u.indexOf(f);return d!==-1&&u.splice(d,2),this},this.getHandler=function(f){for(let d=0,p=u.length;d<p;d+=2){const m=u[d],v=u[d+1];if(m.global&&(m.lastIndex=0),m.test(f))return v}return null}}}const zF=new W_;class Rr{constructor(e){this.manager=e!==void 0?e:zF,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Rr.DEFAULT_MATERIAL_NAME="__DEFAULT";const oa={};class W$ extends Error{constructor(e,t){super(e),this.response=t}}class gs extends Rr{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=dc.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(oa[e]!==void 0){oa[e].push({onLoad:t,onProgress:i,onError:r});return}oa[e]=[],oa[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const f=oa[e],d=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let _=0;const x=new ReadableStream({start(g){w();function w(){d.read().then(({done:S,value:E})=>{if(S)g.close();else{_+=E.byteLength;const b=new ProgressEvent("progress",{lengthComputable:v,loaded:_,total:m});for(let P=0,R=f.length;P<R;P++){const I=f[P];I.onProgress&&I.onProgress(b)}g.enqueue(E),w()}})}}});return new Response(x)}else throw new W$(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return u.json();default:if(a===void 0)return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(v=>m.decode(v))}}}).then(u=>{dc.add(e,u);const f=oa[e];delete oa[e];for(let d=0,p=f.length;d<p;d++){const m=f[d];m.onLoad&&m.onLoad(u)}}).catch(u=>{const f=oa[e];if(f===void 0)throw this.manager.itemError(e),u;delete oa[e];for(let d=0,p=f.length;d<p;d++){const m=f[d];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class j$ extends Rr{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new gs(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=pm.parse(e[i]);t.push(r)}return t}}class X$ extends Rr{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new R_,l=new gs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function f(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=cn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)f(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let _=0;_<p.mipmapCount;_++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+_]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=cn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class mm extends Rr{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=dc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=am("img");function l(){f(),dc.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(d){f(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class BF extends Rr{constructor(e){super(e)}load(e,t,i,r){const s=new km;s.colorSpace=gi;const o=new mm(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(f){s.images[u]=f,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let u=0;u<e.length;++u)l(u);return s}}class zA extends Rr{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Qu,a=new gs(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let u;try{u=s.parse(l)}catch(f){if(r!==void 0)r(f);else{console.error(f);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:zn,o.wrapT=u.wrapT!==void 0?u.wrapT:zn,o.magFilter=u.magFilter!==void 0?u.magFilter:cn,o.minFilter=u.minFilter!==void 0?u.minFilter:cn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?o.colorSpace=u.colorSpace:u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Bl),u.mipmapCount===1&&(o.minFilter=cn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u)},i,r),o}}class Y$ extends Rr{constructor(e){super(e)}load(e,t,i,r){const s=new Mn,o=new mm(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class $l extends ln{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ut(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class VF extends $l{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(ln.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ut(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const bw=new zt,ZI=new j,$I=new j;class BA{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Pe(512,512),this.map=null,this.mapPass=null,this.matrix=new zt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new M_,this._frameExtents=new Pe(1,1),this._viewportCount=1,this._viewports=[new gn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;ZI.setFromMatrixPosition(e.matrixWorld),t.position.copy(ZI),$I.setFromMatrixPosition(e.target.matrixWorld),t.lookAt($I),t.updateMatrixWorld(),bw.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(bw),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(bw)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class q$ extends BA{constructor(){super(new Fi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=_h*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class HF extends $l{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ln.DEFAULT_UP),this.updateMatrix(),this.target=new ln,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new q$}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const KI=new zt,wd=new j,Cw=new j;class Z$ extends BA{constructor(){super(new Fi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Pe(4,2),this._viewportCount=6,this._viewports=[new gn(2,1,1,1),new gn(0,1,1,1),new gn(3,1,1,1),new gn(1,1,1,1),new gn(3,0,1,1),new gn(1,0,1,1)],this._cubeDirections=[new j(1,0,0),new j(-1,0,0),new j(0,0,1),new j(0,0,-1),new j(0,1,0),new j(0,-1,0)],this._cubeUps=[new j(0,1,0),new j(0,1,0),new j(0,1,0),new j(0,1,0),new j(0,0,1),new j(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),wd.setFromMatrixPosition(e.matrixWorld),i.position.copy(wd),Cw.copy(i.position),Cw.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(Cw),i.updateMatrixWorld(),r.makeTranslation(-wd.x,-wd.y,-wd.z),KI.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(KI)}}class GF extends $l{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Z$}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class $$ extends BA{constructor(){super(new Rh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class WF extends $l{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ln.DEFAULT_UP),this.updateMatrix(),this.target=new ln,this.shadow=new $$}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class jF extends $l{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class XF extends $l{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class YF{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new j)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class qF extends $l{constructor(e=new YF,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class j_ extends Rr{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new gs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=j_.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new ut().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new ut().setHex(o.value);break;case"v2":r.uniforms[s].value=new Pe().fromArray(o.value);break;case"v3":r.uniforms[s].value=new j().fromArray(o.value);break;case"v4":r.uniforms[s].value=new gn().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Wt().fromArray(o.value);break;case"m4":r.uniforms[s].value=new zt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Pe().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Pe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:TF,SpriteMaterial:AA,RawShaderMaterial:AF,ShaderMaterial:Ms,PointsMaterial:CA,MeshPhysicalMaterial:bF,MeshStandardMaterial:kA,MeshPhongMaterial:CF,MeshToonMaterial:PF,MeshNormalMaterial:RF,MeshLambertMaterial:IF,MeshDepthMaterial:EA,MeshDistanceMaterial:TA,MeshBasicMaterial:La,MeshMatcapMaterial:LF,LineDashedMaterial:NF,LineBasicMaterial:Pr,Material:cr};return new t[e]}}class aE{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class ZF extends qt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class $F extends Rr{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new gs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,v){if(t[v]!==void 0)return t[v];const x=m.interleavedBuffers[v],g=s(m,x.buffer),w=Uf(x.type,g),S=new C_(w,x.stride);return S.uuid=x.uuid,t[v]=S,S}function s(m,v){if(i[v]!==void 0)return i[v];const x=m.arrayBuffers[v],g=new Uint32Array(x).buffer;return i[v]=g,g}const o=e.isInstancedBufferGeometry?new ZF:new qt,a=e.data.index;if(a!==void 0){const m=Uf(a.type,a.array);o.setIndex(new En(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let _;if(v.isInterleavedBufferAttribute){const x=r(e.data,v.data);_=new fc(x,v.itemSize,v.offset,v.normalized)}else{const x=Uf(v.type,v.array),g=v.isInstancedBufferAttribute?wh:En;_=new g(x,v.itemSize,v.normalized)}v.name!==void 0&&(_.name=v.name),v.usage!==void 0&&_.setUsage(v.usage),v.updateRange!==void 0&&(_.updateRange.offset=v.updateRange.offset,_.updateRange.count=v.updateRange.count),o.setAttribute(m,_)}const u=e.data.morphAttributes;if(u)for(const m in u){const v=u[m],_=[];for(let x=0,g=v.length;x<g;x++){const w=v[x];let S;if(w.isInterleavedBufferAttribute){const E=r(e.data,w.data);S=new fc(E,w.itemSize,w.offset,w.normalized)}else{const E=Uf(w.type,w.array);S=new En(E,w.itemSize,w.normalized)}w.name!==void 0&&(S.name=w.name),_.push(S)}o.morphAttributes[m]=_}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,v=d.length;m!==v;++m){const _=d[m];o.addGroup(_.start,_.count,_.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new j;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new po(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class K$ extends Rr{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?aE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new gs(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const f=u.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?aE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new gs(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,i),f=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,f),t!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new ec().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new P_().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new $F;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in qI?a=qI[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new j_;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=pm.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return o(f)}else return l.data?{data:Uf(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new W_(t);s=new mm(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,f=e.length;u<f;u++){const d=e[u],p=d.url;if(Array.isArray(p)){const m=[];for(let v=0,_=p.length;v<_;v++){const x=p[v],g=a(x);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Qu(g.data,g.width,g.height)))}r[d.uuid]=new Uu(m)}else{const m=a(d.url);r[d.uuid]=new Uu(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Uf(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new mm(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const f=[];for(let d=0,p=u.length;d<p;d++){const m=u[d],v=await s(m);v!==null&&(v instanceof HTMLImageElement?f.push(v):f.push(new Qu(v.data,v.width,v.height)))}i[l.uuid]=new Uu(f)}else{const f=await s(l.url);i[l.uuid]=new Uu(f)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let f;Array.isArray(u)?(f=new km,u.length===6&&(f.needsUpdate=!0)):(u&&u.data?f=new Qu:f=new Mn,u&&(f.needsUpdate=!0)),f.source=l,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=i(a.mapping,J$)),a.channel!==void 0&&(f.channel=a.channel),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=i(a.wrap[0],JI),f.wrapT=i(a.wrap[1],JI)),a.format!==void 0&&(f.format=a.format),a.internalFormat!==void 0&&(f.internalFormat=a.internalFormat),a.type!==void 0&&(f.type=a.type),a.colorSpace!==void 0&&(f.colorSpace=a.colorSpace),a.encoding!==void 0&&(f.encoding=a.encoding),a.minFilter!==void 0&&(f.minFilter=i(a.minFilter,QI)),a.magFilter!==void 0&&(f.magFilter=i(a.magFilter,QI)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.generateMipmaps!==void 0&&(f.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(f.compareFunction=a.compareFunction),a.userData!==void 0&&(f.userData=a.userData),r[a.uuid]=f}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,_=p.length;v<_;v++){const x=p[v];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(i[x])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function u(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let f,d;switch(e.type){case"Scene":o=new Om,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ut(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new b_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new A_(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Fi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Rh(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new jF(e.color,e.intensity);break;case"DirectionalLight":o=new WF(e.color,e.intensity);break;case"PointLight":o=new GF(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new XF(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new HF(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new VF(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new qF().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),d=l(e.material),o=new fF(f,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),d=l(e.material),o=new yi(f,d);break;case"InstancedMesh":f=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new hF(f,d,p),o.instanceMatrix=new wh(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new wh(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new cF;break;case"Line":o=new Vl(a(e.geometry),l(e.material));break;case"LineLoop":o=new dF(a(e.geometry),l(e.material));break;case"LineSegments":o=new Xo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new pF(a(e.geometry),l(e.material));break;case"Sprite":o=new uF(l(e.material));break;case"Group":o=new zf;break;case"Bone":o=new bA;break;default:o=new ln}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],_=o.getObjectByProperty("uuid",v.object);_!==void 0&&o.addLevel(_,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const J$={UVMapping:Fl,CubeReflectionMapping:Wo,CubeRefractionMapping:zl,EquirectangularReflectionMapping:yh,EquirectangularRefractionMapping:$p,CubeUVReflectionMapping:Ch},JI={RepeatWrapping:Kp,ClampToEdgeWrapping:zn,MirroredRepeatWrapping:Jp},QI={NearestFilter:oi,NearestMipmapNearestFilter:Ny,NearestMipmapLinearFilter:hp,LinearFilter:cn,LinearMipmapNearestFilter:oA,LinearMipmapLinearFilter:Bl};class Q$ extends Rr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=dc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){dc.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let K0;class VA{static getContext(){return K0===void 0&&(K0=new(window.AudioContext||window.webkitAudioContext)),K0}static setContext(e){K0=e}}class eK extends Rr{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new gs(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);VA.getContext().decodeAudioData(u,function(d){t(d)},a)}catch(u){a(u)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const e3=new zt,t3=new zt,du=new zt;class tK{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Fi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Fi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,du.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(Ku*t.fov*.5)/t.zoom;let a,l;t3.elements[12]=-r,e3.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,du.elements[0]=2*t.near/(l-a),du.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(du),a=-o*t.aspect-s,l=o*t.aspect-s,du.elements[0]=2*t.near/(l-a),du.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(du)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(t3),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(e3)}}class HA{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=n3(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=n3();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function n3(){return(typeof performance>"u"?Date:performance).now()}const pu=new j,i3=new Yr,nK=new j,mu=new j;class iK extends ln{constructor(){super(),this.type="AudioListener",this.context=VA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new HA}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(pu,i3,nK),mu.set(0,0,-1).applyQuaternion(i3),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(pu.x,r),t.positionY.linearRampToValueAtTime(pu.y,r),t.positionZ.linearRampToValueAtTime(pu.z,r),t.forwardX.linearRampToValueAtTime(mu.x,r),t.forwardY.linearRampToValueAtTime(mu.y,r),t.forwardZ.linearRampToValueAtTime(mu.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(pu.x,pu.y,pu.z),t.setOrientation(mu.x,mu.y,mu.z,i.x,i.y,i.z)}}class KF extends ln{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const gu=new j,r3=new Yr,rK=new j,vu=new j;class sK extends KF{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(gu,r3,rK),vu.set(0,0,1).applyQuaternion(r3);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(gu.x,i),t.positionY.linearRampToValueAtTime(gu.y,i),t.positionZ.linearRampToValueAtTime(gu.z,i),t.orientationX.linearRampToValueAtTime(vu.x,i),t.orientationY.linearRampToValueAtTime(vu.y,i),t.orientationZ.linearRampToValueAtTime(vu.z,i)}else t.setPosition(gu.x,gu.y,gu.z),t.setOrientation(vu.x,vu.y,vu.z)}}class oK{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class JF{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Yr.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Yr.multiplyQuaternionsFlat(e,o,e,t,e,i),Yr.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const GA="\\[\\]\\.:\\/",aK=new RegExp("["+GA+"]","g"),WA="[^"+GA+"]",lK="[^"+GA.replace("\\.","")+"]",uK=/((?:WC+[\/:])*)/.source.replace("WC",WA),cK=/(WCOD+)?/.source.replace("WCOD",lK),fK=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",WA),hK=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",WA),dK=new RegExp("^"+uK+cK+fK+hK+"$"),pK=["material","materials","bones","map"];class mK{constructor(e,t,i){const r=i||tn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class tn{constructor(e,t,i){this.path=t,this.parsedPath=i||tn.parseTrackName(t),this.node=tn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new tn.Composite(e,t,i):new tn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(aK,"")}static parseTrackName(e){const t=dK.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);pK.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=tn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let u=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===u){u=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[r];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}tn.Composite=mK;tn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};tn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};tn.prototype.GetterByBindingType=[tn.prototype._getValue_direct,tn.prototype._getValue_array,tn.prototype._getValue_arrayElement,tn.prototype._getValue_toArray];tn.prototype.SetterByBindingTypeAndVersioning=[[tn.prototype._setValue_direct,tn.prototype._setValue_direct_setNeedsUpdate,tn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[tn.prototype._setValue_array,tn.prototype._setValue_array_setNeedsUpdate,tn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[tn.prototype._setValue_arrayElement,tn.prototype._setValue_arrayElement_setNeedsUpdate,tn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[tn.prototype._setValue_fromArray,tn.prototype._setValue_fromArray_setNeedsUpdate,tn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class gK{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ms(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let f=0,d=arguments.length;f!==d;++f){const p=arguments[f],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let _=0,x=o;_!==x;++_)s[_].push(new tn(p,i[_],r[_]))}else if(v<u){a=e[v];const _=--u,x=e[_];t[x.uuid]=v,e[v]=x,t[m]=_,e[_]=p;for(let g=0,w=o;g!==w;++g){const S=s[g],E=S[_];let b=S[v];S[v]=E,b===void 0&&(b=new tn(p,i[g],r[g])),S[_]=b}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,f=t[u];if(f!==void 0&&f>=s){const d=s++,p=e[d];t[p.uuid]=f,e[f]=p,t[u]=d,e[d]=l;for(let m=0,v=r;m!==v;++m){const _=i[m],x=_[d],g=_[f];_[f]=x,_[d]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],f=u.uuid,d=t[f];if(d!==void 0)if(delete t[f],d<s){const p=--s,m=e[p],v=--o,_=e[v];t[m.uuid]=d,e[d]=m,t[_.uuid]=p,e[p]=_,e.pop();for(let x=0,g=r;x!==g;++x){const w=i[x],S=w[p],E=w[v];w[d]=S,w[p]=E,w.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let v=0,_=r;v!==_;++v){const x=i[v];x[d]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,f=this.nCachedObjects_,d=new Array(u);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(d);for(let p=f,m=l.length;p!==m;++p){const v=l[p];d[p]=new tn(v,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class QF{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:ku,endingEnd:ku};for(let u=0;u!==o;++u){const f=s[u].createInterpolant(null);a[u]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=IU,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+i,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case mA:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),u[f].accumulateAdditive(a);break;case x_:default:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),u[f].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===LU;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===RU){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Ou,r.endingEnd=Ou):(e?r.endingStart=this.zeroSlopeAtStart?Ou:ku:r.endingStart=tm,t?r.endingEnd=this.zeroSlopeAtEnd?Ou:ku:r.endingEnd=tm)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const vK=new Float32Array(1);class yK extends Ia{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,u=this._bindingsByRootAndName;let f=u[l];f===void 0&&(f={},u[l]=f);for(let d=0;d!==s;++d){const p=r[d],m=p.name;let v=f[m];if(v!==void 0)++v.referenceCount,o[d]=v;else{if(v=o[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const _=t&&t._propertyBindings[d].binding.parsedPath;v=new JF(tn.create(i,m,_),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[d]=v}a[d].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],f=e._byClipCacheIndex;u._byClipCacheIndex=f,l[f]=u,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new UA(new Float32Array(2),new Float32Array(2),1,vK),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?pm.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(i===void 0&&(o!==null?i=o.blendMode:i=x_),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const f=new QF(this,o,t,i);return this._bindAction(f,u),this._addInactiveAction(f,a,s),f}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?pm.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==i;++u)t[u]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const f=u._cacheIndex,d=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=f,t[f]=d,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class jA{constructor(e){this.value=e}clone(){return new jA(this.value.clone===void 0?this.value:this.value.clone())}}let _K=0;class xK extends Ia{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_K++}),this.name="",this.usage=sm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class wK extends C_{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class SK{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class XA{constructor(e,t,i=0,r=1/0){this.ray=new Ph(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Ju,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return lE(e,this,i,t),i.sort(s3),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)lE(e[r],this,i,t);return i.sort(s3),i}}function s3(n,e){return n.distance-e.distance}function lE(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)lE(r[s],e,t,!0)}}class MK{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Qn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class EK{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const o3=new Pe;class TK{constructor(e=new Pe(1/0,1/0),t=new Pe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=o3.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,o3).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const a3=new j,J0=new j;class AK{constructor(e=new j,t=new j){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){a3.subVectors(e,this.start),J0.subVectors(this.end,this.start);const i=J0.dot(J0);let s=J0.dot(a3)/i;return t&&(s=Qn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const l3=new j;class bK extends ln{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new qt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,f=a/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(f),Math.sin(f),1)}i.setAttribute("position",new gt(r,3));const s=new Pr({fog:!1,toneMapped:!1});this.cone=new Xo(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),l3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(l3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ya=new j,Q0=new zt,Pw=new zt;class CK extends Xo{constructor(e){const t=ez(e),i=new qt,r=[],s=[],o=new ut(0,0,1),a=new ut(0,1,0);for(let u=0;u<t.length;u++){const f=t[u];f.parent&&f.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new gt(r,3)),i.setAttribute("color",new gt(s,3));const l=new Pr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");Pw.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Q0.multiplyMatrices(Pw,a.matrixWorld),Ya.setFromMatrixPosition(Q0),r.setXYZ(o,Ya.x,Ya.y,Ya.z),Q0.multiplyMatrices(Pw,a.parent.matrixWorld),Ya.setFromMatrixPosition(Q0),r.setXYZ(o+1,Ya.x,Ya.y,Ya.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function ez(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,ez(n.children[t]));return e}class PK extends yi{constructor(e,t,i){const r=new Bm(t,4,2),s=new La({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const RK=new j,u3=new ut,c3=new ut;class IK extends ln{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new zm(t);r.rotateY(Math.PI*.5),this.material=new La({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new En(o,3)),this.add(new yi(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");u3.copy(this.light.color),c3.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?u3:c3;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(RK.setFromMatrixPosition(this.light.matrixWorld).negate())}}class LK extends Xo{constructor(e=10,t=10,i=4473924,r=8947848){i=new ut(i),r=new ut(r);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const _=p===s?i:r;_.toArray(u,m),m+=3,_.toArray(u,m),m+=3,_.toArray(u,m),m+=3,_.toArray(u,m),m+=3}const f=new qt;f.setAttribute("position",new gt(l,3)),f.setAttribute("color",new gt(u,3));const d=new Pr({vertexColors:!0,toneMapped:!1});super(f,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class NK extends Xo{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new ut(s),o=new ut(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const _=d&1?s:o;l.push(_.r,_.g,_.b),l.push(_.r,_.g,_.b)}for(let d=0;d<i;d++){const p=d&1?s:o,m=e-e/i*d;for(let v=0;v<r;v++){let _=v/r*(Math.PI*2),x=Math.sin(_)*m,g=Math.cos(_)*m;a.push(x,0,g),l.push(p.r,p.g,p.b),_=(v+1)/r*(Math.PI*2),x=Math.sin(_)*m,g=Math.cos(_)*m,a.push(x,0,g),l.push(p.r,p.g,p.b)}}const u=new qt;u.setAttribute("position",new gt(a,3)),u.setAttribute("color",new gt(l,3));const f=new Pr({vertexColors:!0,toneMapped:!1});super(u,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const f3=new j,ev=new j,h3=new j;class DK extends ln{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new qt;r.setAttribute("position",new gt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Pr({fog:!1,toneMapped:!1});this.lightPlane=new Vl(r,s),this.add(this.lightPlane),r=new qt,r.setAttribute("position",new gt([0,0,0,0,0,1],3)),this.targetLine=new Vl(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),f3.setFromMatrixPosition(this.light.matrixWorld),ev.setFromMatrixPosition(this.light.target.matrixWorld),h3.subVectors(ev,f3),this.lightPlane.lookAt(ev),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ev),this.targetLine.scale.z=h3.length()}}const tv=new j,Kn=new Dm;class kK extends Xo{constructor(e){const t=new qt,i=new Pr({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,_){l(v),l(_)}function l(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}t.setAttribute("position",new gt(r,3)),t.setAttribute("color",new gt(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new ut(16755200),f=new ut(16711680),d=new ut(43775),p=new ut(16777215),m=new ut(3355443);this.setColors(u,f,d,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Kn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ri("c",t,e,Kn,0,0,-1),ri("t",t,e,Kn,0,0,1),ri("n1",t,e,Kn,-i,-r,-1),ri("n2",t,e,Kn,i,-r,-1),ri("n3",t,e,Kn,-i,r,-1),ri("n4",t,e,Kn,i,r,-1),ri("f1",t,e,Kn,-i,-r,1),ri("f2",t,e,Kn,i,-r,1),ri("f3",t,e,Kn,-i,r,1),ri("f4",t,e,Kn,i,r,1),ri("u1",t,e,Kn,i*.7,r*1.1,-1),ri("u2",t,e,Kn,-i*.7,r*1.1,-1),ri("u3",t,e,Kn,0,r*2,-1),ri("cf1",t,e,Kn,-i,0,1),ri("cf2",t,e,Kn,i,0,1),ri("cf3",t,e,Kn,0,-r,1),ri("cf4",t,e,Kn,0,r,1),ri("cn1",t,e,Kn,-i,0,-1),ri("cn2",t,e,Kn,i,0,-1),ri("cn3",t,e,Kn,0,-r,-1),ri("cn4",t,e,Kn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ri(n,e,t,i,r,s,o){tv.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,f=a.length;u<f;u++)l.setXYZ(a[u],tv.x,tv.y,tv.z)}}const nv=new jo;class OK extends Xo{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new qt;s.setIndex(new En(i,1)),s.setAttribute("position",new En(r,3)),super(s,new Pr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&nv.setFromObject(this.object),nv.isEmpty())return;const t=nv.min,i=nv.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class UK extends Xo{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new qt;s.setIndex(new En(i,1)),s.setAttribute("position",new gt(r,3)),super(s,new Pr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class FK extends Vl{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new qt;o.setAttribute("position",new gt(s,3)),o.computeBoundingSphere(),super(o,new Pr({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new qt;l.setAttribute("position",new gt(a,3)),l.computeBoundingSphere(),this.add(new yi(l,new La({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const d3=new j;let iv,Rw;class zK extends ln{constructor(e=new j(0,0,1),t=new j(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",iv===void 0&&(iv=new qt,iv.setAttribute("position",new gt([0,0,0,0,1,0],3)),Rw=new Lh(0,.5,1,5,1),Rw.translate(0,-.5,0)),this.position.copy(t),this.line=new Vl(iv,new Pr({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new yi(Rw,new La({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{d3.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(d3,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class BK extends Xo{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new qt;r.setAttribute("position",new gt(t,3)),r.setAttribute("color",new gt(i,3));const s=new Pr({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new ut,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class VK{constructor(){this.type="ShapePath",this.color=new ut,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new lm,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const w=[];for(let S=0,E=g.length;S<E;S++){const b=g[S],P=new ec;P.curves=b.curves,w.push(P)}return w}function i(g,w){const S=w.length;let E=!1;for(let b=S-1,P=0;P<S;b=P++){let R=w[b],I=w[P],C=I.x-R.x,L=I.y-R.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(R=w[P],C=-C,I=w[b],L=-L),g.y<R.y||g.y>I.y)continue;if(g.y===R.y){if(g.x===R.x)return!0}else{const B=L*(g.x-R.x)-C*(g.y-R.y);if(B===0)return!0;if(B<0)continue;E=!E}}else{if(g.y!==R.y)continue;if(I.x<=g.x&&g.x<=R.x||R.x<=g.x&&g.x<=I.x)return!0}}return E}const r=Ho.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new ec,l.curves=a.curves,u.push(l),u;let f=!r(s[0].getPoints());f=e?!f:f;const d=[],p=[];let m=[],v=0,_;p[v]=void 0,m[v]=[];for(let g=0,w=s.length;g<w;g++)a=s[g],_=a.getPoints(),o=r(_),o=e?!o:o,o?(!f&&p[v]&&v++,p[v]={s:new ec,p:_},p[v].s.curves=a.curves,f&&v++,m[v]=[]):m[v].push({h:a,p:_[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,w=0;for(let S=0,E=p.length;S<E;S++)d[S]=[];for(let S=0,E=p.length;S<E;S++){const b=m[S];for(let P=0;P<b.length;P++){const R=b[P];let I=!0;for(let C=0;C<p.length;C++)i(R.p,p[C].p)&&(S!==C&&w++,I?(I=!1,d[C].push(R)):g=!0);I&&d[S].push(R)}}w>0&&g===!1&&(m=d)}let x;for(let g=0,w=p.length;g<w;g++){l=p[g].s,u.push(l),x=m[g];for(let S=0,E=x.length;S<E;S++)l.holes.push(x[S].h)}return u}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Rm}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Rm);const HK=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:sA,AddEquation:bu,AddOperation:_U,AdditiveAnimationBlendMode:mA,AdditiveBlending:SM,AlphaFormat:EU,AlwaysCompare:WU,AlwaysDepth:hU,AlwaysStencilFunc:OU,AmbientLight:jF,AnimationAction:QF,AnimationClip:pm,AnimationLoader:j$,AnimationMixer:yK,AnimationObjectGroup:gK,AnimationUtils:V$,ArcCurve:mF,ArrayCamera:sF,ArrowHelper:zK,Audio:KF,AudioAnalyser:oK,AudioContext:VA,AudioListener:iK,AudioLoader:eK,AxesHelper:BK,BackSide:Ar,BasicDepthPacking:NU,BasicShadowMap:JO,Bone:bA,BooleanKeyframeTrack:Ec,Box2:TK,Box3:jo,Box3Helper:UK,BoxGeometry:Sc,BoxHelper:OK,BufferAttribute:En,BufferGeometry:qt,BufferGeometryLoader:$F,ByteType:aA,Cache:dc,Camera:Dm,CameraHelper:kK,CanvasTexture:f$,CapsuleGeometry:L_,CatmullRomCurve3:gF,CineonToneMapping:SU,CircleGeometry:N_,ClampToEdgeWrapping:zn,Clock:HA,Color:ut,ColorKeyframeTrack:FA,ColorManagement:mn,CompressedArrayTexture:u$,CompressedCubeTexture:c$,CompressedTexture:R_,CompressedTextureLoader:X$,ConeGeometry:D_,CubeCamera:JU,CubeReflectionMapping:Wo,CubeRefractionMapping:zl,CubeTexture:km,CubeTextureLoader:BF,CubeUVReflectionMapping:Ch,CubicBezierCurve:RA,CubicBezierCurve3:vF,CubicInterpolant:OF,CullFaceBack:wM,CullFaceFront:KO,CullFaceFrontBack:c9,CullFaceNone:$O,Curve:mo,CurvePath:_F,CustomBlending:QO,CustomToneMapping:MU,CylinderGeometry:Lh,Cylindrical:EK,Data3DTexture:_A,DataArrayTexture:S_,DataTexture:Qu,DataTextureLoader:zA,DataUtils:Fu,DecrementStencilOp:w9,DecrementWrapStencilOp:M9,DefaultLoadingManager:zF,DepthFormat:Pl,DepthStencilFormat:cc,DepthTexture:oF,DirectionalLight:WF,DirectionalLightHelper:DK,DiscreteInterpolant:UF,DisplayP3ColorSpace:w_,DodecahedronGeometry:k_,DoubleSide:uo,DstAlphaFactor:oU,DstColorFactor:lU,DynamicCopyUsage:F9,DynamicDrawUsage:L9,DynamicReadUsage:k9,EdgesGeometry:xF,EllipseCurve:I_,EqualCompare:zU,EqualDepth:pU,EqualStencilFunc:b9,EquirectangularReflectionMapping:yh,EquirectangularRefractionMapping:$p,Euler:Nm,EventDispatcher:Ia,ExtrudeGeometry:U_,FileLoader:gs,Float16BufferAttribute:M7,Float32BufferAttribute:gt,Float64BufferAttribute:E7,FloatType:bi,Fog:b_,FogExp2:A_,FramebufferTexture:l$,FrontSide:Pa,Frustum:M_,GLBufferAttribute:SK,GLSL1:B9,GLSL3:QM,GreaterCompare:VU,GreaterDepth:gU,GreaterEqualCompare:GU,GreaterEqualDepth:mU,GreaterEqualStencilFunc:I9,GreaterStencilFunc:P9,GridHelper:LK,Group:zf,HalfFloatType:zi,HemisphereLight:VF,HemisphereLightHelper:IK,IcosahedronGeometry:Fm,ImageBitmapLoader:Q$,ImageLoader:mm,ImageUtils:yA,IncrementStencilOp:x9,IncrementWrapStencilOp:S9,InstancedBufferAttribute:wh,InstancedBufferGeometry:ZF,InstancedInterleavedBuffer:wK,InstancedMesh:hF,Int16BufferAttribute:w7,Int32BufferAttribute:S7,Int8BufferAttribute:y7,IntType:__,InterleavedBuffer:C_,InterleavedBufferAttribute:fc,Interpolant:Vm,InterpolateDiscrete:Qp,InterpolateLinear:em,InterpolateSmooth:Ov,InvertStencilOp:E9,KeepStencilOp:Uv,KeyframeTrack:go,LOD:cF,LatheGeometry:Um,Layers:Ju,LessCompare:FU,LessDepth:dU,LessEqualCompare:BU,LessEqualDepth:Ly,LessEqualStencilFunc:C9,LessStencilFunc:A9,Light:$l,LightProbe:qF,Line:Vl,Line3:AK,LineBasicMaterial:Pr,LineCurve:IA,LineCurve3:yF,LineDashedMaterial:NF,LineLoop:dF,LineSegments:Xo,LinearDisplayP3ColorSpace:Lm,LinearEncoding:gA,LinearFilter:cn,LinearInterpolant:UA,LinearMipMapLinearFilter:bM,LinearMipMapNearestFilter:p9,LinearMipmapLinearFilter:Bl,LinearMipmapNearestFilter:oA,LinearSRGBColorSpace:ws,LinearToneMapping:xU,LinearTransfer:nm,Loader:Rr,LoaderUtils:aE,LoadingManager:W_,LoopOnce:RU,LoopPingPong:LU,LoopRepeat:IU,LuminanceAlphaFormat:AU,LuminanceFormat:TU,MOUSE:l9,Material:cr,MaterialLoader:j_,MathUtils:e7,Matrix3:Wt,Matrix4:zt,MaxEquation:AM,Mesh:yi,MeshBasicMaterial:La,MeshDepthMaterial:EA,MeshDistanceMaterial:TA,MeshLambertMaterial:IF,MeshMatcapMaterial:LF,MeshNormalMaterial:RF,MeshPhongMaterial:CF,MeshPhysicalMaterial:bF,MeshStandardMaterial:kA,MeshToonMaterial:PF,MinEquation:TM,MirroredRepeatWrapping:Jp,MixOperation:yU,MultiplyBlending:EM,MultiplyOperation:Im,NearestFilter:oi,NearestMipMapLinearFilter:d9,NearestMipMapNearestFilter:h9,NearestMipmapLinearFilter:hp,NearestMipmapNearestFilter:Ny,NeverCompare:UU,NeverDepth:fU,NeverStencilFunc:T9,NoBlending:Bo,NoColorSpace:us,NoToneMapping:Vo,NormalAnimationBlendMode:x_,NormalBlending:$u,NotEqualCompare:HU,NotEqualDepth:vU,NotEqualStencilFunc:R9,NumberKeyframeTrack:hm,Object3D:ln,ObjectLoader:K$,ObjectSpaceNormalMap:kU,OctahedronGeometry:zm,OneFactor:iU,OneMinusDstAlphaFactor:aU,OneMinusDstColorFactor:uU,OneMinusSrcAlphaFactor:rA,OneMinusSrcColorFactor:sU,OrthographicCamera:Rh,P3Primaries:rm,PCFShadowMap:v_,PCFSoftShadowMap:fp,PMREMGenerator:tE,Path:lm,PerspectiveCamera:Fi,Plane:tl,PlaneGeometry:Mc,PlaneHelper:FK,PointLight:GF,PointLightHelper:PK,Points:pF,PointsMaterial:CA,PolarGridHelper:NK,PolyhedronGeometry:Zl,PositionalAudio:sK,PropertyBinding:tn,PropertyMixer:JF,QuadraticBezierCurve:LA,QuadraticBezierCurve3:NA,Quaternion:Yr,QuaternionKeyframeTrack:Nh,QuaternionLinearInterpolant:FF,RED_GREEN_RGTC2_Format:KM,RED_RGTC1_Format:PU,REVISION:Rm,RGBADepthPacking:DU,RGBAFormat:Ti,RGBAIntegerFormat:pA,RGBA_ASTC_10x10_Format:jM,RGBA_ASTC_10x5_Format:HM,RGBA_ASTC_10x6_Format:GM,RGBA_ASTC_10x8_Format:WM,RGBA_ASTC_12x10_Format:XM,RGBA_ASTC_12x12_Format:YM,RGBA_ASTC_4x4_Format:DM,RGBA_ASTC_5x4_Format:kM,RGBA_ASTC_5x5_Format:OM,RGBA_ASTC_6x5_Format:UM,RGBA_ASTC_6x6_Format:FM,RGBA_ASTC_8x5_Format:zM,RGBA_ASTC_8x6_Format:BM,RGBA_ASTC_8x8_Format:VM,RGBA_BPTC_Format:kv,RGBA_ETC2_EAC_Format:NM,RGBA_PVRTC_2BPPV1_Format:IM,RGBA_PVRTC_4BPPV1_Format:RM,RGBA_S3TC_DXT1_Format:Lv,RGBA_S3TC_DXT3_Format:Nv,RGBA_S3TC_DXT5_Format:Dv,RGB_BPTC_SIGNED_Format:qM,RGB_BPTC_UNSIGNED_Format:ZM,RGB_ETC1_Format:CU,RGB_ETC2_Format:LM,RGB_PVRTC_2BPPV1_Format:PM,RGB_PVRTC_4BPPV1_Format:CM,RGB_S3TC_DXT1_Format:Iv,RGFormat:bU,RGIntegerFormat:dA,RawShaderMaterial:AF,Ray:Ph,Raycaster:XA,Rec709Primaries:im,RectAreaLight:XF,RedFormat:fA,RedIntegerFormat:hA,ReinhardToneMapping:wU,RenderTarget:qU,RepeatWrapping:Kp,ReplaceStencilOp:_9,ReverseSubtractEquation:tU,RingGeometry:F_,SIGNED_RED_GREEN_RGTC2_Format:JM,SIGNED_RED_RGTC1_Format:$M,SRGBColorSpace:gi,SRGBTransfer:bn,Scene:Om,ShaderChunk:Bt,ShaderLib:lo,ShaderMaterial:Ms,ShadowMaterial:TF,Shape:ec,ShapeGeometry:z_,ShapePath:VK,ShapeUtils:Ho,ShortType:lA,Skeleton:P_,SkeletonHelper:CK,SkinnedMesh:fF,Source:Uu,Sphere:po,SphereGeometry:Bm,Spherical:MK,SphericalHarmonics3:YF,SplineCurve:DA,SpotLight:HF,SpotLightHelper:bK,Sprite:uF,SpriteMaterial:AA,SrcAlphaFactor:iA,SrcAlphaSaturateFactor:cU,SrcColorFactor:rU,StaticCopyUsage:U9,StaticDrawUsage:sm,StaticReadUsage:D9,StereoCamera:tK,StreamCopyUsage:z9,StreamDrawUsage:N9,StreamReadUsage:O9,StringKeyframeTrack:Tc,SubtractEquation:eU,SubtractiveBlending:MM,TOUCH:u9,TangentSpaceNormalMap:ql,TetrahedronGeometry:B_,Texture:Mn,TextureLoader:Y$,TorusGeometry:V_,TorusKnotGeometry:H_,Triangle:Ur,TriangleFanDrawMode:v9,TriangleStripDrawMode:g9,TrianglesDrawMode:m9,TubeGeometry:G_,TwoPassDoubleSide:f9,UVMapping:Fl,Uint16BufferAttribute:xA,Uint32BufferAttribute:wA,Uint8BufferAttribute:_7,Uint8ClampedBufferAttribute:x7,Uniform:jA,UniformsGroup:xK,UniformsLib:$e,UniformsUtils:KU,UnsignedByteType:ps,UnsignedInt248Type:Cl,UnsignedIntType:No,UnsignedShort4444Type:uA,UnsignedShort5551Type:cA,UnsignedShortType:y_,VSMShadowMap:ro,Vector2:Pe,Vector3:j,Vector4:gn,VectorKeyframeTrack:dm,VideoTexture:a$,WebGL1Renderer:aF,WebGL3DRenderTarget:o7,WebGLArrayRenderTarget:s7,WebGLCoordinateSystem:Do,WebGLCubeRenderTarget:SA,WebGLMultipleRenderTargets:a7,WebGLRenderTarget:Ss,WebGLRenderer:T_,WebGLUtils:rF,WebGPUCoordinateSystem:om,WireframeGeometry:EF,WrapAroundEnding:tm,ZeroCurvatureEnding:ku,ZeroFactor:nU,ZeroSlopeEnding:Ou,ZeroStencilOp:y9,_SRGBAFormat:Dy,createCanvasElement:YU,sRGBEncoding:Rl},Symbol.toStringTag,{value:"Module"}));var tz={exports:{}},Ac={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ac.ConcurrentRoot=1;Ac.ContinuousEventPriority=4;Ac.DefaultEventPriority=16;Ac.DiscreteEventPriority=1;Ac.IdleEventPriority=536870912;Ac.LegacyRoot=0;tz.exports=Ac;var Vf=tz.exports;function GK(n){let e;const t=new Set,i=(u,f)=>{const d=typeof u=="function"?u(e):u;if(d!==e){const p=e;e=f?d:Object.assign({},e,d),t.forEach(m=>m(e,p))}},r=()=>e,s=(u,f=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=f(e);function m(){const v=f(e);if(!d(p,v)){const _=p;u(p=v,_)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(u,f,d)=>f||d?s(u,f,d):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(i,r,l),l}const WK=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),p3=WK?K.useEffect:K.useLayoutEffect;function nz(n){const e=typeof n=="function"?GK(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=K.useReducer(x=>x+1,0),o=e.getState(),a=K.useRef(o),l=K.useRef(i),u=K.useRef(r),f=K.useRef(!1),d=K.useRef();d.current===void 0&&(d.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||u.current!==r||f.current)&&(p=i(o),m=!r(d.current,p)),p3(()=>{m&&(d.current=p),a.current=o,l.current=i,u.current=r,f.current=!1});const v=K.useRef(o);p3(()=>{const x=()=>{try{const w=e.getState(),S=l.current(w);u.current(d.current,S)||(a.current=w,d.current=S,s())}catch{f.current=!0,s()}},g=e.subscribe(x);return e.getState()!==v.current&&x(),g},[]);const _=m?p:d.current;return K.useDebugValue(_),_};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}const jK=n=>typeof n=="object"&&typeof n.then=="function",Bu=[];function iz(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function rz(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of Bu)if(iz(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=Bu.indexOf(r);s!==-1&&Bu.splice(s,1)},promise:(jK(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(Bu.push(r),!t)throw r.promise}const XK=(n,e,t)=>rz(n,e,!1,t),YK=(n,e,t)=>void rz(n,e,!0,t),qK=n=>{if(n===void 0||n.length===0)Bu.splice(0,Bu.length);else{const e=Bu.find(t=>iz(n,t.keys,t.equal));e&&e.remove()}};var sz={exports:{}},oz={exports:{}},az={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(X,Q){var k=X.length;X.push(Q);e:for(;0<k;){var G=k-1>>>1,te=X[G];if(0<r(te,Q))X[G]=Q,X[k]=te,k=G;else break e}}function t(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var Q=X[0],k=X.pop();if(k!==Q){X[0]=k;e:for(var G=0,te=X.length,me=te>>>1;G<me;){var xe=2*(G+1)-1,Ce=X[xe],Ee=xe+1,De=X[Ee];if(0>r(Ce,k))Ee<te&&0>r(De,Ce)?(X[G]=De,X[Ee]=k,G=Ee):(X[G]=Ce,X[xe]=k,G=xe);else if(Ee<te&&0>r(De,k))X[G]=De,X[Ee]=k,G=Ee;else break e}}return Q}function r(X,Q){var k=X.sortIndex-Q.sortIndex;return k!==0?k:X.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,d=null,p=3,m=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(X){for(var Q=t(u);Q!==null;){if(Q.callback===null)i(u);else if(Q.startTime<=X)i(u),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=t(u)}}function E(X){if(_=!1,S(X),!v)if(t(l)!==null)v=!0,ee(b);else{var Q=t(u);Q!==null&&re(E,Q.startTime-X)}}function b(X,Q){v=!1,_&&(_=!1,g(I),I=-1),m=!0;var k=p;try{for(S(Q),d=t(l);d!==null&&(!(d.expirationTime>Q)||X&&!B());){var G=d.callback;if(typeof G=="function"){d.callback=null,p=d.priorityLevel;var te=G(d.expirationTime<=Q);Q=n.unstable_now(),typeof te=="function"?d.callback=te:d===t(l)&&i(l),S(Q)}else i(l);d=t(l)}if(d!==null)var me=!0;else{var xe=t(u);xe!==null&&re(E,xe.startTime-Q),me=!1}return me}finally{d=null,p=k,m=!1}}var P=!1,R=null,I=-1,C=5,L=-1;function B(){return!(n.unstable_now()-L<C)}function W(){if(R!==null){var X=n.unstable_now();L=X;var Q=!0;try{Q=R(!0,X)}finally{Q?ie():(P=!1,R=null)}}else P=!1}var ie;if(typeof w=="function")ie=function(){w(W)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ne=z.port2;z.port1.onmessage=W,ie=function(){ne.postMessage(null)}}else ie=function(){x(W,0)};function ee(X){R=X,P||(P=!0,ie())}function re(X,Q){I=x(function(){X(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ee(b))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(X){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var k=p;p=Q;try{return X()}finally{p=k}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,Q){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var k=p;p=X;try{return Q()}finally{p=k}},n.unstable_scheduleCallback=function(X,Q,k){var G=n.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?G+k:G):k=G,X){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=k+te,X={id:f++,callback:Q,priorityLevel:X,startTime:k,expirationTime:te,sortIndex:-1},k>G?(X.sortIndex=k,e(u,X),t(l)===null&&X===t(u)&&(_?(g(I),I=-1):_=!0,re(E,k-G))):(X.sortIndex=te,e(l,X),v||m||(v=!0,ee(b))),X},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(X){var Q=p;return function(){var k=p;p=Q;try{return X.apply(this,arguments)}finally{p=k}}}})(az);oz.exports=az;var uE=oz.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZK=function(e){var t={},i=K,r=uE,s=Object.assign;function o(c){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+c,y=1;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),b=Symbol.iterator;function P(c){return c===null||typeof c!="object"?null:(c=b&&c[b]||c["@@iterator"],typeof c=="function"?c:null)}function R(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case f:return"Fragment";case u:return"Portal";case p:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case g:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case v:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case _:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case w:return h=c.displayName||null,h!==null?h:R(c.type)||"Memo";case S:h=c._payload,c=c._init;try{return R(c(h))}catch{}}return null}function I(c){var h=c.type;switch(c.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=h.render,c=c.displayName||c.name||"",h.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(h);case 8:return h===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function C(c){var h=c,y=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,h.flags&4098&&(y=h.return),c=h.return;while(c)}return h.tag===3?y:null}function L(c){if(C(c)!==c)throw Error(o(188))}function B(c){var h=c.alternate;if(!h){if(h=C(c),h===null)throw Error(o(188));return h!==c?null:c}for(var y=c,M=h;;){var T=y.return;if(T===null)break;var N=T.alternate;if(N===null){if(M=T.return,M!==null){y=M;continue}break}if(T.child===N.child){for(N=T.child;N;){if(N===y)return L(T),c;if(N===M)return L(T),h;N=N.sibling}throw Error(o(188))}if(y.return!==M.return)y=T,M=N;else{for(var $=!1,oe=T.child;oe;){if(oe===y){$=!0,y=T,M=N;break}if(oe===M){$=!0,M=T,y=N;break}oe=oe.sibling}if(!$){for(oe=N.child;oe;){if(oe===y){$=!0,y=N,M=T;break}if(oe===M){$=!0,M=N,y=T;break}oe=oe.sibling}if(!$)throw Error(o(189))}}if(y.alternate!==M)throw Error(o(190))}if(y.tag!==3)throw Error(o(188));return y.stateNode.current===y?c:h}function W(c){return c=B(c),c!==null?ie(c):null}function ie(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var h=ie(c);if(h!==null)return h;c=c.sibling}return null}function z(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var h=z(c);if(h!==null)return h}c=c.sibling}return null}var ne=Array.isArray,ee=e.getPublicInstance,re=e.getRootHostContext,X=e.getChildHostContext,Q=e.prepareForCommit,k=e.resetAfterCommit,G=e.createInstance,te=e.appendInitialChild,me=e.finalizeInitialChildren,xe=e.prepareUpdate,Ce=e.shouldSetTextContent,Ee=e.createTextInstance,De=e.scheduleTimeout,We=e.cancelTimeout,_t=e.noTimeout,Nt=e.isPrimaryRenderer,Be=e.supportsMutation,J=e.supportsPersistence,_e=e.supportsHydration,ge=e.getInstanceFromNode,Re=e.preparePortalMount,Te=e.getCurrentEventPriority,se=e.detachDeletedInstance,He=e.supportsMicrotasks,Qe=e.scheduleMicrotask,vt=e.supportsTestSelectors,mt=e.findFiberRoot,Jt=e.getBoundingRect,q=e.getTextContent,F=e.isHiddenSubtree,ue=e.matchAccessibilityRole,Ne=e.setFocusIfFocusable,Me=e.setupIntersectionObserver,Ie=e.appendChild,Ke=e.appendChildToContainer,ke=e.commitTextUpdate,Ye=e.commitMount,it=e.commitUpdate,Dt=e.insertBefore,Ae=e.insertInContainerBefore,Ht=e.removeChild,xt=e.removeChildFromContainer,rt=e.resetTextContent,Je=e.hideInstance,Z=e.hideTextInstance,fe=e.unhideInstance,Le=e.unhideTextInstance,Xe=e.clearContainer,Ve=e.cloneInstance,be=e.createContainerChildSet,ot=e.appendChildToContainerChildSet,Et=e.finalizeContainerChildren,Tn=e.replaceContainerChildren,tt=e.cloneHiddenInstance,ct=e.cloneHiddenTextInstance,Pt=e.canHydrateInstance,qe=e.canHydrateTextInstance,Rt=e.canHydrateSuspenseInstance,dt=e.isSuspenseInstancePending,Tt=e.isSuspenseInstanceFallback,pn=e.registerSuspenseInstanceRetry,bt=e.getNextHydratableSibling,pt=e.getFirstHydratableChild,Bn=e.getFirstHydratableChildWithinContainer,yn=e.getFirstHydratableChildWithinSuspenseInstance,D=e.hydrateInstance,A=e.hydrateTextInstance,U=e.hydrateSuspenseInstance,V=e.getNextHydratableInstanceAfterSuspenseInstance,H=e.commitHydratedContainer,Y=e.commitHydratedSuspenseInstance,le=e.clearSuspenseBoundary,ce=e.clearSuspenseBoundaryFromContainer,pe=e.shouldDeleteUnhydratedTailInstances,ve=e.didNotMatchHydratedContainerTextInstance,Se=e.didNotMatchHydratedTextInstance,de;function Fe(c){if(de===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);de=h&&h[1]||""}return`
`+de+c}var Oe=!1;function Ge(c,h){if(!c||Oe)return"";Oe=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(ze){var M=ze}Reflect.construct(c,[],h)}else{try{h.call()}catch(ze){M=ze}c.call(h.prototype)}else{try{throw Error()}catch(ze){M=ze}c()}}catch(ze){if(ze&&M&&typeof ze.stack=="string"){for(var T=ze.stack.split(`
`),N=M.stack.split(`
`),$=T.length-1,oe=N.length-1;1<=$&&0<=oe&&T[$]!==N[oe];)oe--;for(;1<=$&&0<=oe;$--,oe--)if(T[$]!==N[oe]){if($!==1||oe!==1)do if($--,oe--,0>oe||T[$]!==N[oe]){var we=`
`+T[$].replace(" at new "," at ");return c.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",c.displayName)),we}while(1<=$&&0<=oe);break}}}finally{Oe=!1,Error.prepareStackTrace=y}return(c=c?c.displayName||c.name:"")?Fe(c):""}var yt=Object.prototype.hasOwnProperty,wt=[],at=-1;function Ze(c){return{current:c}}function At(c){0>at||(c.current=wt[at],wt[at]=null,at--)}function st(c,h){at++,wt[at]=c.current,c.current=h}var Ot={},fn=Ze(Ot),Lt=Ze(!1),hn=Ot;function rn(c,h){var y=c.type.contextTypes;if(!y)return Ot;var M=c.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===h)return M.__reactInternalMemoizedMaskedChildContext;var T={},N;for(N in y)T[N]=h[N];return M&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=h,c.__reactInternalMemoizedMaskedChildContext=T),T}function _n(c){return c=c.childContextTypes,c!=null}function ni(){At(Lt),At(fn)}function kt(c,h,y){if(fn.current!==Ot)throw Error(o(168));st(fn,h),st(Lt,y)}function Vn(c,h,y){var M=c.stateNode;if(h=h.childContextTypes,typeof M.getChildContext!="function")return y;M=M.getChildContext();for(var T in M)if(!(T in h))throw Error(o(108,I(c)||"Unknown",T));return s({},y,M)}function un(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Ot,hn=fn.current,st(fn,c),st(Lt,Lt.current),!0}function Qt(c,h,y){var M=c.stateNode;if(!M)throw Error(o(169));y?(c=Vn(c,h,hn),M.__reactInternalMemoizedMergedChildContext=c,At(Lt),At(fn),st(fn,c)):At(Lt),st(Lt,y)}var kn=Math.clz32?Math.clz32:vo,Yo=Math.log,fr=Math.LN2;function vo(c){return c>>>=0,c===0?32:31-(Yo(c)/fr|0)|0}var Wm=64,jm=4194304;function Dh(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Xm(c,h){var y=c.pendingLanes;if(y===0)return 0;var M=0,T=c.suspendedLanes,N=c.pingedLanes,$=y&268435455;if($!==0){var oe=$&~T;oe!==0?M=Dh(oe):(N&=$,N!==0&&(M=Dh(N)))}else $=y&~T,$!==0?M=Dh($):N!==0&&(M=Dh(N));if(M===0)return 0;if(h!==0&&h!==M&&!(h&T)&&(T=M&-M,N=h&-h,T>=N||T===16&&(N&4194240)!==0))return h;if(M&4&&(M|=y&16),h=c.entangledLanes,h!==0)for(c=c.entanglements,h&=M;0<h;)y=31-kn(h),T=1<<y,M|=c[y],h&=~T;return M}function Xz(c,h){switch(c){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yz(c,h){for(var y=c.suspendedLanes,M=c.pingedLanes,T=c.expirationTimes,N=c.pendingLanes;0<N;){var $=31-kn(N),oe=1<<$,we=T[$];we===-1?(!(oe&y)||oe&M)&&(T[$]=Xz(oe,h)):we<=h&&(c.expiredLanes|=oe),N&=~oe}}function Y_(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function q_(c){for(var h=[],y=0;31>y;y++)h.push(c);return h}function kh(c,h,y){c.pendingLanes|=h,h!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,h=31-kn(h),c[h]=y}function qz(c,h){var y=c.pendingLanes&~h;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=h,c.mutableReadLanes&=h,c.entangledLanes&=h,h=c.entanglements;var M=c.eventTimes;for(c=c.expirationTimes;0<y;){var T=31-kn(y),N=1<<T;h[T]=0,M[T]=-1,c[T]=-1,y&=~N}}function Z_(c,h){var y=c.entangledLanes|=h;for(c=c.entanglements;y;){var M=31-kn(y),T=1<<M;T&h|c[M]&h&&(c[M]|=h),y&=~T}}var sn=0;function ob(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var $_=r.unstable_scheduleCallback,ab=r.unstable_cancelCallback,Zz=r.unstable_shouldYield,$z=r.unstable_requestPaint,Ri=r.unstable_now,K_=r.unstable_ImmediatePriority,Kz=r.unstable_UserBlockingPriority,J_=r.unstable_NormalPriority,Jz=r.unstable_IdlePriority,Ym=null,yo=null;function Qz(c){if(yo&&typeof yo.onCommitFiberRoot=="function")try{yo.onCommitFiberRoot(Ym,c,void 0,(c.current.flags&128)===128)}catch{}}function eB(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var _o=typeof Object.is=="function"?Object.is:eB,qo=null,qm=!1,Q_=!1;function lb(c){qo===null?qo=[c]:qo.push(c)}function tB(c){qm=!0,lb(c)}function xo(){if(!Q_&&qo!==null){Q_=!0;var c=0,h=sn;try{var y=qo;for(sn=1;c<y.length;c++){var M=y[c];do M=M(!0);while(M!==null)}qo=null,qm=!1}catch(T){throw qo!==null&&(qo=qo.slice(c+1)),$_(K_,xo),T}finally{sn=h,Q_=!1}}return null}var nB=a.ReactCurrentBatchConfig;function Zm(c,h){if(_o(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var y=Object.keys(c),M=Object.keys(h);if(y.length!==M.length)return!1;for(M=0;M<y.length;M++){var T=y[M];if(!yt.call(h,T)||!_o(c[T],h[T]))return!1}return!0}function iB(c){switch(c.tag){case 5:return Fe(c.type);case 16:return Fe("Lazy");case 13:return Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 2:case 15:return c=Ge(c.type,!1),c;case 11:return c=Ge(c.type.render,!1),c;case 1:return c=Ge(c.type,!0),c;default:return""}}function $s(c,h){if(c&&c.defaultProps){h=s({},h),c=c.defaultProps;for(var y in c)h[y]===void 0&&(h[y]=c[y]);return h}return h}var $m=Ze(null),Km=null,Cc=null,ex=null;function tx(){ex=Cc=Km=null}function ub(c,h,y){Nt?(st($m,h._currentValue),h._currentValue=y):(st($m,h._currentValue2),h._currentValue2=y)}function nx(c){var h=$m.current;At($m),Nt?c._currentValue=h:c._currentValue2=h}function ix(c,h,y){for(;c!==null;){var M=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,M!==null&&(M.childLanes|=h)):M!==null&&(M.childLanes&h)!==h&&(M.childLanes|=h),c===y)break;c=c.return}}function Pc(c,h){Km=c,ex=Cc=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&h&&(Jr=!0),c.firstContext=null)}function As(c){var h=Nt?c._currentValue:c._currentValue2;if(ex!==c)if(c={context:c,memoizedValue:h,next:null},Cc===null){if(Km===null)throw Error(o(308));Cc=c,Km.dependencies={lanes:0,firstContext:c}}else Cc=Cc.next=c;return h}var wo=null,Na=!1;function rx(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cb(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Zo(c,h){return{eventTime:c,lane:h,tag:0,payload:null,callback:null,next:null}}function Da(c,h){var y=c.updateQueue;y!==null&&(y=y.shared,ui!==null&&c.mode&1&&!(jt&2)?(c=y.interleaved,c===null?(h.next=h,wo===null?wo=[y]:wo.push(y)):(h.next=c.next,c.next=h),y.interleaved=h):(c=y.pending,c===null?h.next=h:(h.next=c.next,c.next=h),y.pending=h))}function Jm(c,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194240)!==0)){var M=h.lanes;M&=c.pendingLanes,y|=M,h.lanes=y,Z_(c,y)}}function fb(c,h){var y=c.updateQueue,M=c.alternate;if(M!==null&&(M=M.updateQueue,y===M)){var T=null,N=null;if(y=y.firstBaseUpdate,y!==null){do{var $={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};N===null?T=N=$:N=N.next=$,y=y.next}while(y!==null);N===null?T=N=h:N=N.next=h}else T=N=h;y={baseState:M.baseState,firstBaseUpdate:T,lastBaseUpdate:N,shared:M.shared,effects:M.effects},c.updateQueue=y;return}c=y.lastBaseUpdate,c===null?y.firstBaseUpdate=h:c.next=h,y.lastBaseUpdate=h}function Qm(c,h,y,M){var T=c.updateQueue;Na=!1;var N=T.firstBaseUpdate,$=T.lastBaseUpdate,oe=T.shared.pending;if(oe!==null){T.shared.pending=null;var we=oe,ze=we.next;we.next=null,$===null?N=ze:$.next=ze,$=we;var ft=c.alternate;ft!==null&&(ft=ft.updateQueue,oe=ft.lastBaseUpdate,oe!==$&&(oe===null?ft.firstBaseUpdate=ze:oe.next=ze,ft.lastBaseUpdate=we))}if(N!==null){var Ut=T.baseState;$=0,ft=ze=we=null,oe=N;do{var Ct=oe.lane,xn=oe.eventTime;if((M&Ct)===Ct){ft!==null&&(ft=ft.next={eventTime:xn,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var Mt=c,Ki=oe;switch(Ct=h,xn=y,Ki.tag){case 1:if(Mt=Ki.payload,typeof Mt=="function"){Ut=Mt.call(xn,Ut,Ct);break e}Ut=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Ki.payload,Ct=typeof Mt=="function"?Mt.call(xn,Ut,Ct):Mt,Ct==null)break e;Ut=s({},Ut,Ct);break e;case 2:Na=!0}}oe.callback!==null&&oe.lane!==0&&(c.flags|=64,Ct=T.effects,Ct===null?T.effects=[oe]:Ct.push(oe))}else xn={eventTime:xn,lane:Ct,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},ft===null?(ze=ft=xn,we=Ut):ft=ft.next=xn,$|=Ct;if(oe=oe.next,oe===null){if(oe=T.shared.pending,oe===null)break;Ct=oe,oe=Ct.next,Ct.next=null,T.lastBaseUpdate=Ct,T.shared.pending=null}}while(1);if(ft===null&&(we=Ut),T.baseState=we,T.firstBaseUpdate=ze,T.lastBaseUpdate=ft,h=T.shared.interleaved,h!==null){T=h;do $|=T.lane,T=T.next;while(T!==h)}else N===null&&(T.shared.lanes=0);Fc|=$,c.lanes=$,c.memoizedState=Ut}}function hb(c,h,y){if(c=h.effects,h.effects=null,c!==null)for(h=0;h<c.length;h++){var M=c[h],T=M.callback;if(T!==null){if(M.callback=null,M=y,typeof T!="function")throw Error(o(191,T));T.call(M)}}}var db=new i.Component().refs;function sx(c,h,y,M){h=c.memoizedState,y=y(M,h),y=y==null?h:s({},h,y),c.memoizedState=y,c.lanes===0&&(c.updateQueue.baseState=y)}var eg={isMounted:function(c){return(c=c._reactInternals)?C(c)===c:!1},enqueueSetState:function(c,h,y){c=c._reactInternals;var M=dr(),T=Ua(c),N=Zo(M,T);N.payload=h,y!=null&&(N.callback=y),Da(c,N),h=Is(c,T,M),h!==null&&Jm(h,c,T)},enqueueReplaceState:function(c,h,y){c=c._reactInternals;var M=dr(),T=Ua(c),N=Zo(M,T);N.tag=1,N.payload=h,y!=null&&(N.callback=y),Da(c,N),h=Is(c,T,M),h!==null&&Jm(h,c,T)},enqueueForceUpdate:function(c,h){c=c._reactInternals;var y=dr(),M=Ua(c),T=Zo(y,M);T.tag=2,h!=null&&(T.callback=h),Da(c,T),h=Is(c,M,y),h!==null&&Jm(h,c,M)}};function pb(c,h,y,M,T,N,$){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(M,N,$):h.prototype&&h.prototype.isPureReactComponent?!Zm(y,M)||!Zm(T,N):!0}function mb(c,h,y){var M=!1,T=Ot,N=h.contextType;return typeof N=="object"&&N!==null?N=As(N):(T=_n(h)?hn:fn.current,M=h.contextTypes,N=(M=M!=null)?rn(c,T):Ot),h=new h(y,N),c.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=eg,c.stateNode=h,h._reactInternals=c,M&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=T,c.__reactInternalMemoizedMaskedChildContext=N),h}function gb(c,h,y,M){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,M),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,M),h.state!==c&&eg.enqueueReplaceState(h,h.state,null)}function ox(c,h,y,M){var T=c.stateNode;T.props=y,T.state=c.memoizedState,T.refs=db,rx(c);var N=h.contextType;typeof N=="object"&&N!==null?T.context=As(N):(N=_n(h)?hn:fn.current,T.context=rn(c,N)),T.state=c.memoizedState,N=h.getDerivedStateFromProps,typeof N=="function"&&(sx(c,h,N,y),T.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(h=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),h!==T.state&&eg.enqueueReplaceState(T,T.state,null),Qm(c,y,T,M),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308)}var Rc=[],Ic=0,tg=null,ng=0,bs=[],Cs=0,Kl=null,$o=1,Ko="";function Jl(c,h){Rc[Ic++]=ng,Rc[Ic++]=tg,tg=c,ng=h}function vb(c,h,y){bs[Cs++]=$o,bs[Cs++]=Ko,bs[Cs++]=Kl,Kl=c;var M=$o;c=Ko;var T=32-kn(M)-1;M&=~(1<<T),y+=1;var N=32-kn(h)+T;if(30<N){var $=T-T%5;N=(M&(1<<$)-1).toString(32),M>>=$,T-=$,$o=1<<32-kn(h)+T|y<<T|M,Ko=N+c}else $o=1<<N|y<<T|M,Ko=c}function ax(c){c.return!==null&&(Jl(c,1),vb(c,1,0))}function lx(c){for(;c===tg;)tg=Rc[--Ic],Rc[Ic]=null,ng=Rc[--Ic],Rc[Ic]=null;for(;c===Kl;)Kl=bs[--Cs],bs[Cs]=null,Ko=bs[--Cs],bs[Cs]=null,$o=bs[--Cs],bs[Cs]=null}var $r=null,Kr=null,On=!1,Oh=!1,Ks=null;function yb(c,h){var y=Ls(5,null,null,0);y.elementType="DELETED",y.stateNode=h,y.return=c,h=c.deletions,h===null?(c.deletions=[y],c.flags|=16):h.push(y)}function _b(c,h){switch(c.tag){case 5:return h=Pt(h,c.type,c.pendingProps),h!==null?(c.stateNode=h,$r=c,Kr=pt(h),!0):!1;case 6:return h=qe(h,c.pendingProps),h!==null?(c.stateNode=h,$r=c,Kr=null,!0):!1;case 13:if(h=Rt(h),h!==null){var y=Kl!==null?{id:$o,overflow:Ko}:null;return c.memoizedState={dehydrated:h,treeContext:y,retryLane:1073741824},y=Ls(18,null,null,0),y.stateNode=h,y.return=c,c.child=y,$r=c,Kr=null,!0}return!1;default:return!1}}function ux(c){return(c.mode&1)!==0&&(c.flags&128)===0}function cx(c){if(On){var h=Kr;if(h){var y=h;if(!_b(c,h)){if(ux(c))throw Error(o(418));h=bt(y);var M=$r;h&&_b(c,h)?yb(M,y):(c.flags=c.flags&-4097|2,On=!1,$r=c)}}else{if(ux(c))throw Error(o(418));c.flags=c.flags&-4097|2,On=!1,$r=c}}}function xb(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;$r=c}function Uh(c){if(!_e||c!==$r)return!1;if(!On)return xb(c),On=!0,!1;if(c.tag!==3&&(c.tag!==5||pe(c.type)&&!Ce(c.type,c.memoizedProps))){var h=Kr;if(h){if(ux(c)){for(c=Kr;c;)c=bt(c);throw Error(o(418))}for(;h;)yb(c,h),h=bt(h)}}if(xb(c),c.tag===13){if(!_e)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));Kr=V(c)}else Kr=$r?bt(c.stateNode):null;return!0}function Lc(){_e&&(Kr=$r=null,Oh=On=!1)}function fx(c){Ks===null?Ks=[c]:Ks.push(c)}function Fh(c,h,y){if(c=y.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(o(309));var M=y.stateNode}if(!M)throw Error(o(147,c));var T=M,N=""+c;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===N?h.ref:(h=function($){var oe=T.refs;oe===db&&(oe=T.refs={}),$===null?delete oe[N]:oe[N]=$},h._stringRef=N,h)}if(typeof c!="string")throw Error(o(284));if(!y._owner)throw Error(o(290,c))}return c}function ig(c,h){throw c=Object.prototype.toString.call(h),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c))}function wb(c){var h=c._init;return h(c._payload)}function Sb(c){function h(he,ae){if(c){var ye=he.deletions;ye===null?(he.deletions=[ae],he.flags|=16):ye.push(ae)}}function y(he,ae){if(!c)return null;for(;ae!==null;)h(he,ae),ae=ae.sibling;return null}function M(he,ae){for(he=new Map;ae!==null;)ae.key!==null?he.set(ae.key,ae):he.set(ae.index,ae),ae=ae.sibling;return he}function T(he,ae){return he=za(he,ae),he.index=0,he.sibling=null,he}function N(he,ae,ye){return he.index=ye,c?(ye=he.alternate,ye!==null?(ye=ye.index,ye<ae?(he.flags|=2,ae):ye):(he.flags|=2,ae)):(he.flags|=1048576,ae)}function $(he){return c&&he.alternate===null&&(he.flags|=2),he}function oe(he,ae,ye,nt){return ae===null||ae.tag!==6?(ae=qx(ye,he.mode,nt),ae.return=he,ae):(ae=T(ae,ye),ae.return=he,ae)}function we(he,ae,ye,nt){var St=ye.type;return St===f?ft(he,ae,ye.props.children,nt,ye.key):ae!==null&&(ae.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===S&&wb(St)===ae.type)?(nt=T(ae,ye.props),nt.ref=Fh(he,ae,ye),nt.return=he,nt):(nt=Dg(ye.type,ye.key,ye.props,null,he.mode,nt),nt.ref=Fh(he,ae,ye),nt.return=he,nt)}function ze(he,ae,ye,nt){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ye.containerInfo||ae.stateNode.implementation!==ye.implementation?(ae=Zx(ye,he.mode,nt),ae.return=he,ae):(ae=T(ae,ye.children||[]),ae.return=he,ae)}function ft(he,ae,ye,nt,St){return ae===null||ae.tag!==7?(ae=su(ye,he.mode,nt,St),ae.return=he,ae):(ae=T(ae,ye),ae.return=he,ae)}function Ut(he,ae,ye){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=qx(""+ae,he.mode,ye),ae.return=he,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case l:return ye=Dg(ae.type,ae.key,ae.props,null,he.mode,ye),ye.ref=Fh(he,null,ae),ye.return=he,ye;case u:return ae=Zx(ae,he.mode,ye),ae.return=he,ae;case S:var nt=ae._init;return Ut(he,nt(ae._payload),ye)}if(ne(ae)||P(ae))return ae=su(ae,he.mode,ye,null),ae.return=he,ae;ig(he,ae)}return null}function Ct(he,ae,ye,nt){var St=ae!==null?ae.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number")return St!==null?null:oe(he,ae,""+ye,nt);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case l:return ye.key===St?we(he,ae,ye,nt):null;case u:return ye.key===St?ze(he,ae,ye,nt):null;case S:return St=ye._init,Ct(he,ae,St(ye._payload),nt)}if(ne(ye)||P(ye))return St!==null?null:ft(he,ae,ye,nt,null);ig(he,ye)}return null}function xn(he,ae,ye,nt,St){if(typeof nt=="string"&&nt!==""||typeof nt=="number")return he=he.get(ye)||null,oe(ae,he,""+nt,St);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case l:return he=he.get(nt.key===null?ye:nt.key)||null,we(ae,he,nt,St);case u:return he=he.get(nt.key===null?ye:nt.key)||null,ze(ae,he,nt,St);case S:var Gt=nt._init;return xn(he,ae,ye,Gt(nt._payload),St)}if(ne(nt)||P(nt))return he=he.get(ye)||null,ft(ae,he,nt,St,null);ig(ae,nt)}return null}function Mt(he,ae,ye,nt){for(var St=null,Gt=null,Ft=ae,on=ae=0,Li=null;Ft!==null&&on<ye.length;on++){Ft.index>on?(Li=Ft,Ft=null):Li=Ft.sibling;var an=Ct(he,Ft,ye[on],nt);if(an===null){Ft===null&&(Ft=Li);break}c&&Ft&&an.alternate===null&&h(he,Ft),ae=N(an,ae,on),Gt===null?St=an:Gt.sibling=an,Gt=an,Ft=Li}if(on===ye.length)return y(he,Ft),On&&Jl(he,on),St;if(Ft===null){for(;on<ye.length;on++)Ft=Ut(he,ye[on],nt),Ft!==null&&(ae=N(Ft,ae,on),Gt===null?St=Ft:Gt.sibling=Ft,Gt=Ft);return On&&Jl(he,on),St}for(Ft=M(he,Ft);on<ye.length;on++)Li=xn(Ft,he,on,ye[on],nt),Li!==null&&(c&&Li.alternate!==null&&Ft.delete(Li.key===null?on:Li.key),ae=N(Li,ae,on),Gt===null?St=Li:Gt.sibling=Li,Gt=Li);return c&&Ft.forEach(function(Ba){return h(he,Ba)}),On&&Jl(he,on),St}function Ki(he,ae,ye,nt){var St=P(ye);if(typeof St!="function")throw Error(o(150));if(ye=St.call(ye),ye==null)throw Error(o(151));for(var Gt=St=null,Ft=ae,on=ae=0,Li=null,an=ye.next();Ft!==null&&!an.done;on++,an=ye.next()){Ft.index>on?(Li=Ft,Ft=null):Li=Ft.sibling;var Ba=Ct(he,Ft,an.value,nt);if(Ba===null){Ft===null&&(Ft=Li);break}c&&Ft&&Ba.alternate===null&&h(he,Ft),ae=N(Ba,ae,on),Gt===null?St=Ba:Gt.sibling=Ba,Gt=Ba,Ft=Li}if(an.done)return y(he,Ft),On&&Jl(he,on),St;if(Ft===null){for(;!an.done;on++,an=ye.next())an=Ut(he,an.value,nt),an!==null&&(ae=N(an,ae,on),Gt===null?St=an:Gt.sibling=an,Gt=an);return On&&Jl(he,on),St}for(Ft=M(he,Ft);!an.done;on++,an=ye.next())an=xn(Ft,he,on,an.value,nt),an!==null&&(c&&an.alternate!==null&&Ft.delete(an.key===null?on:an.key),ae=N(an,ae,on),Gt===null?St=an:Gt.sibling=an,Gt=an);return c&&Ft.forEach(function(NB){return h(he,NB)}),On&&Jl(he,on),St}function Ns(he,ae,ye,nt){if(typeof ye=="object"&&ye!==null&&ye.type===f&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case l:e:{for(var St=ye.key,Gt=ae;Gt!==null;){if(Gt.key===St){if(St=ye.type,St===f){if(Gt.tag===7){y(he,Gt.sibling),ae=T(Gt,ye.props.children),ae.return=he,he=ae;break e}}else if(Gt.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===S&&wb(St)===Gt.type){y(he,Gt.sibling),ae=T(Gt,ye.props),ae.ref=Fh(he,Gt,ye),ae.return=he,he=ae;break e}y(he,Gt);break}else h(he,Gt);Gt=Gt.sibling}ye.type===f?(ae=su(ye.props.children,he.mode,nt,ye.key),ae.return=he,he=ae):(nt=Dg(ye.type,ye.key,ye.props,null,he.mode,nt),nt.ref=Fh(he,ae,ye),nt.return=he,he=nt)}return $(he);case u:e:{for(Gt=ye.key;ae!==null;){if(ae.key===Gt)if(ae.tag===4&&ae.stateNode.containerInfo===ye.containerInfo&&ae.stateNode.implementation===ye.implementation){y(he,ae.sibling),ae=T(ae,ye.children||[]),ae.return=he,he=ae;break e}else{y(he,ae);break}else h(he,ae);ae=ae.sibling}ae=Zx(ye,he.mode,nt),ae.return=he,he=ae}return $(he);case S:return Gt=ye._init,Ns(he,ae,Gt(ye._payload),nt)}if(ne(ye))return Mt(he,ae,ye,nt);if(P(ye))return Ki(he,ae,ye,nt);ig(he,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"?(ye=""+ye,ae!==null&&ae.tag===6?(y(he,ae.sibling),ae=T(ae,ye),ae.return=he,he=ae):(y(he,ae),ae=qx(ye,he.mode,nt),ae.return=he,he=ae),$(he)):y(he,ae)}return Ns}var Nc=Sb(!0),Mb=Sb(!1),zh={},Ps=Ze(zh),Bh=Ze(zh),Dc=Ze(zh);function So(c){if(c===zh)throw Error(o(174));return c}function hx(c,h){st(Dc,h),st(Bh,c),st(Ps,zh),c=re(h),At(Ps),st(Ps,c)}function kc(){At(Ps),At(Bh),At(Dc)}function Eb(c){var h=So(Dc.current),y=So(Ps.current);h=X(y,c.type,h),y!==h&&(st(Bh,c),st(Ps,h))}function dx(c){Bh.current===c&&(At(Ps),At(Bh))}var Hn=Ze(0);function rg(c){for(var h=c;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||dt(y)||Tt(y)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var px=[];function mx(){for(var c=0;c<px.length;c++){var h=px[c];Nt?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}px.length=0}var sg=a.ReactCurrentDispatcher,Rs=a.ReactCurrentBatchConfig,Oc=0,$n=null,qi=null,Ii=null,og=!1,Vh=!1,Hh=0,rB=0;function Zi(){throw Error(o(321))}function gx(c,h){if(h===null)return!1;for(var y=0;y<h.length&&y<c.length;y++)if(!_o(c[y],h[y]))return!1;return!0}function vx(c,h,y,M,T,N){if(Oc=N,$n=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,sg.current=c===null||c.memoizedState===null?lB:uB,c=y(M,T),Vh){N=0;do{if(Vh=!1,Hh=0,25<=N)throw Error(o(301));N+=1,Ii=qi=null,h.updateQueue=null,sg.current=cB,c=y(M,T)}while(Vh)}if(sg.current=fg,h=qi!==null&&qi.next!==null,Oc=0,Ii=qi=$n=null,og=!1,h)throw Error(o(300));return c}function yx(){var c=Hh!==0;return Hh=0,c}function Jo(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ii===null?$n.memoizedState=Ii=c:Ii=Ii.next=c,Ii}function Mo(){if(qi===null){var c=$n.alternate;c=c!==null?c.memoizedState:null}else c=qi.next;var h=Ii===null?$n.memoizedState:Ii.next;if(h!==null)Ii=h,qi=c;else{if(c===null)throw Error(o(310));qi=c,c={memoizedState:qi.memoizedState,baseState:qi.baseState,baseQueue:qi.baseQueue,queue:qi.queue,next:null},Ii===null?$n.memoizedState=Ii=c:Ii=Ii.next=c}return Ii}function Ql(c,h){return typeof h=="function"?h(c):h}function ag(c){var h=Mo(),y=h.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=c;var M=qi,T=M.baseQueue,N=y.pending;if(N!==null){if(T!==null){var $=T.next;T.next=N.next,N.next=$}M.baseQueue=T=N,y.pending=null}if(T!==null){N=T.next,M=M.baseState;var oe=$=null,we=null,ze=N;do{var ft=ze.lane;if((Oc&ft)===ft)we!==null&&(we=we.next={lane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),M=ze.hasEagerState?ze.eagerState:c(M,ze.action);else{var Ut={lane:ft,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null};we===null?(oe=we=Ut,$=M):we=we.next=Ut,$n.lanes|=ft,Fc|=ft}ze=ze.next}while(ze!==null&&ze!==N);we===null?$=M:we.next=oe,_o(M,h.memoizedState)||(Jr=!0),h.memoizedState=M,h.baseState=$,h.baseQueue=we,y.lastRenderedState=M}if(c=y.interleaved,c!==null){T=c;do N=T.lane,$n.lanes|=N,Fc|=N,T=T.next;while(T!==c)}else T===null&&(y.lanes=0);return[h.memoizedState,y.dispatch]}function lg(c){var h=Mo(),y=h.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=c;var M=y.dispatch,T=y.pending,N=h.memoizedState;if(T!==null){y.pending=null;var $=T=T.next;do N=c(N,$.action),$=$.next;while($!==T);_o(N,h.memoizedState)||(Jr=!0),h.memoizedState=N,h.baseQueue===null&&(h.baseState=N),y.lastRenderedState=N}return[N,M]}function Tb(){}function Ab(c,h){var y=$n,M=Mo(),T=h(),N=!_o(M.memoizedState,T);if(N&&(M.memoizedState=T,Jr=!0),M=M.queue,Wh(Pb.bind(null,y,M,c),[c]),M.getSnapshot!==h||N||Ii!==null&&Ii.memoizedState.tag&1){if(y.flags|=2048,Gh(9,Cb.bind(null,y,M,T,h),void 0,null),ui===null)throw Error(o(349));Oc&30||bb(y,h,T)}return T}function bb(c,h,y){c.flags|=16384,c={getSnapshot:h,value:y},h=$n.updateQueue,h===null?(h={lastEffect:null,stores:null},$n.updateQueue=h,h.stores=[c]):(y=h.stores,y===null?h.stores=[c]:y.push(c))}function Cb(c,h,y,M){h.value=y,h.getSnapshot=M,Rb(h)&&Is(c,1,-1)}function Pb(c,h,y){return y(function(){Rb(h)&&Is(c,1,-1)})}function Rb(c){var h=c.getSnapshot;c=c.value;try{var y=h();return!_o(c,y)}catch{return!0}}function _x(c){var h=Jo();return typeof c=="function"&&(c=c()),h.memoizedState=h.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ql,lastRenderedState:c},h.queue=c,c=c.dispatch=aB.bind(null,$n,c),[h.memoizedState,c]}function Gh(c,h,y,M){return c={tag:c,create:h,destroy:y,deps:M,next:null},h=$n.updateQueue,h===null?(h={lastEffect:null,stores:null},$n.updateQueue=h,h.lastEffect=c.next=c):(y=h.lastEffect,y===null?h.lastEffect=c.next=c:(M=y.next,y.next=c,c.next=M,h.lastEffect=c)),c}function Ib(){return Mo().memoizedState}function ug(c,h,y,M){var T=Jo();$n.flags|=c,T.memoizedState=Gh(1|h,y,void 0,M===void 0?null:M)}function cg(c,h,y,M){var T=Mo();M=M===void 0?null:M;var N=void 0;if(qi!==null){var $=qi.memoizedState;if(N=$.destroy,M!==null&&gx(M,$.deps)){T.memoizedState=Gh(h,y,N,M);return}}$n.flags|=c,T.memoizedState=Gh(1|h,y,N,M)}function xx(c,h){return ug(8390656,8,c,h)}function Wh(c,h){return cg(2048,8,c,h)}function Lb(c,h){return cg(4,2,c,h)}function Nb(c,h){return cg(4,4,c,h)}function Db(c,h){if(typeof h=="function")return c=c(),h(c),function(){h(null)};if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function kb(c,h,y){return y=y!=null?y.concat([c]):null,cg(4,4,Db.bind(null,h,c),y)}function wx(){}function Ob(c,h){var y=Mo();h=h===void 0?null:h;var M=y.memoizedState;return M!==null&&h!==null&&gx(h,M[1])?M[0]:(y.memoizedState=[c,h],c)}function Ub(c,h){var y=Mo();h=h===void 0?null:h;var M=y.memoizedState;return M!==null&&h!==null&&gx(h,M[1])?M[0]:(c=c(),y.memoizedState=[c,h],c)}function sB(c,h){var y=sn;sn=y!==0&&4>y?y:4,c(!0);var M=Rs.transition;Rs.transition={};try{c(!1),h()}finally{sn=y,Rs.transition=M}}function Fb(){return Mo().memoizedState}function oB(c,h,y){var M=Ua(c);y={lane:M,action:y,hasEagerState:!1,eagerState:null,next:null},zb(c)?Bb(h,y):(Vb(c,h,y),y=dr(),c=Is(c,M,y),c!==null&&Hb(c,h,M))}function aB(c,h,y){var M=Ua(c),T={lane:M,action:y,hasEagerState:!1,eagerState:null,next:null};if(zb(c))Bb(h,T);else{Vb(c,h,T);var N=c.alternate;if(c.lanes===0&&(N===null||N.lanes===0)&&(N=h.lastRenderedReducer,N!==null))try{var $=h.lastRenderedState,oe=N($,y);if(T.hasEagerState=!0,T.eagerState=oe,_o(oe,$))return}catch{}finally{}y=dr(),c=Is(c,M,y),c!==null&&Hb(c,h,M)}}function zb(c){var h=c.alternate;return c===$n||h!==null&&h===$n}function Bb(c,h){Vh=og=!0;var y=c.pending;y===null?h.next=h:(h.next=y.next,y.next=h),c.pending=h}function Vb(c,h,y){ui!==null&&c.mode&1&&!(jt&2)?(c=h.interleaved,c===null?(y.next=y,wo===null?wo=[h]:wo.push(h)):(y.next=c.next,c.next=y),h.interleaved=y):(c=h.pending,c===null?y.next=y:(y.next=c.next,c.next=y),h.pending=y)}function Hb(c,h,y){if(y&4194240){var M=h.lanes;M&=c.pendingLanes,y|=M,h.lanes=y,Z_(c,y)}}var fg={readContext:As,useCallback:Zi,useContext:Zi,useEffect:Zi,useImperativeHandle:Zi,useInsertionEffect:Zi,useLayoutEffect:Zi,useMemo:Zi,useReducer:Zi,useRef:Zi,useState:Zi,useDebugValue:Zi,useDeferredValue:Zi,useTransition:Zi,useMutableSource:Zi,useSyncExternalStore:Zi,useId:Zi,unstable_isNewReconciler:!1},lB={readContext:As,useCallback:function(c,h){return Jo().memoizedState=[c,h===void 0?null:h],c},useContext:As,useEffect:xx,useImperativeHandle:function(c,h,y){return y=y!=null?y.concat([c]):null,ug(4194308,4,Db.bind(null,h,c),y)},useLayoutEffect:function(c,h){return ug(4194308,4,c,h)},useInsertionEffect:function(c,h){return ug(4,2,c,h)},useMemo:function(c,h){var y=Jo();return h=h===void 0?null:h,c=c(),y.memoizedState=[c,h],c},useReducer:function(c,h,y){var M=Jo();return h=y!==void 0?y(h):h,M.memoizedState=M.baseState=h,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:h},M.queue=c,c=c.dispatch=oB.bind(null,$n,c),[M.memoizedState,c]},useRef:function(c){var h=Jo();return c={current:c},h.memoizedState=c},useState:_x,useDebugValue:wx,useDeferredValue:function(c){var h=_x(c),y=h[0],M=h[1];return xx(function(){var T=Rs.transition;Rs.transition={};try{M(c)}finally{Rs.transition=T}},[c]),y},useTransition:function(){var c=_x(!1),h=c[0];return c=sB.bind(null,c[1]),Jo().memoizedState=c,[h,c]},useMutableSource:function(){},useSyncExternalStore:function(c,h,y){var M=$n,T=Jo();if(On){if(y===void 0)throw Error(o(407));y=y()}else{if(y=h(),ui===null)throw Error(o(349));Oc&30||bb(M,h,y)}T.memoizedState=y;var N={value:y,getSnapshot:h};return T.queue=N,xx(Pb.bind(null,M,N,c),[c]),M.flags|=2048,Gh(9,Cb.bind(null,M,N,y,h),void 0,null),y},useId:function(){var c=Jo(),h=ui.identifierPrefix;if(On){var y=Ko,M=$o;y=(M&~(1<<32-kn(M)-1)).toString(32)+y,h=":"+h+"R"+y,y=Hh++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=rB++,h=":"+h+"r"+y.toString(32)+":";return c.memoizedState=h},unstable_isNewReconciler:!1},uB={readContext:As,useCallback:Ob,useContext:As,useEffect:Wh,useImperativeHandle:kb,useInsertionEffect:Lb,useLayoutEffect:Nb,useMemo:Ub,useReducer:ag,useRef:Ib,useState:function(){return ag(Ql)},useDebugValue:wx,useDeferredValue:function(c){var h=ag(Ql),y=h[0],M=h[1];return Wh(function(){var T=Rs.transition;Rs.transition={};try{M(c)}finally{Rs.transition=T}},[c]),y},useTransition:function(){var c=ag(Ql)[0],h=Mo().memoizedState;return[c,h]},useMutableSource:Tb,useSyncExternalStore:Ab,useId:Fb,unstable_isNewReconciler:!1},cB={readContext:As,useCallback:Ob,useContext:As,useEffect:Wh,useImperativeHandle:kb,useInsertionEffect:Lb,useLayoutEffect:Nb,useMemo:Ub,useReducer:lg,useRef:Ib,useState:function(){return lg(Ql)},useDebugValue:wx,useDeferredValue:function(c){var h=lg(Ql),y=h[0],M=h[1];return Wh(function(){var T=Rs.transition;Rs.transition={};try{M(c)}finally{Rs.transition=T}},[c]),y},useTransition:function(){var c=lg(Ql)[0],h=Mo().memoizedState;return[c,h]},useMutableSource:Tb,useSyncExternalStore:Ab,useId:Fb,unstable_isNewReconciler:!1};function Sx(c,h){try{var y="",M=h;do y+=iB(M),M=M.return;while(M);var T=y}catch(N){T=`
Error generating stack: `+N.message+`
`+N.stack}return{value:c,source:h,stack:T}}function Mx(c,h){try{console.error(h.value)}catch(y){setTimeout(function(){throw y})}}var fB=typeof WeakMap=="function"?WeakMap:Map;function Gb(c,h,y){y=Zo(-1,y),y.tag=3,y.payload={element:null};var M=h.value;return y.callback=function(){bg||(bg=!0,Vx=M),Mx(c,h)},y}function Wb(c,h,y){y=Zo(-1,y),y.tag=3;var M=c.type.getDerivedStateFromError;if(typeof M=="function"){var T=h.value;y.payload=function(){return M(T)},y.callback=function(){Mx(c,h)}}var N=c.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(y.callback=function(){Mx(c,h),typeof M!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var $=h.stack;this.componentDidCatch(h.value,{componentStack:$!==null?$:""})}),y}function jb(c,h,y){var M=c.pingCache;if(M===null){M=c.pingCache=new fB;var T=new Set;M.set(h,T)}else T=M.get(h),T===void 0&&(T=new Set,M.set(h,T));T.has(y)||(T.add(y),c=TB.bind(null,c,h,y),h.then(c,c))}function Xb(c){do{var h;if((h=c.tag===13)&&(h=c.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return c;c=c.return}while(c!==null);return null}function Yb(c,h,y,M,T){return c.mode&1?(c.flags|=65536,c.lanes=T,c):(c===h?c.flags|=65536:(c.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(h=Zo(-1,1),h.tag=2,Da(y,h))),y.lanes|=1),c)}function Eo(c){c.flags|=4}function qb(c,h){if(c!==null&&c.child===h.child)return!0;if(h.flags&16)return!1;for(c=h.child;c!==null;){if(c.flags&12854||c.subtreeFlags&12854)return!1;c=c.sibling}return!0}var jh,Xh,hg,dg;if(Be)jh=function(c,h){for(var y=h.child;y!==null;){if(y.tag===5||y.tag===6)te(c,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Xh=function(){},hg=function(c,h,y,M,T){if(c=c.memoizedProps,c!==M){var N=h.stateNode,$=So(Ps.current);y=xe(N,y,c,M,T,$),(h.updateQueue=y)&&Eo(h)}},dg=function(c,h,y,M){y!==M&&Eo(h)};else if(J){jh=function(c,h,y,M){for(var T=h.child;T!==null;){if(T.tag===5){var N=T.stateNode;y&&M&&(N=tt(N,T.type,T.memoizedProps,T)),te(c,N)}else if(T.tag===6)N=T.stateNode,y&&M&&(N=ct(N,T.memoizedProps,T)),te(c,N);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)N=T.child,N!==null&&(N.return=T),jh(c,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===h)break;for(;T.sibling===null;){if(T.return===null||T.return===h)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};var Zb=function(c,h,y,M){for(var T=h.child;T!==null;){if(T.tag===5){var N=T.stateNode;y&&M&&(N=tt(N,T.type,T.memoizedProps,T)),ot(c,N)}else if(T.tag===6)N=T.stateNode,y&&M&&(N=ct(N,T.memoizedProps,T)),ot(c,N);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)N=T.child,N!==null&&(N.return=T),Zb(c,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===h)break;for(;T.sibling===null;){if(T.return===null||T.return===h)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};Xh=function(c,h){var y=h.stateNode;if(!qb(c,h)){c=y.containerInfo;var M=be(c);Zb(M,h,!1,!1),y.pendingChildren=M,Eo(h),Et(c,M)}},hg=function(c,h,y,M,T){var N=c.stateNode,$=c.memoizedProps;if((c=qb(c,h))&&$===M)h.stateNode=N;else{var oe=h.stateNode,we=So(Ps.current),ze=null;$!==M&&(ze=xe(oe,y,$,M,T,we)),c&&ze===null?h.stateNode=N:(N=Ve(N,ze,y,$,M,h,c,oe),me(N,y,M,T,we)&&Eo(h),h.stateNode=N,c?Eo(h):jh(N,h,!1,!1))}},dg=function(c,h,y,M){y!==M?(c=So(Dc.current),y=So(Ps.current),h.stateNode=Ee(M,c,y,h),Eo(h)):h.stateNode=c.stateNode}}else Xh=function(){},hg=function(){},dg=function(){};function Yh(c,h){if(!On)switch(c.tailMode){case"hidden":h=c.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?c.tail=null:y.sibling=null;break;case"collapsed":y=c.tail;for(var M=null;y!==null;)y.alternate!==null&&(M=y),y=y.sibling;M===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:M.sibling=null}}function $i(c){var h=c.alternate!==null&&c.alternate.child===c.child,y=0,M=0;if(h)for(var T=c.child;T!==null;)y|=T.lanes|T.childLanes,M|=T.subtreeFlags&14680064,M|=T.flags&14680064,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)y|=T.lanes|T.childLanes,M|=T.subtreeFlags,M|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=M,c.childLanes=y,h}function hB(c,h,y){var M=h.pendingProps;switch(lx(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $i(h),null;case 1:return _n(h.type)&&ni(),$i(h),null;case 3:return M=h.stateNode,kc(),At(Lt),At(fn),mx(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(c===null||c.child===null)&&(Uh(h)?Eo(h):c===null||c.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,Ks!==null&&(Wx(Ks),Ks=null))),Xh(c,h),$i(h),null;case 5:dx(h),y=So(Dc.current);var T=h.type;if(c!==null&&h.stateNode!=null)hg(c,h,T,M,y),c.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!M){if(h.stateNode===null)throw Error(o(166));return $i(h),null}if(c=So(Ps.current),Uh(h)){if(!_e)throw Error(o(175));c=D(h.stateNode,h.type,h.memoizedProps,y,c,h,!Oh),h.updateQueue=c,c!==null&&Eo(h)}else{var N=G(T,M,y,c,h);jh(N,h,!1,!1),h.stateNode=N,me(N,T,M,y,c)&&Eo(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return $i(h),null;case 6:if(c&&h.stateNode!=null)dg(c,h,c.memoizedProps,M);else{if(typeof M!="string"&&h.stateNode===null)throw Error(o(166));if(c=So(Dc.current),y=So(Ps.current),Uh(h)){if(!_e)throw Error(o(176));if(c=h.stateNode,M=h.memoizedProps,(y=A(c,M,h,!Oh))&&(T=$r,T!==null))switch(N=(T.mode&1)!==0,T.tag){case 3:ve(T.stateNode.containerInfo,c,M,N);break;case 5:Se(T.type,T.memoizedProps,T.stateNode,c,M,N)}y&&Eo(h)}else h.stateNode=Ee(M,c,y,h)}return $i(h),null;case 13:if(At(Hn),M=h.memoizedState,On&&Kr!==null&&h.mode&1&&!(h.flags&128)){for(c=Kr;c;)c=bt(c);return Lc(),h.flags|=98560,h}if(M!==null&&M.dehydrated!==null){if(M=Uh(h),c===null){if(!M)throw Error(o(318));if(!_e)throw Error(o(344));if(c=h.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));U(c,h)}else Lc(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return $i(h),null}return Ks!==null&&(Wx(Ks),Ks=null),h.flags&128?(h.lanes=y,h):(M=M!==null,y=!1,c===null?Uh(h):y=c.memoizedState!==null,M&&!y&&(h.child.flags|=8192,h.mode&1&&(c===null||Hn.current&1?xi===0&&(xi=3):Xx())),h.updateQueue!==null&&(h.flags|=4),$i(h),null);case 4:return kc(),Xh(c,h),c===null&&Re(h.stateNode.containerInfo),$i(h),null;case 10:return nx(h.type._context),$i(h),null;case 17:return _n(h.type)&&ni(),$i(h),null;case 19:if(At(Hn),T=h.memoizedState,T===null)return $i(h),null;if(M=(h.flags&128)!==0,N=T.rendering,N===null)if(M)Yh(T,!1);else{if(xi!==0||c!==null&&c.flags&128)for(c=h.child;c!==null;){if(N=rg(c),N!==null){for(h.flags|=128,Yh(T,!1),c=N.updateQueue,c!==null&&(h.updateQueue=c,h.flags|=4),h.subtreeFlags=0,c=y,M=h.child;M!==null;)y=M,T=c,y.flags&=14680066,N=y.alternate,N===null?(y.childLanes=0,y.lanes=T,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=N.childLanes,y.lanes=N.lanes,y.child=N.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=N.memoizedProps,y.memoizedState=N.memoizedState,y.updateQueue=N.updateQueue,y.type=N.type,T=N.dependencies,y.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),M=M.sibling;return st(Hn,Hn.current&1|2),h.child}c=c.sibling}T.tail!==null&&Ri()>Bx&&(h.flags|=128,M=!0,Yh(T,!1),h.lanes=4194304)}else{if(!M)if(c=rg(N),c!==null){if(h.flags|=128,M=!0,c=c.updateQueue,c!==null&&(h.updateQueue=c,h.flags|=4),Yh(T,!0),T.tail===null&&T.tailMode==="hidden"&&!N.alternate&&!On)return $i(h),null}else 2*Ri()-T.renderingStartTime>Bx&&y!==1073741824&&(h.flags|=128,M=!0,Yh(T,!1),h.lanes=4194304);T.isBackwards?(N.sibling=h.child,h.child=N):(c=T.last,c!==null?c.sibling=N:h.child=N,T.last=N)}return T.tail!==null?(h=T.tail,T.rendering=h,T.tail=h.sibling,T.renderingStartTime=Ri(),h.sibling=null,c=Hn.current,st(Hn,M?c&1|2:c&1),h):($i(h),null);case 22:case 23:return jx(),M=h.memoizedState!==null,c!==null&&c.memoizedState!==null!==M&&(h.flags|=8192),M&&h.mode&1?Qr&1073741824&&($i(h),Be&&h.subtreeFlags&6&&(h.flags|=8192)):$i(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var dB=a.ReactCurrentOwner,Jr=!1;function hr(c,h,y,M){h.child=c===null?Mb(h,null,y,M):Nc(h,c.child,y,M)}function $b(c,h,y,M,T){y=y.render;var N=h.ref;return Pc(h,T),M=vx(c,h,y,M,N,T),y=yx(),c!==null&&!Jr?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~T,Qo(c,h,T)):(On&&y&&ax(h),h.flags|=1,hr(c,h,M,T),h.child)}function Kb(c,h,y,M,T){if(c===null){var N=y.type;return typeof N=="function"&&!Yx(N)&&N.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(h.tag=15,h.type=N,Jb(c,h,N,M,T)):(c=Dg(y.type,null,M,h,h.mode,T),c.ref=h.ref,c.return=h,h.child=c)}if(N=c.child,!(c.lanes&T)){var $=N.memoizedProps;if(y=y.compare,y=y!==null?y:Zm,y($,M)&&c.ref===h.ref)return Qo(c,h,T)}return h.flags|=1,c=za(N,M),c.ref=h.ref,c.return=h,h.child=c}function Jb(c,h,y,M,T){if(c!==null&&Zm(c.memoizedProps,M)&&c.ref===h.ref)if(Jr=!1,(c.lanes&T)!==0)c.flags&131072&&(Jr=!0);else return h.lanes=c.lanes,Qo(c,h,T);return Ex(c,h,y,M,T)}function Qb(c,h,y){var M=h.pendingProps,T=M.children,N=c!==null?c.memoizedState:null;if(M.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},st(Uc,Qr),Qr|=y;else if(y&1073741824)h.memoizedState={baseLanes:0,cachePool:null},M=N!==null?N.baseLanes:y,st(Uc,Qr),Qr|=M;else return c=N!==null?N.baseLanes|y:y,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:c,cachePool:null},h.updateQueue=null,st(Uc,Qr),Qr|=c,null;else N!==null?(M=N.baseLanes|y,h.memoizedState=null):M=y,st(Uc,Qr),Qr|=M;return hr(c,h,T,y),h.child}function eC(c,h){var y=h.ref;(c===null&&y!==null||c!==null&&c.ref!==y)&&(h.flags|=512,h.flags|=2097152)}function Ex(c,h,y,M,T){var N=_n(y)?hn:fn.current;return N=rn(h,N),Pc(h,T),y=vx(c,h,y,M,N,T),M=yx(),c!==null&&!Jr?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~T,Qo(c,h,T)):(On&&M&&ax(h),h.flags|=1,hr(c,h,y,T),h.child)}function tC(c,h,y,M,T){if(_n(y)){var N=!0;un(h)}else N=!1;if(Pc(h,T),h.stateNode===null)c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),mb(h,y,M),ox(h,y,M,T),M=!0;else if(c===null){var $=h.stateNode,oe=h.memoizedProps;$.props=oe;var we=$.context,ze=y.contextType;typeof ze=="object"&&ze!==null?ze=As(ze):(ze=_n(y)?hn:fn.current,ze=rn(h,ze));var ft=y.getDerivedStateFromProps,Ut=typeof ft=="function"||typeof $.getSnapshotBeforeUpdate=="function";Ut||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(oe!==M||we!==ze)&&gb(h,$,M,ze),Na=!1;var Ct=h.memoizedState;$.state=Ct,Qm(h,M,$,T),we=h.memoizedState,oe!==M||Ct!==we||Lt.current||Na?(typeof ft=="function"&&(sx(h,y,ft,M),we=h.memoizedState),(oe=Na||pb(h,y,oe,M,Ct,we,ze))?(Ut||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(h.flags|=4194308)):(typeof $.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=M,h.memoizedState=we),$.props=M,$.state=we,$.context=ze,M=oe):(typeof $.componentDidMount=="function"&&(h.flags|=4194308),M=!1)}else{$=h.stateNode,cb(c,h),oe=h.memoizedProps,ze=h.type===h.elementType?oe:$s(h.type,oe),$.props=ze,Ut=h.pendingProps,Ct=$.context,we=y.contextType,typeof we=="object"&&we!==null?we=As(we):(we=_n(y)?hn:fn.current,we=rn(h,we));var xn=y.getDerivedStateFromProps;(ft=typeof xn=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(oe!==Ut||Ct!==we)&&gb(h,$,M,we),Na=!1,Ct=h.memoizedState,$.state=Ct,Qm(h,M,$,T);var Mt=h.memoizedState;oe!==Ut||Ct!==Mt||Lt.current||Na?(typeof xn=="function"&&(sx(h,y,xn,M),Mt=h.memoizedState),(ze=Na||pb(h,y,ze,M,Ct,Mt,we)||!1)?(ft||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(M,Mt,we),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(M,Mt,we)),typeof $.componentDidUpdate=="function"&&(h.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof $.componentDidUpdate!="function"||oe===c.memoizedProps&&Ct===c.memoizedState||(h.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||oe===c.memoizedProps&&Ct===c.memoizedState||(h.flags|=1024),h.memoizedProps=M,h.memoizedState=Mt),$.props=M,$.state=Mt,$.context=we,M=ze):(typeof $.componentDidUpdate!="function"||oe===c.memoizedProps&&Ct===c.memoizedState||(h.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||oe===c.memoizedProps&&Ct===c.memoizedState||(h.flags|=1024),M=!1)}return Tx(c,h,y,M,N,T)}function Tx(c,h,y,M,T,N){eC(c,h);var $=(h.flags&128)!==0;if(!M&&!$)return T&&Qt(h,y,!1),Qo(c,h,N);M=h.stateNode,dB.current=h;var oe=$&&typeof y.getDerivedStateFromError!="function"?null:M.render();return h.flags|=1,c!==null&&$?(h.child=Nc(h,c.child,null,N),h.child=Nc(h,null,oe,N)):hr(c,h,oe,N),h.memoizedState=M.state,T&&Qt(h,y,!0),h.child}function nC(c){var h=c.stateNode;h.pendingContext?kt(c,h.pendingContext,h.pendingContext!==h.context):h.context&&kt(c,h.context,!1),hx(c,h.containerInfo)}function iC(c,h,y,M,T){return Lc(),fx(T),h.flags|=256,hr(c,h,y,M),h.child}var pg={dehydrated:null,treeContext:null,retryLane:0};function mg(c){return{baseLanes:c,cachePool:null}}function rC(c,h,y){var M=h.pendingProps,T=Hn.current,N=!1,$=(h.flags&128)!==0,oe;if((oe=$)||(oe=c!==null&&c.memoizedState===null?!1:(T&2)!==0),oe?(N=!0,h.flags&=-129):(c===null||c.memoizedState!==null)&&(T|=1),st(Hn,T&1),c===null)return cx(h),c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(h.mode&1?Tt(c)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(T=M.children,c=M.fallback,N?(M=h.mode,N=h.child,T={mode:"hidden",children:T},!(M&1)&&N!==null?(N.childLanes=0,N.pendingProps=T):N=kg(T,M,0,null),c=su(c,M,y,null),N.return=h,c.return=h,N.sibling=c,h.child=N,h.child.memoizedState=mg(y),h.memoizedState=pg,c):Ax(h,T));if(T=c.memoizedState,T!==null){if(oe=T.dehydrated,oe!==null){if($)return h.flags&256?(h.flags&=-257,gg(c,h,y,Error(o(422)))):h.memoizedState!==null?(h.child=c.child,h.flags|=128,null):(N=M.fallback,T=h.mode,M=kg({mode:"visible",children:M.children},T,0,null),N=su(N,T,y,null),N.flags|=2,M.return=h,N.return=h,M.sibling=N,h.child=M,h.mode&1&&Nc(h,c.child,null,y),h.child.memoizedState=mg(y),h.memoizedState=pg,N);if(!(h.mode&1))h=gg(c,h,y,null);else if(Tt(oe))h=gg(c,h,y,Error(o(419)));else if(M=(y&c.childLanes)!==0,Jr||M){if(M=ui,M!==null){switch(y&-y){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}M=N&(M.suspendedLanes|y)?0:N,M!==0&&M!==T.retryLane&&(T.retryLane=M,Is(c,M,-1))}Xx(),h=gg(c,h,y,Error(o(421)))}else dt(oe)?(h.flags|=128,h.child=c.child,h=AB.bind(null,c),pn(oe,h),h=null):(y=T.treeContext,_e&&(Kr=yn(oe),$r=h,On=!0,Ks=null,Oh=!1,y!==null&&(bs[Cs++]=$o,bs[Cs++]=Ko,bs[Cs++]=Kl,$o=y.id,Ko=y.overflow,Kl=h)),h=Ax(h,h.pendingProps.children),h.flags|=4096);return h}return N?(M=oC(c,h,M.children,M.fallback,y),N=h.child,T=c.child.memoizedState,N.memoizedState=T===null?mg(y):{baseLanes:T.baseLanes|y,cachePool:null},N.childLanes=c.childLanes&~y,h.memoizedState=pg,M):(y=sC(c,h,M.children,y),h.memoizedState=null,y)}return N?(M=oC(c,h,M.children,M.fallback,y),N=h.child,T=c.child.memoizedState,N.memoizedState=T===null?mg(y):{baseLanes:T.baseLanes|y,cachePool:null},N.childLanes=c.childLanes&~y,h.memoizedState=pg,M):(y=sC(c,h,M.children,y),h.memoizedState=null,y)}function Ax(c,h){return h=kg({mode:"visible",children:h},c.mode,0,null),h.return=c,c.child=h}function sC(c,h,y,M){var T=c.child;return c=T.sibling,y=za(T,{mode:"visible",children:y}),!(h.mode&1)&&(y.lanes=M),y.return=h,y.sibling=null,c!==null&&(M=h.deletions,M===null?(h.deletions=[c],h.flags|=16):M.push(c)),h.child=y}function oC(c,h,y,M,T){var N=h.mode;c=c.child;var $=c.sibling,oe={mode:"hidden",children:y};return!(N&1)&&h.child!==c?(y=h.child,y.childLanes=0,y.pendingProps=oe,h.deletions=null):(y=za(c,oe),y.subtreeFlags=c.subtreeFlags&14680064),$!==null?M=za($,M):(M=su(M,N,T,null),M.flags|=2),M.return=h,y.return=h,y.sibling=M,h.child=y,M}function gg(c,h,y,M){return M!==null&&fx(M),Nc(h,c.child,null,y),c=Ax(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function aC(c,h,y){c.lanes|=h;var M=c.alternate;M!==null&&(M.lanes|=h),ix(c.return,h,y)}function bx(c,h,y,M,T){var N=c.memoizedState;N===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:M,tail:y,tailMode:T}:(N.isBackwards=h,N.rendering=null,N.renderingStartTime=0,N.last=M,N.tail=y,N.tailMode=T)}function lC(c,h,y){var M=h.pendingProps,T=M.revealOrder,N=M.tail;if(hr(c,h,M.children,y),M=Hn.current,M&2)M=M&1|2,h.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&aC(c,y,h);else if(c.tag===19)aC(c,y,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}M&=1}if(st(Hn,M),!(h.mode&1))h.memoizedState=null;else switch(T){case"forwards":for(y=h.child,T=null;y!==null;)c=y.alternate,c!==null&&rg(c)===null&&(T=y),y=y.sibling;y=T,y===null?(T=h.child,h.child=null):(T=y.sibling,y.sibling=null),bx(h,!1,T,y,N);break;case"backwards":for(y=null,T=h.child,h.child=null;T!==null;){if(c=T.alternate,c!==null&&rg(c)===null){h.child=T;break}c=T.sibling,T.sibling=y,y=T,T=c}bx(h,!0,y,null,N);break;case"together":bx(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Qo(c,h,y){if(c!==null&&(h.dependencies=c.dependencies),Fc|=h.lanes,!(y&h.childLanes))return null;if(c!==null&&h.child!==c.child)throw Error(o(153));if(h.child!==null){for(c=h.child,y=za(c,c.pendingProps),h.child=y,y.return=h;c.sibling!==null;)c=c.sibling,y=y.sibling=za(c,c.pendingProps),y.return=h;y.sibling=null}return h.child}function pB(c,h,y){switch(h.tag){case 3:nC(h),Lc();break;case 5:Eb(h);break;case 1:_n(h.type)&&un(h);break;case 4:hx(h,h.stateNode.containerInfo);break;case 10:ub(h,h.type._context,h.memoizedProps.value);break;case 13:var M=h.memoizedState;if(M!==null)return M.dehydrated!==null?(st(Hn,Hn.current&1),h.flags|=128,null):y&h.child.childLanes?rC(c,h,y):(st(Hn,Hn.current&1),c=Qo(c,h,y),c!==null?c.sibling:null);st(Hn,Hn.current&1);break;case 19:if(M=(y&h.childLanes)!==0,c.flags&128){if(M)return lC(c,h,y);h.flags|=128}var T=h.memoizedState;if(T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),st(Hn,Hn.current),M)break;return null;case 22:case 23:return h.lanes=0,Qb(c,h,y)}return Qo(c,h,y)}function mB(c,h){switch(lx(h),h.tag){case 1:return _n(h.type)&&ni(),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return kc(),At(Lt),At(fn),mx(),c=h.flags,c&65536&&!(c&128)?(h.flags=c&-65537|128,h):null;case 5:return dx(h),null;case 13:if(At(Hn),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(o(340));Lc()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return At(Hn),null;case 4:return kc(),null;case 10:return nx(h.type._context),null;case 22:case 23:return jx(),null;case 24:return null;default:return null}}var vg=!1,eu=!1,gB=typeof WeakSet=="function"?WeakSet:Set,et=null;function yg(c,h){var y=c.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(M){Nr(c,h,M)}else y.current=null}function Cx(c,h,y){try{y()}catch(M){Nr(c,h,M)}}var uC=!1;function vB(c,h){for(Q(c.containerInfo),et=h;et!==null;)if(c=et,h=c.child,(c.subtreeFlags&1028)!==0&&h!==null)h.return=c,et=h;else for(;et!==null;){c=et;try{var y=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var M=y.memoizedProps,T=y.memoizedState,N=c.stateNode,$=N.getSnapshotBeforeUpdate(c.elementType===c.type?M:$s(c.type,M),T);N.__reactInternalSnapshotBeforeUpdate=$}break;case 3:Be&&Xe(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(oe){Nr(c,c.return,oe)}if(h=c.sibling,h!==null){h.return=c.return,et=h;break}et=c.return}return y=uC,uC=!1,y}function tu(c,h,y){var M=h.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var T=M=M.next;do{if((T.tag&c)===c){var N=T.destroy;T.destroy=void 0,N!==void 0&&Cx(h,y,N)}T=T.next}while(T!==M)}}function qh(c,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&c)===c){var M=y.create;y.destroy=M()}y=y.next}while(y!==h)}}function Px(c){var h=c.ref;if(h!==null){var y=c.stateNode;switch(c.tag){case 5:c=ee(y);break;default:c=y}typeof h=="function"?h(c):h.current=c}}function cC(c,h,y){if(yo&&typeof yo.onCommitFiberUnmount=="function")try{yo.onCommitFiberUnmount(Ym,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(c=h.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var M=c=c.next;do{var T=M,N=T.destroy;T=T.tag,N!==void 0&&(T&2||T&4)&&Cx(h,y,N),M=M.next}while(M!==c)}break;case 1:if(yg(h,y),c=h.stateNode,typeof c.componentWillUnmount=="function")try{c.props=h.memoizedProps,c.state=h.memoizedState,c.componentWillUnmount()}catch($){Nr(h,y,$)}break;case 5:yg(h,y);break;case 4:Be?gC(c,h,y):J&&J&&(h=h.stateNode.containerInfo,y=be(h),Tn(h,y))}}function fC(c,h,y){for(var M=h;;)if(cC(c,M,y),M.child===null||Be&&M.tag===4){if(M===h)break;for(;M.sibling===null;){if(M.return===null||M.return===h)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function hC(c){var h=c.alternate;h!==null&&(c.alternate=null,hC(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&se(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function dC(c){return c.tag===5||c.tag===3||c.tag===4}function pC(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||dC(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function mC(c){if(Be){e:{for(var h=c.return;h!==null;){if(dC(h))break e;h=h.return}throw Error(o(160))}var y=h;switch(y.tag){case 5:h=y.stateNode,y.flags&32&&(rt(h),y.flags&=-33),y=pC(c),Ix(c,y,h);break;case 3:case 4:h=y.stateNode.containerInfo,y=pC(c),Rx(c,y,h);break;default:throw Error(o(161))}}}function Rx(c,h,y){var M=c.tag;if(M===5||M===6)c=c.stateNode,h?Ae(y,c,h):Ke(y,c);else if(M!==4&&(c=c.child,c!==null))for(Rx(c,h,y),c=c.sibling;c!==null;)Rx(c,h,y),c=c.sibling}function Ix(c,h,y){var M=c.tag;if(M===5||M===6)c=c.stateNode,h?Dt(y,c,h):Ie(y,c);else if(M!==4&&(c=c.child,c!==null))for(Ix(c,h,y),c=c.sibling;c!==null;)Ix(c,h,y),c=c.sibling}function gC(c,h,y){for(var M=h,T=!1,N,$;;){if(!T){T=M.return;e:for(;;){if(T===null)throw Error(o(160));switch(N=T.stateNode,T.tag){case 5:$=!1;break e;case 3:N=N.containerInfo,$=!0;break e;case 4:N=N.containerInfo,$=!0;break e}T=T.return}T=!0}if(M.tag===5||M.tag===6)fC(c,M,y),$?xt(N,M.stateNode):Ht(N,M.stateNode);else if(M.tag===18)$?ce(N,M.stateNode):le(N,M.stateNode);else if(M.tag===4){if(M.child!==null){N=M.stateNode.containerInfo,$=!0,M.child.return=M,M=M.child;continue}}else if(cC(c,M,y),M.child!==null){M.child.return=M,M=M.child;continue}if(M===h)break;for(;M.sibling===null;){if(M.return===null||M.return===h)return;M=M.return,M.tag===4&&(T=!1)}M.sibling.return=M.return,M=M.sibling}}function Lx(c,h){if(Be){switch(h.tag){case 0:case 11:case 14:case 15:tu(3,h,h.return),qh(3,h),tu(5,h,h.return);return;case 1:return;case 5:var y=h.stateNode;if(y!=null){var M=h.memoizedProps;c=c!==null?c.memoizedProps:M;var T=h.type,N=h.updateQueue;h.updateQueue=null,N!==null&&it(y,N,T,c,M,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));y=h.memoizedProps,ke(h.stateNode,c!==null?c.memoizedProps:y,y);return;case 3:_e&&c!==null&&c.memoizedState.isDehydrated&&H(h.stateNode.containerInfo);return;case 12:return;case 13:_g(h);return;case 19:_g(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:tu(3,h,h.return),qh(3,h),tu(5,h,h.return);return;case 12:return;case 13:_g(h);return;case 19:_g(h);return;case 3:_e&&c!==null&&c.memoizedState.isDehydrated&&H(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(J){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,Tn(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function _g(c){var h=c.updateQueue;if(h!==null){c.updateQueue=null;var y=c.stateNode;y===null&&(y=c.stateNode=new gB),h.forEach(function(M){var T=bB.bind(null,c,M);y.has(M)||(y.add(M),M.then(T,T))})}}function yB(c,h){for(et=h;et!==null;){h=et;var y=h.deletions;if(y!==null)for(var M=0;M<y.length;M++){var T=y[M];try{var N=c;Be?gC(N,T,h):fC(N,T,h);var $=T.alternate;$!==null&&($.return=null),T.return=null}catch(St){Nr(T,h,St)}}if(y=h.child,h.subtreeFlags&12854&&y!==null)y.return=h,et=y;else for(;et!==null;){h=et;try{var oe=h.flags;if(oe&32&&Be&&rt(h.stateNode),oe&512){var we=h.alternate;if(we!==null){var ze=we.ref;ze!==null&&(typeof ze=="function"?ze(null):ze.current=null)}}if(oe&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var ft=h.alternate;(ft===null||ft.memoizedState===null)&&(zx=Ri())}break;case 22:var Ut=h.memoizedState!==null,Ct=h.alternate,xn=Ct!==null&&Ct.memoizedState!==null;if(y=h,Be){e:if(M=y,T=Ut,N=null,Be)for(var Mt=M;;){if(Mt.tag===5){if(N===null){N=Mt;var Ki=Mt.stateNode;T?Je(Ki):fe(Mt.stateNode,Mt.memoizedProps)}}else if(Mt.tag===6){if(N===null){var Ns=Mt.stateNode;T?Z(Ns):Le(Ns,Mt.memoizedProps)}}else if((Mt.tag!==22&&Mt.tag!==23||Mt.memoizedState===null||Mt===M)&&Mt.child!==null){Mt.child.return=Mt,Mt=Mt.child;continue}if(Mt===M)break;for(;Mt.sibling===null;){if(Mt.return===null||Mt.return===M)break e;N===Mt&&(N=null),Mt=Mt.return}N===Mt&&(N=null),Mt.sibling.return=Mt.return,Mt=Mt.sibling}}if(Ut&&!xn&&y.mode&1){et=y;for(var he=y.child;he!==null;){for(y=et=he;et!==null;){M=et;var ae=M.child;switch(M.tag){case 0:case 11:case 14:case 15:tu(4,M,M.return);break;case 1:yg(M,M.return);var ye=M.stateNode;if(typeof ye.componentWillUnmount=="function"){var nt=M.return;try{ye.props=M.memoizedProps,ye.state=M.memoizedState,ye.componentWillUnmount()}catch(St){Nr(M,nt,St)}}break;case 5:yg(M,M.return);break;case 22:if(M.memoizedState!==null){_C(y);continue}}ae!==null?(ae.return=M,et=ae):_C(y)}he=he.sibling}}}switch(oe&4102){case 2:mC(h),h.flags&=-3;break;case 6:mC(h),h.flags&=-3,Lx(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,Lx(h.alternate,h);break;case 4:Lx(h.alternate,h)}}catch(St){Nr(h,h.return,St)}if(y=h.sibling,y!==null){y.return=h.return,et=y;break}et=h.return}}}function _B(c,h,y){et=c,vC(c)}function vC(c,h,y){for(var M=(c.mode&1)!==0;et!==null;){var T=et,N=T.child;if(T.tag===22&&M){var $=T.memoizedState!==null||vg;if(!$){var oe=T.alternate,we=oe!==null&&oe.memoizedState!==null||eu;oe=vg;var ze=eu;if(vg=$,(eu=we)&&!ze)for(et=T;et!==null;)$=et,we=$.child,$.tag===22&&$.memoizedState!==null?xC(T):we!==null?(we.return=$,et=we):xC(T);for(;N!==null;)et=N,vC(N),N=N.sibling;et=T,vg=oe,eu=ze}yC(c)}else T.subtreeFlags&8772&&N!==null?(N.return=T,et=N):yC(c)}}function yC(c){for(;et!==null;){var h=et;if(h.flags&8772){var y=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:eu||qh(5,h);break;case 1:var M=h.stateNode;if(h.flags&4&&!eu)if(y===null)M.componentDidMount();else{var T=h.elementType===h.type?y.memoizedProps:$s(h.type,y.memoizedProps);M.componentDidUpdate(T,y.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var N=h.updateQueue;N!==null&&hb(h,N,M);break;case 3:var $=h.updateQueue;if($!==null){if(y=null,h.child!==null)switch(h.child.tag){case 5:y=ee(h.child.stateNode);break;case 1:y=h.child.stateNode}hb(h,$,y)}break;case 5:var oe=h.stateNode;y===null&&h.flags&4&&Ye(oe,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(_e&&h.memoizedState===null){var we=h.alternate;if(we!==null){var ze=we.memoizedState;if(ze!==null){var ft=ze.dehydrated;ft!==null&&Y(ft)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}eu||h.flags&512&&Px(h)}catch(Ut){Nr(h,h.return,Ut)}}if(h===c){et=null;break}if(y=h.sibling,y!==null){y.return=h.return,et=y;break}et=h.return}}function _C(c){for(;et!==null;){var h=et;if(h===c){et=null;break}var y=h.sibling;if(y!==null){y.return=h.return,et=y;break}et=h.return}}function xC(c){for(;et!==null;){var h=et;try{switch(h.tag){case 0:case 11:case 15:var y=h.return;try{qh(4,h)}catch(we){Nr(h,y,we)}break;case 1:var M=h.stateNode;if(typeof M.componentDidMount=="function"){var T=h.return;try{M.componentDidMount()}catch(we){Nr(h,T,we)}}var N=h.return;try{Px(h)}catch(we){Nr(h,N,we)}break;case 5:var $=h.return;try{Px(h)}catch(we){Nr(h,$,we)}}}catch(we){Nr(h,h.return,we)}if(h===c){et=null;break}var oe=h.sibling;if(oe!==null){oe.return=h.return,et=oe;break}et=h.return}}var xg=0,wg=1,Sg=2,Mg=3,Eg=4;if(typeof Symbol=="function"&&Symbol.for){var Zh=Symbol.for;xg=Zh("selector.component"),wg=Zh("selector.has_pseudo_class"),Sg=Zh("selector.role"),Mg=Zh("selector.test_id"),Eg=Zh("selector.text")}function Nx(c){var h=ge(c);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(c=mt(c),c===null)throw Error(o(362));return c.stateNode.current}function Dx(c,h){switch(h.$$typeof){case xg:if(c.type===h.value)return!0;break;case wg:e:{h=h.value,c=[c,0];for(var y=0;y<c.length;){var M=c[y++],T=c[y++],N=h[T];if(M.tag!==5||!F(M)){for(;N!=null&&Dx(M,N);)T++,N=h[T];if(T===h.length){h=!0;break e}else for(M=M.child;M!==null;)c.push(M,T),M=M.sibling}}h=!1}return h;case Sg:if(c.tag===5&&ue(c.stateNode,h.value))return!0;break;case Eg:if((c.tag===5||c.tag===6)&&(c=q(c),c!==null&&0<=c.indexOf(h.value)))return!0;break;case Mg:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function kx(c){switch(c.$$typeof){case xg:return"<"+(R(c.value)||"Unknown")+">";case wg:return":has("+(kx(c)||"")+")";case Sg:return'[role="'+c.value+'"]';case Eg:return'"'+c.value+'"';case Mg:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function wC(c,h){var y=[];c=[c,0];for(var M=0;M<c.length;){var T=c[M++],N=c[M++],$=h[N];if(T.tag!==5||!F(T)){for(;$!=null&&Dx(T,$);)N++,$=h[N];if(N===h.length)y.push(T);else for(T=T.child;T!==null;)c.push(T,N),T=T.sibling}}return y}function Ox(c,h){if(!vt)throw Error(o(363));c=Nx(c),c=wC(c,h),h=[],c=Array.from(c);for(var y=0;y<c.length;){var M=c[y++];if(M.tag===5)F(M)||h.push(M.stateNode);else for(M=M.child;M!==null;)c.push(M),M=M.sibling}return h}var xB=Math.ceil,Tg=a.ReactCurrentDispatcher,Ux=a.ReactCurrentOwner,ii=a.ReactCurrentBatchConfig,jt=0,ui=null,ci=null,Hi=0,Qr=0,Uc=Ze(0),xi=0,$h=null,Fc=0,Ag=0,Fx=0,Kh=null,Ir=null,zx=0,Bx=1/0;function zc(){Bx=Ri()+500}var bg=!1,Vx=null,ka=null,Cg=!1,Oa=null,Pg=0,Jh=0,Hx=null,Rg=-1,Ig=0;function dr(){return jt&6?Ri():Rg!==-1?Rg:Rg=Ri()}function Ua(c){return c.mode&1?jt&2&&Hi!==0?Hi&-Hi:nB.transition!==null?(Ig===0&&(c=Wm,Wm<<=1,!(Wm&4194240)&&(Wm=64),Ig=c),Ig):(c=sn,c!==0?c:Te()):1}function Is(c,h,y){if(50<Jh)throw Jh=0,Hx=null,Error(o(185));var M=Lg(c,h);return M===null?null:(kh(M,h,y),(!(jt&2)||M!==ui)&&(M===ui&&(!(jt&2)&&(Ag|=h),xi===4&&Fa(M,Hi)),Lr(M,y),h===1&&jt===0&&!(c.mode&1)&&(zc(),qm&&xo())),M)}function Lg(c,h){c.lanes|=h;var y=c.alternate;for(y!==null&&(y.lanes|=h),y=c,c=c.return;c!==null;)c.childLanes|=h,y=c.alternate,y!==null&&(y.childLanes|=h),y=c,c=c.return;return y.tag===3?y.stateNode:null}function Lr(c,h){var y=c.callbackNode;Yz(c,h);var M=Xm(c,c===ui?Hi:0);if(M===0)y!==null&&ab(y),c.callbackNode=null,c.callbackPriority=0;else if(h=M&-M,c.callbackPriority!==h){if(y!=null&&ab(y),h===1)c.tag===0?tB(MC.bind(null,c)):lb(MC.bind(null,c)),He?Qe(function(){jt===0&&xo()}):$_(K_,xo),y=null;else{switch(ob(M)){case 1:y=K_;break;case 4:y=Kz;break;case 16:y=J_;break;case 536870912:y=Jz;break;default:y=J_}y=LC(y,SC.bind(null,c))}c.callbackPriority=h,c.callbackNode=y}}function SC(c,h){if(Rg=-1,Ig=0,jt&6)throw Error(o(327));var y=c.callbackNode;if(ru()&&c.callbackNode!==y)return null;var M=Xm(c,c===ui?Hi:0);if(M===0)return null;if(M&30||M&c.expiredLanes||h)h=Ng(c,M);else{h=M;var T=jt;jt|=2;var N=AC();(ui!==c||Hi!==h)&&(zc(),nu(c,h));do try{MB();break}catch(oe){TC(c,oe)}while(1);tx(),Tg.current=N,jt=T,ci!==null?h=0:(ui=null,Hi=0,h=xi)}if(h!==0){if(h===2&&(T=Y_(c),T!==0&&(M=T,h=Gx(c,T))),h===1)throw y=$h,nu(c,0),Fa(c,M),Lr(c,Ri()),y;if(h===6)Fa(c,M);else{if(T=c.current.alternate,!(M&30)&&!wB(T)&&(h=Ng(c,M),h===2&&(N=Y_(c),N!==0&&(M=N,h=Gx(c,N))),h===1))throw y=$h,nu(c,0),Fa(c,M),Lr(c,Ri()),y;switch(c.finishedWork=T,c.finishedLanes=M,h){case 0:case 1:throw Error(o(345));case 2:iu(c,Ir);break;case 3:if(Fa(c,M),(M&130023424)===M&&(h=zx+500-Ri(),10<h)){if(Xm(c,0)!==0)break;if(T=c.suspendedLanes,(T&M)!==M){dr(),c.pingedLanes|=c.suspendedLanes&T;break}c.timeoutHandle=De(iu.bind(null,c,Ir),h);break}iu(c,Ir);break;case 4:if(Fa(c,M),(M&4194240)===M)break;for(h=c.eventTimes,T=-1;0<M;){var $=31-kn(M);N=1<<$,$=h[$],$>T&&(T=$),M&=~N}if(M=T,M=Ri()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*xB(M/1960))-M,10<M){c.timeoutHandle=De(iu.bind(null,c,Ir),M);break}iu(c,Ir);break;case 5:iu(c,Ir);break;default:throw Error(o(329))}}}return Lr(c,Ri()),c.callbackNode===y?SC.bind(null,c):null}function Gx(c,h){var y=Kh;return c.current.memoizedState.isDehydrated&&(nu(c,h).flags|=256),c=Ng(c,h),c!==2&&(h=Ir,Ir=y,h!==null&&Wx(h)),c}function Wx(c){Ir===null?Ir=c:Ir.push.apply(Ir,c)}function wB(c){for(var h=c;;){if(h.flags&16384){var y=h.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var M=0;M<y.length;M++){var T=y[M],N=T.getSnapshot;T=T.value;try{if(!_o(N(),T))return!1}catch{return!1}}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Fa(c,h){for(h&=~Fx,h&=~Ag,c.suspendedLanes|=h,c.pingedLanes&=~h,c=c.expirationTimes;0<h;){var y=31-kn(h),M=1<<y;c[y]=-1,h&=~M}}function MC(c){if(jt&6)throw Error(o(327));ru();var h=Xm(c,0);if(!(h&1))return Lr(c,Ri()),null;var y=Ng(c,h);if(c.tag!==0&&y===2){var M=Y_(c);M!==0&&(h=M,y=Gx(c,M))}if(y===1)throw y=$h,nu(c,0),Fa(c,h),Lr(c,Ri()),y;if(y===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=h,iu(c,Ir),Lr(c,Ri()),null}function EC(c){Oa!==null&&Oa.tag===0&&!(jt&6)&&ru();var h=jt;jt|=1;var y=ii.transition,M=sn;try{if(ii.transition=null,sn=1,c)return c()}finally{sn=M,ii.transition=y,jt=h,!(jt&6)&&xo()}}function jx(){Qr=Uc.current,At(Uc)}function nu(c,h){c.finishedWork=null,c.finishedLanes=0;var y=c.timeoutHandle;if(y!==_t&&(c.timeoutHandle=_t,We(y)),ci!==null)for(y=ci.return;y!==null;){var M=y;switch(lx(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&ni();break;case 3:kc(),At(Lt),At(fn),mx();break;case 5:dx(M);break;case 4:kc();break;case 13:At(Hn);break;case 19:At(Hn);break;case 10:nx(M.type._context);break;case 22:case 23:jx()}y=y.return}if(ui=c,ci=c=za(c.current,null),Hi=Qr=h,xi=0,$h=null,Fx=Ag=Fc=0,Ir=Kh=null,wo!==null){for(h=0;h<wo.length;h++)if(y=wo[h],M=y.interleaved,M!==null){y.interleaved=null;var T=M.next,N=y.pending;if(N!==null){var $=N.next;N.next=T,M.next=$}y.pending=M}wo=null}return c}function TC(c,h){do{var y=ci;try{if(tx(),sg.current=fg,og){for(var M=$n.memoizedState;M!==null;){var T=M.queue;T!==null&&(T.pending=null),M=M.next}og=!1}if(Oc=0,Ii=qi=$n=null,Vh=!1,Hh=0,Ux.current=null,y===null||y.return===null){xi=1,$h=h,ci=null;break}e:{var N=c,$=y.return,oe=y,we=h;if(h=Hi,oe.flags|=32768,we!==null&&typeof we=="object"&&typeof we.then=="function"){var ze=we,ft=oe,Ut=ft.tag;if(!(ft.mode&1)&&(Ut===0||Ut===11||Ut===15)){var Ct=ft.alternate;Ct?(ft.updateQueue=Ct.updateQueue,ft.memoizedState=Ct.memoizedState,ft.lanes=Ct.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var xn=Xb($);if(xn!==null){xn.flags&=-257,Yb(xn,$,oe,N,h),xn.mode&1&&jb(N,ze,h),h=xn,we=ze;var Mt=h.updateQueue;if(Mt===null){var Ki=new Set;Ki.add(we),h.updateQueue=Ki}else Mt.add(we);break e}else{if(!(h&1)){jb(N,ze,h),Xx();break e}we=Error(o(426))}}else if(On&&oe.mode&1){var Ns=Xb($);if(Ns!==null){!(Ns.flags&65536)&&(Ns.flags|=256),Yb(Ns,$,oe,N,h),fx(we);break e}}N=we,xi!==4&&(xi=2),Kh===null?Kh=[N]:Kh.push(N),we=Sx(we,oe),oe=$;do{switch(oe.tag){case 3:oe.flags|=65536,h&=-h,oe.lanes|=h;var he=Gb(oe,we,h);fb(oe,he);break e;case 1:N=we;var ae=oe.type,ye=oe.stateNode;if(!(oe.flags&128)&&(typeof ae.getDerivedStateFromError=="function"||ye!==null&&typeof ye.componentDidCatch=="function"&&(ka===null||!ka.has(ye)))){oe.flags|=65536,h&=-h,oe.lanes|=h;var nt=Wb(oe,N,h);fb(oe,nt);break e}}oe=oe.return}while(oe!==null)}CC(y)}catch(St){h=St,ci===y&&y!==null&&(ci=y=y.return);continue}break}while(1)}function AC(){var c=Tg.current;return Tg.current=fg,c===null?fg:c}function Xx(){(xi===0||xi===3||xi===2)&&(xi=4),ui===null||!(Fc&268435455)&&!(Ag&268435455)||Fa(ui,Hi)}function Ng(c,h){var y=jt;jt|=2;var M=AC();ui===c&&Hi===h||nu(c,h);do try{SB();break}catch(T){TC(c,T)}while(1);if(tx(),jt=y,Tg.current=M,ci!==null)throw Error(o(261));return ui=null,Hi=0,xi}function SB(){for(;ci!==null;)bC(ci)}function MB(){for(;ci!==null&&!Zz();)bC(ci)}function bC(c){var h=IC(c.alternate,c,Qr);c.memoizedProps=c.pendingProps,h===null?CC(c):ci=h,Ux.current=null}function CC(c){var h=c;do{var y=h.alternate;if(c=h.return,h.flags&32768){if(y=mB(y,h),y!==null){y.flags&=32767,ci=y;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{xi=6,ci=null;return}}else if(y=hB(y,h,Qr),y!==null){ci=y;return}if(h=h.sibling,h!==null){ci=h;return}ci=h=c}while(h!==null);xi===0&&(xi=5)}function iu(c,h){var y=sn,M=ii.transition;try{ii.transition=null,sn=1,EB(c,h,y)}finally{ii.transition=M,sn=y}return null}function EB(c,h,y){do ru();while(Oa!==null);if(jt&6)throw Error(o(327));var M=c.finishedWork,T=c.finishedLanes;if(M===null)return null;if(c.finishedWork=null,c.finishedLanes=0,M===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var N=M.lanes|M.childLanes;if(qz(c,N),c===ui&&(ci=ui=null,Hi=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||Cg||(Cg=!0,LC(J_,function(){return ru(),null})),N=(M.flags&15990)!==0,M.subtreeFlags&15990||N){N=ii.transition,ii.transition=null;var $=sn;sn=1;var oe=jt;jt|=4,Ux.current=null,vB(c,M),yB(c,M),k(c.containerInfo),c.current=M,_B(M),$z(),jt=oe,sn=$,ii.transition=N}else c.current=M;if(Cg&&(Cg=!1,Oa=c,Pg=T),N=c.pendingLanes,N===0&&(ka=null),Qz(M.stateNode),Lr(c,Ri()),h!==null)for(y=c.onRecoverableError,M=0;M<h.length;M++)y(h[M]);if(bg)throw bg=!1,c=Vx,Vx=null,c;return Pg&1&&c.tag!==0&&ru(),N=c.pendingLanes,N&1?c===Hx?Jh++:(Jh=0,Hx=c):Jh=0,xo(),null}function ru(){if(Oa!==null){var c=ob(Pg),h=ii.transition,y=sn;try{if(ii.transition=null,sn=16>c?16:c,Oa===null)var M=!1;else{if(c=Oa,Oa=null,Pg=0,jt&6)throw Error(o(331));var T=jt;for(jt|=4,et=c.current;et!==null;){var N=et,$=N.child;if(et.flags&16){var oe=N.deletions;if(oe!==null){for(var we=0;we<oe.length;we++){var ze=oe[we];for(et=ze;et!==null;){var ft=et;switch(ft.tag){case 0:case 11:case 15:tu(8,ft,N)}var Ut=ft.child;if(Ut!==null)Ut.return=ft,et=Ut;else for(;et!==null;){ft=et;var Ct=ft.sibling,xn=ft.return;if(hC(ft),ft===ze){et=null;break}if(Ct!==null){Ct.return=xn,et=Ct;break}et=xn}}}var Mt=N.alternate;if(Mt!==null){var Ki=Mt.child;if(Ki!==null){Mt.child=null;do{var Ns=Ki.sibling;Ki.sibling=null,Ki=Ns}while(Ki!==null)}}et=N}}if(N.subtreeFlags&2064&&$!==null)$.return=N,et=$;else e:for(;et!==null;){if(N=et,N.flags&2048)switch(N.tag){case 0:case 11:case 15:tu(9,N,N.return)}var he=N.sibling;if(he!==null){he.return=N.return,et=he;break e}et=N.return}}var ae=c.current;for(et=ae;et!==null;){$=et;var ye=$.child;if($.subtreeFlags&2064&&ye!==null)ye.return=$,et=ye;else e:for($=ae;et!==null;){if(oe=et,oe.flags&2048)try{switch(oe.tag){case 0:case 11:case 15:qh(9,oe)}}catch(St){Nr(oe,oe.return,St)}if(oe===$){et=null;break e}var nt=oe.sibling;if(nt!==null){nt.return=oe.return,et=nt;break e}et=oe.return}}if(jt=T,xo(),yo&&typeof yo.onPostCommitFiberRoot=="function")try{yo.onPostCommitFiberRoot(Ym,c)}catch{}M=!0}return M}finally{sn=y,ii.transition=h}}return!1}function PC(c,h,y){h=Sx(y,h),h=Gb(c,h,1),Da(c,h),h=dr(),c=Lg(c,1),c!==null&&(kh(c,1,h),Lr(c,h))}function Nr(c,h,y){if(c.tag===3)PC(c,c,y);else for(;h!==null;){if(h.tag===3){PC(h,c,y);break}else if(h.tag===1){var M=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(ka===null||!ka.has(M))){c=Sx(y,c),c=Wb(h,c,1),Da(h,c),c=dr(),h=Lg(h,1),h!==null&&(kh(h,1,c),Lr(h,c));break}}h=h.return}}function TB(c,h,y){var M=c.pingCache;M!==null&&M.delete(h),h=dr(),c.pingedLanes|=c.suspendedLanes&y,ui===c&&(Hi&y)===y&&(xi===4||xi===3&&(Hi&130023424)===Hi&&500>Ri()-zx?nu(c,0):Fx|=y),Lr(c,h)}function RC(c,h){h===0&&(c.mode&1?(h=jm,jm<<=1,!(jm&130023424)&&(jm=4194304)):h=1);var y=dr();c=Lg(c,h),c!==null&&(kh(c,h,y),Lr(c,y))}function AB(c){var h=c.memoizedState,y=0;h!==null&&(y=h.retryLane),RC(c,y)}function bB(c,h){var y=0;switch(c.tag){case 13:var M=c.stateNode,T=c.memoizedState;T!==null&&(y=T.retryLane);break;case 19:M=c.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(h),RC(c,y)}var IC;IC=function(c,h,y){if(c!==null)if(c.memoizedProps!==h.pendingProps||Lt.current)Jr=!0;else{if(!(c.lanes&y)&&!(h.flags&128))return Jr=!1,pB(c,h,y);Jr=!!(c.flags&131072)}else Jr=!1,On&&h.flags&1048576&&vb(h,ng,h.index);switch(h.lanes=0,h.tag){case 2:var M=h.type;c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),c=h.pendingProps;var T=rn(h,fn.current);Pc(h,y),T=vx(null,h,M,c,T,y);var N=yx();return h.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,_n(M)?(N=!0,un(h)):N=!1,h.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,rx(h),T.updater=eg,h.stateNode=T,T._reactInternals=h,ox(h,M,c,y),h=Tx(null,h,M,!0,N,y)):(h.tag=0,On&&N&&ax(h),hr(null,h,T,y),h=h.child),h;case 16:M=h.elementType;e:{switch(c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),c=h.pendingProps,T=M._init,M=T(M._payload),h.type=M,T=h.tag=PB(M),c=$s(M,c),T){case 0:h=Ex(null,h,M,c,y);break e;case 1:h=tC(null,h,M,c,y);break e;case 11:h=$b(null,h,M,c,y);break e;case 14:h=Kb(null,h,M,$s(M.type,c),y);break e}throw Error(o(306,M,""))}return h;case 0:return M=h.type,T=h.pendingProps,T=h.elementType===M?T:$s(M,T),Ex(c,h,M,T,y);case 1:return M=h.type,T=h.pendingProps,T=h.elementType===M?T:$s(M,T),tC(c,h,M,T,y);case 3:e:{if(nC(h),c===null)throw Error(o(387));M=h.pendingProps,N=h.memoizedState,T=N.element,cb(c,h),Qm(h,M,null,y);var $=h.memoizedState;if(M=$.element,_e&&N.isDehydrated)if(N={element:M,isDehydrated:!1,cache:$.cache,transitions:$.transitions},h.updateQueue.baseState=N,h.memoizedState=N,h.flags&256){T=Error(o(423)),h=iC(c,h,M,y,T);break e}else if(M!==T){T=Error(o(424)),h=iC(c,h,M,y,T);break e}else for(_e&&(Kr=Bn(h.stateNode.containerInfo),$r=h,On=!0,Ks=null,Oh=!1),y=Mb(h,null,M,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Lc(),M===T){h=Qo(c,h,y);break e}hr(c,h,M,y)}h=h.child}return h;case 5:return Eb(h),c===null&&cx(h),M=h.type,T=h.pendingProps,N=c!==null?c.memoizedProps:null,$=T.children,Ce(M,T)?$=null:N!==null&&Ce(M,N)&&(h.flags|=32),eC(c,h),hr(c,h,$,y),h.child;case 6:return c===null&&cx(h),null;case 13:return rC(c,h,y);case 4:return hx(h,h.stateNode.containerInfo),M=h.pendingProps,c===null?h.child=Nc(h,null,M,y):hr(c,h,M,y),h.child;case 11:return M=h.type,T=h.pendingProps,T=h.elementType===M?T:$s(M,T),$b(c,h,M,T,y);case 7:return hr(c,h,h.pendingProps,y),h.child;case 8:return hr(c,h,h.pendingProps.children,y),h.child;case 12:return hr(c,h,h.pendingProps.children,y),h.child;case 10:e:{if(M=h.type._context,T=h.pendingProps,N=h.memoizedProps,$=T.value,ub(h,M,$),N!==null)if(_o(N.value,$)){if(N.children===T.children&&!Lt.current){h=Qo(c,h,y);break e}}else for(N=h.child,N!==null&&(N.return=h);N!==null;){var oe=N.dependencies;if(oe!==null){$=N.child;for(var we=oe.firstContext;we!==null;){if(we.context===M){if(N.tag===1){we=Zo(-1,y&-y),we.tag=2;var ze=N.updateQueue;if(ze!==null){ze=ze.shared;var ft=ze.pending;ft===null?we.next=we:(we.next=ft.next,ft.next=we),ze.pending=we}}N.lanes|=y,we=N.alternate,we!==null&&(we.lanes|=y),ix(N.return,y,h),oe.lanes|=y;break}we=we.next}}else if(N.tag===10)$=N.type===h.type?null:N.child;else if(N.tag===18){if($=N.return,$===null)throw Error(o(341));$.lanes|=y,oe=$.alternate,oe!==null&&(oe.lanes|=y),ix($,y,h),$=N.sibling}else $=N.child;if($!==null)$.return=N;else for($=N;$!==null;){if($===h){$=null;break}if(N=$.sibling,N!==null){N.return=$.return,$=N;break}$=$.return}N=$}hr(c,h,T.children,y),h=h.child}return h;case 9:return T=h.type,M=h.pendingProps.children,Pc(h,y),T=As(T),M=M(T),h.flags|=1,hr(c,h,M,y),h.child;case 14:return M=h.type,T=$s(M,h.pendingProps),T=$s(M.type,T),Kb(c,h,M,T,y);case 15:return Jb(c,h,h.type,h.pendingProps,y);case 17:return M=h.type,T=h.pendingProps,T=h.elementType===M?T:$s(M,T),c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,_n(M)?(c=!0,un(h)):c=!1,Pc(h,y),mb(h,M,T),ox(h,M,T,y),Tx(null,h,M,!0,c,y);case 19:return lC(c,h,y);case 22:return Qb(c,h,y)}throw Error(o(156,h.tag))};function LC(c,h){return $_(c,h)}function CB(c,h,y,M){this.tag=c,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ls(c,h,y,M){return new CB(c,h,y,M)}function Yx(c){return c=c.prototype,!(!c||!c.isReactComponent)}function PB(c){if(typeof c=="function")return Yx(c)?1:0;if(c!=null){if(c=c.$$typeof,c===_)return 11;if(c===w)return 14}return 2}function za(c,h){var y=c.alternate;return y===null?(y=Ls(c.tag,h,c.key,c.mode),y.elementType=c.elementType,y.type=c.type,y.stateNode=c.stateNode,y.alternate=c,c.alternate=y):(y.pendingProps=h,y.type=c.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=c.flags&14680064,y.childLanes=c.childLanes,y.lanes=c.lanes,y.child=c.child,y.memoizedProps=c.memoizedProps,y.memoizedState=c.memoizedState,y.updateQueue=c.updateQueue,h=c.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=c.sibling,y.index=c.index,y.ref=c.ref,y}function Dg(c,h,y,M,T,N){var $=2;if(M=c,typeof c=="function")Yx(c)&&($=1);else if(typeof c=="string")$=5;else e:switch(c){case f:return su(y.children,T,N,h);case d:$=8,T|=8;break;case p:return c=Ls(12,y,h,T|2),c.elementType=p,c.lanes=N,c;case x:return c=Ls(13,y,h,T),c.elementType=x,c.lanes=N,c;case g:return c=Ls(19,y,h,T),c.elementType=g,c.lanes=N,c;case E:return kg(y,T,N,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:$=10;break e;case v:$=9;break e;case _:$=11;break e;case w:$=14;break e;case S:$=16,M=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return h=Ls($,y,h,T),h.elementType=c,h.type=M,h.lanes=N,h}function su(c,h,y,M){return c=Ls(7,c,M,h),c.lanes=y,c}function kg(c,h,y,M){return c=Ls(22,c,M,h),c.elementType=E,c.lanes=y,c.stateNode={},c}function qx(c,h,y){return c=Ls(6,c,null,h),c.lanes=y,c}function Zx(c,h,y){return h=Ls(4,c.children!==null?c.children:[],c.key,h),h.lanes=y,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function RB(c,h,y,M,T){this.tag=h,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=_t,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=q_(0),this.expirationTimes=q_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=q_(0),this.identifierPrefix=M,this.onRecoverableError=T,_e&&(this.mutableSourceEagerHydrationData=null)}function NC(c,h,y,M,T,N,$,oe,we){return c=new RB(c,h,y,oe,we),h===1?(h=1,N===!0&&(h|=8)):h=0,N=Ls(3,null,null,h),c.current=N,N.stateNode=c,N.memoizedState={element:M,isDehydrated:y,cache:null,transitions:null},rx(N),c}function DC(c){if(!c)return Ot;c=c._reactInternals;e:{if(C(c)!==c||c.tag!==1)throw Error(o(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(_n(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(c.tag===1){var y=c.type;if(_n(y))return Vn(c,y,h)}return h}function kC(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=W(h),c===null?null:c.stateNode}function OC(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var y=c.retryLane;c.retryLane=y!==0&&y<h?y:h}}function $x(c,h){OC(c,h),(c=c.alternate)&&OC(c,h)}function IB(c){return c=W(c),c===null?null:c.stateNode}function LB(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var h=dr();Is(c,134217728,h),$x(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var h=dr(),y=Ua(c);Is(c,y,h),$x(c,y)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var h=c.stateNode;if(h.current.memoizedState.isDehydrated){var y=Dh(h.pendingLanes);y!==0&&(Z_(h,y|1),Lr(h,Ri()),!(jt&6)&&(zc(),xo()))}break;case 13:var M=dr();EC(function(){return Is(c,1,M)}),$x(c,1)}},t.batchedUpdates=function(c,h){var y=jt;jt|=1;try{return c(h)}finally{jt=y,jt===0&&(zc(),qm&&xo())}},t.createComponentSelector=function(c){return{$$typeof:xg,value:c}},t.createContainer=function(c,h,y,M,T,N,$){return NC(c,h,!1,null,y,M,T,N,$)},t.createHasPseudoClassSelector=function(c){return{$$typeof:wg,value:c}},t.createHydrationContainer=function(c,h,y,M,T,N,$,oe,we){return c=NC(y,M,!0,c,T,N,$,oe,we),c.context=DC(null),y=c.current,M=dr(),T=Ua(y),N=Zo(M,T),N.callback=h??null,Da(y,N),c.current.lanes=T,kh(c,T,M),Lr(c,M),c},t.createPortal=function(c,h,y){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:M==null?null:""+M,children:c,containerInfo:h,implementation:y}},t.createRoleSelector=function(c){return{$$typeof:Sg,value:c}},t.createTestNameSelector=function(c){return{$$typeof:Mg,value:c}},t.createTextSelector=function(c){return{$$typeof:Eg,value:c}},t.deferredUpdates=function(c){var h=sn,y=ii.transition;try{return ii.transition=null,sn=16,c()}finally{sn=h,ii.transition=y}},t.discreteUpdates=function(c,h,y,M,T){var N=sn,$=ii.transition;try{return ii.transition=null,sn=1,c(h,y,M,T)}finally{sn=N,ii.transition=$,jt===0&&zc()}},t.findAllNodes=Ox,t.findBoundingRects=function(c,h){if(!vt)throw Error(o(363));h=Ox(c,h),c=[];for(var y=0;y<h.length;y++)c.push(Jt(h[y]));for(h=c.length-1;0<h;h--){y=c[h];for(var M=y.x,T=M+y.width,N=y.y,$=N+y.height,oe=h-1;0<=oe;oe--)if(h!==oe){var we=c[oe],ze=we.x,ft=ze+we.width,Ut=we.y,Ct=Ut+we.height;if(M>=ze&&N>=Ut&&T<=ft&&$<=Ct){c.splice(h,1);break}else if(M!==ze||y.width!==we.width||Ct<N||Ut>$){if(!(N!==Ut||y.height!==we.height||ft<M||ze>T)){ze>M&&(we.width+=ze-M,we.x=M),ft<T&&(we.width=T-ze),c.splice(h,1);break}}else{Ut>N&&(we.height+=Ut-N,we.y=N),Ct<$&&(we.height=$-Ut),c.splice(h,1);break}}}return c},t.findHostInstance=kC,t.findHostInstanceWithNoPortals=function(c){return c=B(c),c=c!==null?z(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return kC(c)},t.flushControlled=function(c){var h=jt;jt|=1;var y=ii.transition,M=sn;try{ii.transition=null,sn=1,c()}finally{sn=M,ii.transition=y,jt=h,jt===0&&(zc(),xo())}},t.flushPassiveEffects=ru,t.flushSync=EC,t.focusWithin=function(c,h){if(!vt)throw Error(o(363));for(c=Nx(c),h=wC(c,h),h=Array.from(h),c=0;c<h.length;){var y=h[c++];if(!F(y)){if(y.tag===5&&Ne(y.stateNode))return!0;for(y=y.child;y!==null;)h.push(y),y=y.sibling}}return!1},t.getCurrentUpdatePriority=function(){return sn},t.getFindAllNodesFailureDescription=function(c,h){if(!vt)throw Error(o(363));var y=0,M=[];c=[Nx(c),0];for(var T=0;T<c.length;){var N=c[T++],$=c[T++],oe=h[$];if((N.tag!==5||!F(N))&&(Dx(N,oe)&&(M.push(kx(oe)),$++,$>y&&(y=$)),$<h.length))for(N=N.child;N!==null;)c.push(N,$),N=N.sibling}if(y<h.length){for(c=[];y<h.length;y++)c.push(kx(h[y]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return ee(c.child.stateNode);default:return c.child.stateNode}},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:IB,findFiberByHostInstance:c.findFiberByHostInstance||LB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)c=!0;else{try{Ym=h.inject(c),yo=h}catch{}c=!!h.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,h,y,M){if(!vt)throw Error(o(363));c=Ox(c,h);var T=Me(c,y,M).disconnect;return{disconnect:function(){T()}}},t.registerMutableSourceForHydration=function(c,h){var y=h._getVersion;y=y(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,y]:c.mutableSourceEagerHydrationData.push(h,y)},t.runWithPriority=function(c,h){var y=sn;try{return sn=c,h()}finally{sn=y}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,h,y,M){var T=h.current,N=dr(),$=Ua(T);return y=DC(y),h.context===null?h.context=y:h.pendingContext=y,h=Zo(N,$),h.payload={element:c},M=M===void 0?null:M,M!==null&&(h.callback=M),Da(T,h),c=Is(T,$,N),c!==null&&Jm(c,T,$),$},t};sz.exports=ZK;var $K=sz.exports;const KK=D3($K),YA={},lz=n=>void Object.assign(YA,n);function JK(n,e){function t(f,{args:d=[],attach:p,...m},v){let _=`${f[0].toUpperCase()}${f.slice(1)}`,x;if(f==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;x=gf(g,{type:f,root:v,attach:p,primitive:!0})}else{const g=YA[_];if(!g)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");x=gf(new g(...d),{type:f,root:v,attach:p,memoizedProps:{args:d}})}return x.__r3f.attach===void 0&&(x.isBufferGeometry?x.__r3f.attach="geometry":x.isMaterial&&(x.__r3f.attach="material")),_!=="inject"&&Nw(x,m),x}function i(f,d){let p=!1;if(d){var m,v;(m=d.__r3f)!=null&&m.attach?Lw(f,d,d.__r3f.attach):d.isObject3D&&f.isObject3D&&(f.add(d),p=!0),p||(v=f.__r3f)==null||v.objects.push(d),d.__r3f||gf(d,{}),d.__r3f.parent=f,fE(d),vf(d)}}function r(f,d,p){let m=!1;if(d){var v,_;if((v=d.__r3f)!=null&&v.attach)Lw(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){d.parent=f,d.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:d});const x=f.children.filter(w=>w!==d),g=x.indexOf(p);f.children=[...x.slice(0,g),d,...x.slice(g)],m=!0}m||(_=f.__r3f)==null||_.objects.push(d),d.__r3f||gf(d,{}),d.__r3f.parent=f,fE(d),vf(d)}}function s(f,d,p=!1){f&&[...f].forEach(m=>o(d,m,p))}function o(f,d,p){if(d){var m,v,_;if(d.__r3f&&(d.__r3f.parent=null),(m=f.__r3f)!=null&&m.objects&&(f.__r3f.objects=f.__r3f.objects.filter(E=>E!==d)),(v=d.__r3f)!=null&&v.attach)_3(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){var x;f.remove(d),(x=d.__r3f)!=null&&x.root&&oJ(zv(d),d)}const w=(_=d.__r3f)==null?void 0:_.primitive,S=!w&&(p===void 0?d.dispose!==null:p);if(!w){var g;s((g=d.__r3f)==null?void 0:g.objects,d,S),s(d.children,d,S)}if(delete d.__r3f,S&&d.dispose&&d.type!=="Scene"){const E=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?uE.unstable_scheduleCallback(uE.unstable_IdlePriority,E):E()}vf(f)}}function a(f,d,p,m){var v;const _=(v=f.__r3f)==null?void 0:v.parent;if(!_)return;const x=t(d,p,f.__r3f.root);if(f.children){for(const g of f.children)g.__r3f&&i(x,g);f.children=f.children.filter(g=>!g.__r3f)}f.__r3f.objects.forEach(g=>i(x,g)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||o(_,f),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(_,x),x.raycast&&x.__r3f.eventCount&&zv(x).getState().internal.interaction.push(x),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=x,g.ref&&(typeof g.ref=="function"?g.ref(x):g.ref.current=x))})}const l=()=>{};return{reconciler:KK({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,d)=>{if(!d)return;const p=f.getState().scene;p.__r3f&&(p.__r3f.root=f,i(p,d))},removeChildFromContainer:(f,d)=>{d&&o(f.getState().scene,d)},insertInContainerBefore:(f,d,p)=>{if(!d||!p)return;const m=f.getState().scene;m.__r3f&&r(m,d,p)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var d;return!!((d=f==null?void 0:f.__r3f)!=null?d:{}).handlers},prepareUpdate(f,d,p,m){var v;if(((v=f==null?void 0:f.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==f)return[!0];{const{args:x=[],children:g,...w}=m,{args:S=[],children:E,...b}=p;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((R,I)=>R!==S[I]))return[!0];const P=mz(f,w,b,!0);return P.changes.length?[!1,P]:null}},commitUpdate(f,[d,p],m,v,_,x){d?a(f,m,_,x):Nw(f,p)},commitMount(f,d,p,m){var v;const _=(v=f.__r3f)!=null?v:{};f.raycast&&_.handlers&&_.eventCount&&zv(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>gf(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var d;const{attach:p,parent:m}=(d=f.__r3f)!=null?d:{};p&&m&&_3(m,f,p),f.isObject3D&&(f.visible=!1),vf(f)},unhideInstance(f,d){var p;const{attach:m,parent:v}=(p=f.__r3f)!=null?p:{};m&&v&&Lw(v,f,m),(f.isObject3D&&d.visible==null||d.visible)&&(f.visible=!0),vf(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Vf.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Cn.fun(performance.now)?performance.now:Cn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Cn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Cn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Nw}}var m3,g3;const Iw=n=>"colorSpace"in n||"outputColorSpace"in n,uz=()=>{var n;return(n=YA.ColorManagement)!=null?n:null},cz=n=>n&&n.isOrthographicCamera,QK=n=>n&&n.hasOwnProperty("current"),Hm=typeof window<"u"&&((m3=window.document)!=null&&m3.createElement||((g3=window.navigator)==null?void 0:g3.product)==="ReactNative")?K.useLayoutEffect:K.useEffect;function fz(n){const e=K.useRef(n);return Hm(()=>void(e.current=n),[n]),e}function eJ({set:n}){return Hm(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class hz extends K.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}hz.getDerivedStateFromError=()=>({error:!0});const dz="__default",v3=new Map,tJ=n=>n&&!!n.memoized&&!!n.changes;function pz(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Sd=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function zv(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Cn={obj:n=>n===Object(n)&&!Cn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Cn.str(n)||Cn.num(n)||Cn.boo(n))return n===e;const s=Cn.obj(n);if(s&&i==="reference")return n===e;const o=Cn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!Cn.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(Cn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function nJ(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function iJ(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function gf(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function cE(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const y3=/-\d+$/;function Lw(n,e,t){if(Cn.str(t)){if(y3.test(t)){const s=t.replace(y3,""),{target:o,key:a}=cE(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=cE(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function _3(n,e,t){var i,r;if(Cn.str(t)){const{target:s,key:o}=cE(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function mz(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},u=!1){const f=n.__r3f,d=Object.entries(r),p=[];if(u){const v=Object.keys(l);for(let _=0;_<v.length;_++)r.hasOwnProperty(v[_])||d.unshift([v[_],dz+"remove"])}d.forEach(([v,_])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&v==="object"||Cn.equ(_,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return p.push([v,_,!0,[]]);let g=[];v.includes("-")&&(g=v.split("-")),p.push([v,_,!1,g]);for(const w in r){const S=r[w];w.startsWith(`${v}-`)&&p.push([w,S,!1,w.split("-")])}});const m={...r};return f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.args&&(m.args=f.memoizedProps.args),f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.attach&&(m.attach=f.memoizedProps.attach),{memoized:m,changes:p}}const rJ=typeof process<"u"&&!1;function Nw(n,e){var t;const i=n.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=tJ(e)?e:mz(n,e),l=i==null?void 0:i.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let p=0;p<a.length;p++){let[m,v,_,x]=a[p];if(Iw(n)){const E="srgb",b="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?E:b):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?E:b)}let g=n,w=g[m];if(x.length&&(w=x.reduce((S,E)=>S[E],n),!(w&&w.set))){const[S,...E]=x.reverse();g=E.reverse().reduce((b,P)=>b[P],n),m=S}if(v===dz+"remove")if(g.constructor){let S=v3.get(g.constructor);S||(S=new g.constructor,v3.set(g.constructor,S)),v=S[m]}else v=0;if(_&&i)v?i.handlers[m]=v:delete i.handlers[m],i.eventCount=Object.keys(i.handlers).length;else if(w&&w.set&&(w.copy||w instanceof Ju)){if(Array.isArray(v))w.fromArray?w.fromArray(v):w.set(...v);else if(w.copy&&v&&v.constructor&&(rJ?w.constructor.name===v.constructor.name:w.constructor===v.constructor))w.copy(v);else if(v!==void 0){var u;const S=(u=w)==null?void 0:u.isColor;!S&&w.setScalar?w.setScalar(v):w instanceof Ju&&v instanceof Ju?w.mask=v.mask:w.set(v),!uz()&&s&&!s.linear&&S&&w.convertSRGBToLinear()}}else{var f;if(g[m]=v,(f=g[m])!=null&&f.isTexture&&g[m].format===Ti&&g[m].type===ps&&s){const S=g[m];Iw(S)&&Iw(s.gl)?S.colorSpace=s.gl.outputColorSpace:S.encoding=s.gl.outputEncoding}}vf(n)}if(i&&i.parent&&n.raycast&&l!==i.eventCount){const p=zv(n).getState().internal,m=p.interaction.indexOf(n);m>-1&&p.interaction.splice(m,1),i.eventCount&&p.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&fE(n),n}function vf(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function fE(n){n.onUpdate==null||n.onUpdate(n)}function gz(n,e){n.manual||(cz(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function rv(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function sJ(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Vf.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Vf.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Vf.ContinuousEventPriority;default:return Vf.DefaultEventPriority}}function vz(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function oJ(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{vz(t.capturedMap,e,i,r)})}function aJ(n){function e(l){const{internal:u}=n.getState(),f=l.offsetX-u.initialClick[0],d=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(f*f+d*d))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(f=>{var d;return(d=u.__r3f)==null?void 0:d.handlers["onPointer"+f]}))}function i(l,u){const f=n.getState(),d=new Set,p=[],m=u?u(f.internal.interaction):f.internal.interaction;for(let g=0;g<m.length;g++){const w=Sd(m[g]);w&&(w.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function v(g){const w=Sd(g);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var S;w.events.compute==null||w.events.compute(l,w,(S=w.previousRoot)==null?void 0:S.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(g,!0):[]}let _=m.flatMap(v).sort((g,w)=>{const S=Sd(g.object),E=Sd(w.object);return!S||!E?g.distance-w.distance:E.events.priority-S.events.priority||g.distance-w.distance}).filter(g=>{const w=rv(g);return d.has(w)?!1:(d.add(w),!0)});f.events.filter&&(_=f.events.filter(_,f));for(const g of _){let w=g.object;for(;w;){var x;(x=w.__r3f)!=null&&x.eventCount&&p.push({...g,eventObject:w}),w=w.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let g of f.internal.capturedMap.get(l.pointerId).values())d.has(rv(g.intersection))||p.push(g.intersection);return p}function r(l,u,f,d){const p=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const _=Sd(v.object)||p,{raycaster:x,pointer:g,camera:w,internal:S}=_,E=new j(g.x,g.y,0).unproject(w),b=L=>{var B,W;return(B=(W=S.capturedMap.get(L))==null?void 0:W.has(v.eventObject))!=null?B:!1},P=L=>{const B={intersection:v,target:u.target};S.capturedMap.has(L)?S.capturedMap.get(L).set(v.eventObject,B):S.capturedMap.set(L,new Map([[v.eventObject,B]])),u.target.setPointerCapture(L)},R=L=>{const B=S.capturedMap.get(L);B&&vz(S.capturedMap,v.eventObject,B,L)};let I={};for(let L in u){let B=u[L];typeof B!="function"&&(I[L]=B)}let C={...v,...I,pointer:g,intersections:l,stopped:m.stopped,delta:f,unprojectedPoint:E,ray:x.ray,camera:w,stopPropagation(){const L="pointerId"in u&&S.capturedMap.get(u.pointerId);if((!L||L.has(v.eventObject))&&(C.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(B=>B.eventObject===v.eventObject))){const B=l.slice(0,l.indexOf(v));s([...B,v])}},target:{hasPointerCapture:b,setPointerCapture:P,releasePointerCapture:R},currentTarget:{hasPointerCapture:b,setPointerCapture:P,releasePointerCapture:R},nativeEvent:u};if(d(C),m.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const f of u.hovered.values())if(!l.length||!l.find(d=>d.object===f.object&&d.index===f.index&&d.instanceId===f.instanceId)){const p=f.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(rv(f)),p!=null&&p.eventCount){const v={...f,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,u){for(let f=0;f<u.length;f++){const d=u[f].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:f}=n.getState();"pointerId"in u&&f.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(u.pointerId)&&(f.capturedMap.delete(u.pointerId),s([]))})}}return function(f){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=f;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=i(f,m?t:void 0),g=v?e(f):0;l==="onPointerDown"&&(p.initialClick=[f.offsetX,f.offsetY],p.initialHits=x.map(S=>S.eventObject)),v&&!x.length&&g<=2&&(o(f,p.interaction),d&&d(f)),m&&s(x);function w(S){const E=S.eventObject,b=E.__r3f,P=b==null?void 0:b.handlers;if(b!=null&&b.eventCount)if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const R=rv(S),I=p.hovered.get(R);I?I.stopped&&S.stopPropagation():(p.hovered.set(R,S),P.onPointerOver==null||P.onPointerOver(S),P.onPointerEnter==null||P.onPointerEnter(S))}P.onPointerMove==null||P.onPointerMove(S)}else{const R=P[l];R?(!v||p.initialHits.includes(E))&&(o(f,p.interaction.filter(I=>!p.initialHits.includes(I))),R(S)):v&&p.initialHits.includes(E)&&o(f,p.interaction.filter(I=>!p.initialHits.includes(I)))}}r(x,f,g,w)}}return{handlePointer:a}}const lJ=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],yz=n=>!!(n!=null&&n.render),qA=K.createContext(null),uJ=(n,e)=>{const t=nz((a,l)=>{const u=new j,f=new j,d=new j;function p(g=l().camera,w=f,S=l().size){const{width:E,height:b,top:P,left:R}=S,I=E/b;w.isVector3?d.copy(w):d.set(...w);const C=g.getWorldPosition(u).distanceTo(d);if(cz(g))return{width:E/g.zoom,height:b/g.zoom,top:P,left:R,factor:1,distance:C,aspect:I};{const L=g.fov*Math.PI/180,B=2*Math.tan(L/2)*C,W=B*(E/b);return{width:W,height:B,top:P,left:R,factor:E/W,distance:C,aspect:I}}}let m;const v=g=>a(w=>({performance:{...w.performance,current:g}})),_=new Pe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,w)=>e(g,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new HA,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(w=>({...w,events:{...w.events,...g}})),setSize:(g,w,S,E,b)=>{const P=l().camera,R={width:g,height:w,top:E||0,left:b||0,updateStyle:S};a(I=>({size:R,viewport:{...I.viewport,...p(P,f,R)}}))},setDpr:g=>a(w=>{const S=pz(g);return{viewport:{...w.viewport,dpr:S,initialDpr:w.viewport.initialDpr||S}}}),setFrameloop:(g="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,g!=="never"&&(w.start(),w.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:K.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,w,S)=>{const E=l().internal;return E.priority=E.priority+(w>0?1:0),E.subscribers.push({ref:g,priority:w,store:S}),E.subscribers=E.subscribers.sort((b,P)=>b.priority-P.priority),()=>{const b=l().internal;b!=null&&b.subscribers&&(b.priority=b.priority-(w>0?1:0),b.subscribers=b.subscribers.filter(P=>P.ref!==g))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:f,set:d}=t.getState();if(l.width!==r.width||l.height!==r.height||u.dpr!==s){var p;r=l,s=u.dpr,gz(a,l),f.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let sv,cJ=new Set,fJ=new Set,hJ=new Set;function Dw(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Md(n,e){switch(n){case"before":return Dw(cJ,e);case"after":return Dw(fJ,e);case"tail":return Dw(hJ,e)}}let kw,Ow;function Uw(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),kw=e.internal.subscribers,sv=0;sv<kw.length;sv++)Ow=kw[sv],Ow.ref.current(Ow.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function dJ(n){let e=!1,t=!1,i,r,s;function o(u){r=requestAnimationFrame(o),e=!0,i=0,Md("before",u),t=!0;for(const d of n.values()){var f;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((f=s.gl.xr)!=null&&f.isPresenting)&&(i+=Uw(u,s))}if(t=!1,Md("after",u),i===0)return Md("tail",u),e=!1,cancelAnimationFrame(r)}function a(u,f=1){var d;if(!u)return n.forEach(p=>a(p.store.getState(),f));(d=u.gl.xr)!=null&&d.isPresenting||!u.internal.active||u.frameloop==="never"||(f>1?u.internal.frames=Math.min(60,u.internal.frames+f):t?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(u,f=!0,d,p){if(f&&Md("before",u),d)Uw(u,d,p);else for(const m of n.values())Uw(u,m.store.getState());f&&Md("after",u)}return{loop:o,invalidate:a,advance:l}}function ZA(){const n=K.useContext(qA);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function gm(n=t=>t,e){return ZA()(n,e)}function $A(n,e=0){const t=ZA(),i=t.getState().internal.subscribe,r=fz(n);return Hm(()=>i(r,e,t),[e,i,t]),null}const x3=new WeakMap;function _z(n,e){return function(t,...i){let r=x3.get(t);return r||(r=new t,x3.set(t,r)),n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,nJ(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function Sh(n,e,t,i){const r=Array.isArray(e)?e:[e],s=XK(_z(t,i),[n,...r],{equal:Cn.equ});return Array.isArray(e)?s:s[0]}Sh.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return YK(_z(t),[n,...i])};Sh.clear=function(n,e){const t=Array.isArray(e)?e:[e];return qK([n,...t])};const Mh=new Map,{invalidate:w3,advance:S3}=dJ(Mh),{reconciler:vm,applyProps:nl}=JK(Mh,sJ),df={objects:"shallow",strict:!1},pJ=(n,e)=>{const t=typeof n=="function"?n(e):n;return yz(t)?t:new T_({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function mJ(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function gJ(n){const e=Mh.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||uJ(w3,S3),o=t||vm.createContainer(s,Vf.ConcurrentRoot,null,!1,null,"",r,null);e||Mh.set(n,{fiber:o,store:s});let a,l=!1,u;return{configure(f={}){let{gl:d,size:p,scene:m,events:v,onCreated:_,shadows:x=!1,linear:g=!1,flat:w=!1,legacy:S=!1,orthographic:E=!1,frameloop:b="always",dpr:P=[1,2],performance:R,raycaster:I,camera:C,onPointerMissed:L}=f,B=s.getState(),W=B.gl;B.gl||B.set({gl:W=pJ(d,n)});let ie=B.raycaster;ie||B.set({raycaster:ie=new XA});const{params:z,...ne}=I||{};if(Cn.equ(ne,ie,df)||nl(ie,{...ne}),Cn.equ(z,ie.params,df)||nl(ie,{params:{...ie.params,...z}}),!B.camera||B.camera===u&&!Cn.equ(u,C,df)){u=C;const k=C instanceof Dm,G=k?C:E?new Rh(0,0,0,0,.1,1e3):new Fi(75,0,.1,1e3);k||(G.position.z=5,C&&(nl(G,C),("aspect"in C||"left"in C||"right"in C||"bottom"in C||"top"in C)&&(G.manual=!0,G.updateProjectionMatrix())),!B.camera&&!(C!=null&&C.rotation)&&G.lookAt(0,0,0)),B.set({camera:G}),ie.camera=G}if(!B.scene){let k;m!=null&&m.isScene?k=m:(k=new Om,m&&nl(k,m)),B.set({scene:gf(k)})}if(!B.xr){var ee;const k=(me,xe)=>{const Ce=s.getState();Ce.frameloop!=="never"&&S3(me,!0,Ce,xe)},G=()=>{const me=s.getState();me.gl.xr.enabled=me.gl.xr.isPresenting,me.gl.xr.setAnimationLoop(me.gl.xr.isPresenting?k:null),me.gl.xr.isPresenting||w3(me)},te={connect(){const me=s.getState().gl;me.xr.addEventListener("sessionstart",G),me.xr.addEventListener("sessionend",G)},disconnect(){const me=s.getState().gl;me.xr.removeEventListener("sessionstart",G),me.xr.removeEventListener("sessionend",G)}};typeof((ee=W.xr)==null?void 0:ee.addEventListener)=="function"&&te.connect(),B.set({xr:te})}if(W.shadowMap){const k=W.shadowMap.enabled,G=W.shadowMap.type;if(W.shadowMap.enabled=!!x,Cn.boo(x))W.shadowMap.type=fp;else if(Cn.str(x)){var re;const te={basic:JO,percentage:v_,soft:fp,variance:ro};W.shadowMap.type=(re=te[x])!=null?re:fp}else Cn.obj(x)&&Object.assign(W.shadowMap,x);(k!==W.shadowMap.enabled||G!==W.shadowMap.type)&&(W.shadowMap.needsUpdate=!0)}const X=uz();X&&("enabled"in X?X.enabled=!S:"legacyMode"in X&&(X.legacyMode=S)),l||nl(W,{outputEncoding:g?3e3:3001,toneMapping:w?Vo:sA}),B.legacy!==S&&B.set(()=>({legacy:S})),B.linear!==g&&B.set(()=>({linear:g})),B.flat!==w&&B.set(()=>({flat:w})),d&&!Cn.fun(d)&&!yz(d)&&!Cn.equ(d,W,df)&&nl(W,d),v&&!B.events.handlers&&B.set({events:v(s)});const Q=mJ(n,p);return Cn.equ(Q,B.size,df)||B.setSize(Q.width,Q.height,Q.updateStyle,Q.top,Q.left),P&&B.viewport.dpr!==pz(P)&&B.setDpr(P),B.frameloop!==b&&B.setFrameloop(b),B.onPointerMissed||B.set({onPointerMissed:L}),R&&!Cn.equ(R,B.performance,df)&&B.set(k=>({performance:{...k.performance,...R}})),a=_,l=!0,this},render(f){return l||this.configure(),vm.updateContainer(O.jsx(vJ,{store:s,children:f,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){xz(n)}}}function vJ({store:n,children:e,onCreated:t,rootElement:i}){return Hm(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),O.jsx(qA.Provider,{value:n,children:e})}function xz(n,e){const t=Mh.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),vm.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),iJ(r),Mh.delete(n),e&&e(n)}catch{}},500)})}}function yJ(n,e,t){return O.jsx(_J,{children:n,container:e,state:t},e.uuid)}function _J({state:n={},children:e,container:t}){const{events:i,size:r,...s}=n,o=ZA(),[a]=K.useState(()=>new XA),[l]=K.useState(()=>new Pe),u=K.useCallback((d,p)=>{const m={...d};Object.keys(d).forEach(_=>{(lJ.includes(_)||d[_]!==p[_]&&p[_])&&delete m[_]});let v;if(p&&r){const _=p.camera;v=d.viewport.getCurrentViewport(_,new j,r),_!==d.camera&&gz(_,r)}return{...m,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...d.events,...p==null?void 0:p.events,...i},size:{...d.size,...r},viewport:{...d.viewport,...v},...s}},[n]),[f]=K.useState(()=>{const d=o.getState();return nz((m,v)=>({...d,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...d.events,...i},size:{...d.size,...r},...s,set:m,get:v,setEvents:_=>m(x=>({...x,events:{...x.events,..._}}))}))});return K.useEffect(()=>{const d=o.subscribe(p=>f.setState(m=>u(p,m)));return()=>{d()}},[u]),K.useEffect(()=>{f.setState(d=>u(o.getState(),d))},[u]),K.useEffect(()=>()=>{f.destroy()},[]),O.jsx(O.Fragment,{children:vm.createPortal(O.jsx(qA.Provider,{value:f,children:e}),f,null)})}vm.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:K.version});const Fw={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function xJ(n){const{handlePointer:e}=aJ(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(Fw).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,u]=Fw[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=Fw[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function M3(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function wJ({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=K.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=K.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,f=K.useRef(!1);K.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,p,m]=K.useMemo(()=>{const g=()=>{if(!a.current.element)return;const{left:w,top:S,width:E,height:b,bottom:P,right:R,x:I,y:C}=a.current.element.getBoundingClientRect(),L={left:w,top:S,width:E,height:b,bottom:P,right:R,x:I,y:C};a.current.element instanceof HTMLElement&&i&&(L.height=a.current.element.offsetHeight,L.width=a.current.element.offsetWidth),Object.freeze(L),f.current&&!TJ(a.current.lastBounds,L)&&o(a.current.lastBounds=L)};return[g,u?M3(g,u):g,l?M3(g,l):g]},[o,i,l,u]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function _(){a.current.element&&(a.current.resizeObserver=new r(m),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(g=>g.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const x=g=>{!g||g===a.current.element||(v(),a.current.element=g,a.current.scrollContainers=wz(g),_())};return MJ(m,!!e),SJ(p),K.useEffect(()=>{v(),_()},[e,m,p]),K.useEffect(()=>v,[]),[x,s,d]}function SJ(n){K.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function MJ(n,e){K.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function wz(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...wz(n.parentElement)]}const EJ=["x","y","top","bottom","left","right","width","height"],TJ=(n,e)=>EJ.every(t=>n[t]===e[t]);var AJ=Object.defineProperty,bJ=Object.defineProperties,CJ=Object.getOwnPropertyDescriptors,E3=Object.getOwnPropertySymbols,PJ=Object.prototype.hasOwnProperty,RJ=Object.prototype.propertyIsEnumerable,T3=(n,e,t)=>e in n?AJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,A3=(n,e)=>{for(var t in e||(e={}))PJ.call(e,t)&&T3(n,t,e[t]);if(E3)for(var t of E3(e))RJ.call(e,t)&&T3(n,t,e[t]);return n},IJ=(n,e)=>bJ(n,CJ(e)),b3,C3;typeof window<"u"&&((b3=window.document)!=null&&b3.createElement||((C3=window.navigator)==null?void 0:C3.product)==="ReactNative")?K.useLayoutEffect:K.useEffect;function Sz(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=Sz(i,e,t);if(r)return r;i=e?null:i.sibling}}function Mz(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const P3=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=P3;return}return P3.apply(this,arguments)};const KA=Mz(K.createContext(null));class Ez extends K.Component{render(){return K.createElement(KA.Provider,{value:this._reactInternals},this.props.children)}}function LJ(){const n=K.useContext(KA);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=K.useId();return K.useMemo(()=>{for(const i of[n,n==null?void 0:n.alternate]){if(!i)continue;const r=Sz(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function NJ(){const n=LJ(),[e]=K.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==KA&&!e.has(r)&&e.set(r,K.useContext(Mz(r)))}t=t.return}return e}function DJ(){const n=NJ();return K.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>K.createElement(e,null,K.createElement(t.Provider,IJ(A3({},i),{value:n.get(t)}))),e=>K.createElement(Ez,A3({},e))),[n])}const kJ=K.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=xJ,eventSource:a,eventPrefix:l,shadows:u,linear:f,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:_,performance:x,raycaster:g,camera:w,scene:S,onPointerMissed:E,onCreated:b,...P},R){K.useMemo(()=>lz(HK),[]);const I=DJ(),[C,L]=wJ({scroll:!0,debounce:{scroll:50,resize:0},...i}),B=K.useRef(null),W=K.useRef(null);K.useImperativeHandle(R,()=>B.current);const ie=fz(E),[z,ne]=K.useState(!1),[ee,re]=K.useState(!1);if(z)throw z;if(ee)throw ee;const X=K.useRef(null);Hm(()=>{const k=B.current;L.width>0&&L.height>0&&k&&(X.current||(X.current=gJ(k)),X.current.configure({gl:s,events:o,shadows:u,linear:f,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:_,performance:x,raycaster:g,camera:w,scene:S,size:L,onPointerMissed:(...G)=>ie.current==null?void 0:ie.current(...G),onCreated:G=>{G.events.connect==null||G.events.connect(a?QK(a)?a.current:a:W.current),l&&G.setEvents({compute:(te,me)=>{const xe=te[l+"X"],Ce=te[l+"Y"];me.pointer.set(xe/me.size.width*2-1,-(Ce/me.size.height)*2+1),me.raycaster.setFromCamera(me.pointer,me.camera)}}),b==null||b(G)}}),X.current.render(O.jsx(I,{children:O.jsx(hz,{set:re,children:O.jsx(K.Suspense,{fallback:O.jsx(eJ,{set:ne}),children:e??null})})})))}),K.useEffect(()=>{const k=B.current;if(k)return()=>xz(k)},[]);const Q=a?"none":"auto";return O.jsx("div",{ref:W,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...r},...P,children:O.jsx("div",{ref:C,style:{width:"100%",height:"100%"},children:O.jsx("canvas",{ref:B,style:{display:"block"},children:t})})})}),Tz=K.forwardRef(function(e,t){return O.jsx(Ez,{children:O.jsx(kJ,{...e,ref:t})})});function Uy(){return Uy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Uy.apply(null,arguments)}const Az=(()=>parseInt(Rm.replace(/\D+/g,"")))();var Hs=Uint8Array,dl=Uint16Array,hE=Uint32Array,bz=new Hs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Cz=new Hs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),OJ=new Hs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Pz=function(n,e){for(var t=new dl(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new hE(t[30]),i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)r[s]=s-t[i]<<5|i;return[t,r]},Rz=Pz(bz,2),Iz=Rz[0],UJ=Rz[1];Iz[28]=258,UJ[258]=28;var FJ=Pz(Cz,0),zJ=FJ[0],dE=new dl(32768);for(var Nn=0;Nn<32768;++Nn){var qa=(Nn&43690)>>>1|(Nn&21845)<<1;qa=(qa&52428)>>>2|(qa&13107)<<2,qa=(qa&61680)>>>4|(qa&3855)<<4,dE[Nn]=((qa&65280)>>>8|(qa&255)<<8)>>>1}var vp=function(n,e,t){for(var i=n.length,r=0,s=new dl(e);r<i;++r)++s[n[r]-1];var o=new dl(e);for(r=0;r<e;++r)o[r]=o[r-1]+s[r-1]<<1;var a;if(t){a=new dl(1<<e);var l=15-e;for(r=0;r<i;++r)if(n[r])for(var u=r<<4|n[r],f=e-n[r],d=o[n[r]-1]++<<f,p=d|(1<<f)-1;d<=p;++d)a[dE[d]>>>l]=u}else for(a=new dl(i),r=0;r<i;++r)n[r]&&(a[r]=dE[o[n[r]-1]++]>>>15-n[r]);return a},Gm=new Hs(288);for(var Nn=0;Nn<144;++Nn)Gm[Nn]=8;for(var Nn=144;Nn<256;++Nn)Gm[Nn]=9;for(var Nn=256;Nn<280;++Nn)Gm[Nn]=7;for(var Nn=280;Nn<288;++Nn)Gm[Nn]=8;var Lz=new Hs(32);for(var Nn=0;Nn<32;++Nn)Lz[Nn]=5;var BJ=vp(Gm,9,1),VJ=vp(Lz,5,1),zw=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},to=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},Bw=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},HJ=function(n){return(n/8|0)+(n&7&&1)},GJ=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var i=new(n instanceof dl?dl:n instanceof hE?hE:Hs)(t-e);return i.set(n.subarray(e,t)),i},WJ=function(n,e,t){var i=n.length;if(!i||t&&!t.l&&i<5)return e||new Hs(0);var r=!e||t,s=!t||t.i;t||(t={}),e||(e=new Hs(i*3));var o=function(Ee){var De=e.length;if(Ee>De){var We=new Hs(Math.max(De*2,Ee));We.set(e),e=We}},a=t.f||0,l=t.p||0,u=t.b||0,f=t.l,d=t.d,p=t.m,m=t.n,v=i*8;do{if(!f){t.f=a=to(n,l,1);var _=to(n,l+1,3);if(l+=3,_)if(_==1)f=BJ,d=VJ,p=9,m=5;else if(_==2){var S=to(n,l,31)+257,E=to(n,l+10,15)+4,b=S+to(n,l+5,31)+1;l+=14;for(var P=new Hs(b),R=new Hs(19),I=0;I<E;++I)R[OJ[I]]=to(n,l+I*3,7);l+=E*3;for(var C=zw(R),L=(1<<C)-1,B=vp(R,C,1),I=0;I<b;){var W=B[to(n,l,L)];l+=W&15;var x=W>>>4;if(x<16)P[I++]=x;else{var ie=0,z=0;for(x==16?(z=3+to(n,l,3),l+=2,ie=P[I-1]):x==17?(z=3+to(n,l,7),l+=3):x==18&&(z=11+to(n,l,127),l+=7);z--;)P[I++]=ie}}var ne=P.subarray(0,S),ee=P.subarray(S);p=zw(ne),m=zw(ee),f=vp(ne,p,1),d=vp(ee,m,1)}else throw"invalid block type";else{var x=HJ(l)+4,g=n[x-4]|n[x-3]<<8,w=x+g;if(w>i){if(s)throw"unexpected EOF";break}r&&o(u+g),e.set(n.subarray(x,w),u),t.b=u+=g,t.p=l=w*8;continue}if(l>v){if(s)throw"unexpected EOF";break}}r&&o(u+131072);for(var re=(1<<p)-1,X=(1<<m)-1,Q=l;;Q=l){var ie=f[Bw(n,l)&re],k=ie>>>4;if(l+=ie&15,l>v){if(s)throw"unexpected EOF";break}if(!ie)throw"invalid length/literal";if(k<256)e[u++]=k;else if(k==256){Q=l,f=null;break}else{var G=k-254;if(k>264){var I=k-257,te=bz[I];G=to(n,l,(1<<te)-1)+Iz[I],l+=te}var me=d[Bw(n,l)&X],xe=me>>>4;if(!me)throw"invalid distance";l+=me&15;var ee=zJ[xe];if(xe>3){var te=Cz[xe];ee+=Bw(n,l)&(1<<te)-1,l+=te}if(l>v){if(s)throw"unexpected EOF";break}r&&o(u+131072);for(var Ce=u+G;u<Ce;u+=4)e[u]=e[u-ee],e[u+1]=e[u+1-ee],e[u+2]=e[u+2-ee],e[u+3]=e[u+3-ee];u=Ce}}t.l=f,t.p=Q,t.b=u,f&&(a=1,t.m=p,t.d=d,t.n=m)}while(!a);return u==e.length?e:GJ(e,0,u)},jJ=new Hs(0),XJ=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function ov(n,e){return WJ((XJ(n),n.subarray(2,-4)),e)}var YJ=typeof TextDecoder<"u"&&new TextDecoder,qJ=0;try{YJ.decode(jJ,{stream:!0}),qJ=1}catch{}const ZJ=n=>n&&n.isCubeTexture;class $J extends yi{constructor(e,t){var i,r;const s=ZJ(e),a=((r=s?(i=e.image[0])==null?void 0:i.width:e.image.width)!=null?r:1024)/4,l=Math.floor(Math.log2(a)),u=Math.pow(2,l),f=3*Math.max(u,16*7),d=4*u,p=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/f}`,`#define CUBEUV_TEXEL_HEIGHT ${1/d}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,v=p.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${Az>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,_={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},x=new Fm(1,16),g=new Ms({uniforms:_,fragmentShader:v,vertexShader:m,side:uo});super(x,g)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class KJ extends zA{constructor(e){super(e),this.type=zi}parse(e){const o=function(I,C){switch(I){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(C||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(C||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(C||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(C||""))}},f=`
`,d=function(I,C,L){C=C||1024;let W=I.pos,ie=-1,z=0,ne="",ee=String.fromCharCode.apply(null,new Uint16Array(I.subarray(W,W+128)));for(;0>(ie=ee.indexOf(f))&&z<C&&W<I.byteLength;)ne+=ee,z+=ee.length,W+=128,ee+=String.fromCharCode.apply(null,new Uint16Array(I.subarray(W,W+128)));return-1<ie?(L!==!1&&(I.pos+=z+ie+1),ne+ee.slice(0,ie)):!1},p=function(I){const C=/^#\?(\S+)/,L=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,B=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,W=/^\s*FORMAT=(\S+)\s*$/,ie=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,z={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ne,ee;for((I.pos>=I.byteLength||!(ne=d(I)))&&o(1,"no header found"),(ee=ne.match(C))||o(3,"bad initial token"),z.valid|=1,z.programtype=ee[1],z.string+=ne+`
`;ne=d(I),ne!==!1;){if(z.string+=ne+`
`,ne.charAt(0)==="#"){z.comments+=ne+`
`;continue}if((ee=ne.match(L))&&(z.gamma=parseFloat(ee[1])),(ee=ne.match(B))&&(z.exposure=parseFloat(ee[1])),(ee=ne.match(W))&&(z.valid|=2,z.format=ee[1]),(ee=ne.match(ie))&&(z.valid|=4,z.height=parseInt(ee[1],10),z.width=parseInt(ee[2],10)),z.valid&2&&z.valid&4)break}return z.valid&2||o(3,"missing format specifier"),z.valid&4||o(3,"missing image size specifier"),z},m=function(I,C,L){const B=C;if(B<8||B>32767||I[0]!==2||I[1]!==2||I[2]&128)return new Uint8Array(I);B!==(I[2]<<8|I[3])&&o(3,"wrong scanline width");const W=new Uint8Array(4*C*L);W.length||o(4,"unable to allocate buffer space");let ie=0,z=0;const ne=4*B,ee=new Uint8Array(4),re=new Uint8Array(ne);let X=L;for(;X>0&&z<I.byteLength;){z+4>I.byteLength&&o(1),ee[0]=I[z++],ee[1]=I[z++],ee[2]=I[z++],ee[3]=I[z++],(ee[0]!=2||ee[1]!=2||(ee[2]<<8|ee[3])!=B)&&o(3,"bad rgbe scanline format");let Q=0,k;for(;Q<ne&&z<I.byteLength;){k=I[z++];const te=k>128;if(te&&(k-=128),(k===0||Q+k>ne)&&o(3,"bad scanline data"),te){const me=I[z++];for(let xe=0;xe<k;xe++)re[Q++]=me}else re.set(I.subarray(z,z+k),Q),Q+=k,z+=k}const G=B;for(let te=0;te<G;te++){let me=0;W[ie]=re[te+me],me+=B,W[ie+1]=re[te+me],me+=B,W[ie+2]=re[te+me],me+=B,W[ie+3]=re[te+me],ie+=4}X--}return W},v=function(I,C,L,B){const W=I[C+3],ie=Math.pow(2,W-128)/255;L[B+0]=I[C+0]*ie,L[B+1]=I[C+1]*ie,L[B+2]=I[C+2]*ie,L[B+3]=1},_=function(I,C,L,B){const W=I[C+3],ie=Math.pow(2,W-128)/255;L[B+0]=Fu.toHalfFloat(Math.min(I[C+0]*ie,65504)),L[B+1]=Fu.toHalfFloat(Math.min(I[C+1]*ie,65504)),L[B+2]=Fu.toHalfFloat(Math.min(I[C+2]*ie,65504)),L[B+3]=Fu.toHalfFloat(1)},x=new Uint8Array(e);x.pos=0;const g=p(x),w=g.width,S=g.height,E=m(x.subarray(x.pos),w,S);let b,P,R;switch(this.type){case bi:R=E.length/4;const I=new Float32Array(R*4);for(let L=0;L<R;L++)v(E,L*4,I,L*4);b=I,P=bi;break;case zi:R=E.length/4;const C=new Uint16Array(R*4);for(let L=0;L<R;L++)_(E,L*4,C,L*4);b=C,P=zi;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:w,height:S,data:b,header:g.string,gamma:g.gamma,exposure:g.exposure,type:P}}setDataType(e){return this.type=e,this}load(e,t,i,r){function s(o,a){switch(o.type){case bi:case zi:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=cn,o.magFilter=cn,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,i,r)}}const Ed=Az>=152;class JJ extends zA{constructor(e){super(e),this.type=zi}parse(e){const C=Math.pow(2.7182818,2.2);function L(D,A){for(var U=0,V=0;V<65536;++V)(V==0||D[V>>3]&1<<(V&7))&&(A[U++]=V);for(var H=U-1;U<65536;)A[U++]=0;return H}function B(D){for(var A=0;A<16384;A++)D[A]={},D[A].len=0,D[A].lit=0,D[A].p=null}const W={l:0,c:0,lc:0};function ie(D,A,U,V,H){for(;U<D;)A=A<<8|Ht(V,H),U+=8;U-=D,W.l=A>>U&(1<<D)-1,W.c=A,W.lc=U}const z=new Array(59);function ne(D){for(var A=0;A<=58;++A)z[A]=0;for(var A=0;A<65537;++A)z[D[A]]+=1;for(var U=0,A=58;A>0;--A){var V=U+z[A]>>1;z[A]=U,U=V}for(var A=0;A<65537;++A){var H=D[A];H>0&&(D[A]=H|z[H]++<<6)}}function ee(D,A,U,V,H,Y,le){for(var ce=U,pe=0,ve=0;H<=Y;H++){if(ce.value-U.value>V)return!1;ie(6,pe,ve,D,ce);var Se=W.l;if(pe=W.c,ve=W.lc,le[H]=Se,Se==63){if(ce.value-U.value>V)throw"Something wrong with hufUnpackEncTable";ie(8,pe,ve,D,ce);var de=W.l+6;if(pe=W.c,ve=W.lc,H+de>Y+1)throw"Something wrong with hufUnpackEncTable";for(;de--;)le[H++]=0;H--}else if(Se>=59){var de=Se-59+2;if(H+de>Y+1)throw"Something wrong with hufUnpackEncTable";for(;de--;)le[H++]=0;H--}}ne(le)}function re(D){return D&63}function X(D){return D>>6}function Q(D,A,U,V){for(;A<=U;A++){var H=X(D[A]),Y=re(D[A]);if(H>>Y)throw"Invalid table entry";if(Y>14){var le=V[H>>Y-14];if(le.len)throw"Invalid table entry";if(le.lit++,le.p){var ce=le.p;le.p=new Array(le.lit);for(var pe=0;pe<le.lit-1;++pe)le.p[pe]=ce[pe]}else le.p=new Array(1);le.p[le.lit-1]=A}else if(Y)for(var ve=0,pe=1<<14-Y;pe>0;pe--){var le=V[(H<<14-Y)+ve];if(le.len||le.p)throw"Invalid table entry";le.len=Y,le.lit=A,ve++}}return!0}const k={c:0,lc:0};function G(D,A,U,V){D=D<<8|Ht(U,V),A+=8,k.c=D,k.lc=A}const te={c:0,lc:0};function me(D,A,U,V,H,Y,le,ce,pe,ve){if(D==A){V<8&&(G(U,V,H,le),U=k.c,V=k.lc),V-=8;var Se=U>>V,Se=new Uint8Array([Se])[0];if(pe.value+Se>ve)return!1;for(var de=ce[pe.value-1];Se-- >0;)ce[pe.value++]=de}else if(pe.value<ve)ce[pe.value++]=D;else return!1;te.c=U,te.lc=V}function xe(D){return D&65535}function Ce(D){var A=xe(D);return A>32767?A-65536:A}const Ee={a:0,b:0};function De(D,A){var U=Ce(D),V=Ce(A),H=V,Y=U+(H&1)+(H>>1),le=Y,ce=Y-H;Ee.a=le,Ee.b=ce}function We(D,A){var U=xe(D),V=xe(A),H=U-(V>>1)&65535,Y=V+H-32768&65535;Ee.a=Y,Ee.b=H}function _t(D,A,U,V,H,Y,le){for(var ce=le<16384,pe=U>H?H:U,ve=1,Se;ve<=pe;)ve<<=1;for(ve>>=1,Se=ve,ve>>=1;ve>=1;){for(var de=0,Fe=de+Y*(H-Se),Oe=Y*ve,Ge=Y*Se,yt=V*ve,wt=V*Se,at,Ze,At,st;de<=Fe;de+=Ge){for(var Ot=de,fn=de+V*(U-Se);Ot<=fn;Ot+=wt){var Lt=Ot+yt,hn=Ot+Oe,rn=hn+yt;ce?(De(D[Ot+A],D[hn+A]),at=Ee.a,At=Ee.b,De(D[Lt+A],D[rn+A]),Ze=Ee.a,st=Ee.b,De(at,Ze),D[Ot+A]=Ee.a,D[Lt+A]=Ee.b,De(At,st),D[hn+A]=Ee.a,D[rn+A]=Ee.b):(We(D[Ot+A],D[hn+A]),at=Ee.a,At=Ee.b,We(D[Lt+A],D[rn+A]),Ze=Ee.a,st=Ee.b,We(at,Ze),D[Ot+A]=Ee.a,D[Lt+A]=Ee.b,We(At,st),D[hn+A]=Ee.a,D[rn+A]=Ee.b)}if(U&ve){var hn=Ot+Oe;ce?De(D[Ot+A],D[hn+A]):We(D[Ot+A],D[hn+A]),at=Ee.a,D[hn+A]=Ee.b,D[Ot+A]=at}}if(H&ve)for(var Ot=de,fn=de+V*(U-Se);Ot<=fn;Ot+=wt){var Lt=Ot+yt;ce?De(D[Ot+A],D[Lt+A]):We(D[Ot+A],D[Lt+A]),at=Ee.a,D[Lt+A]=Ee.b,D[Ot+A]=at}Se=ve,ve>>=1}return de}function Nt(D,A,U,V,H,Y,le,ce,pe,ve){for(var Se=0,de=0,Fe=ce,Oe=Math.trunc(H.value+(Y+7)/8);H.value<Oe;)for(G(Se,de,U,H),Se=k.c,de=k.lc;de>=14;){var Ge=Se>>de-14&16383,yt=A[Ge];if(yt.len)de-=yt.len,me(yt.lit,le,Se,de,U,V,H,pe,ve,Fe),Se=te.c,de=te.lc;else{if(!yt.p)throw"hufDecode issues";var wt;for(wt=0;wt<yt.lit;wt++){for(var at=re(D[yt.p[wt]]);de<at&&H.value<Oe;)G(Se,de,U,H),Se=k.c,de=k.lc;if(de>=at&&X(D[yt.p[wt]])==(Se>>de-at&(1<<at)-1)){de-=at,me(yt.p[wt],le,Se,de,U,V,H,pe,ve,Fe),Se=te.c,de=te.lc;break}}if(wt==yt.lit)throw"hufDecode issues"}}var Ze=8-Y&7;for(Se>>=Ze,de-=Ze;de>0;){var yt=A[Se<<14-de&16383];if(yt.len)de-=yt.len,me(yt.lit,le,Se,de,U,V,H,pe,ve,Fe),Se=te.c,de=te.lc;else throw"hufDecode issues"}return!0}function Be(D,A,U,V,H,Y){var le={value:0},ce=U.value,pe=Ae(A,U),ve=Ae(A,U);U.value+=4;var Se=Ae(A,U);if(U.value+=4,pe<0||pe>=65537||ve<0||ve>=65537)throw"Something wrong with HUF_ENCSIZE";var de=new Array(65537),Fe=new Array(16384);B(Fe);var Oe=V-(U.value-ce);if(ee(D,A,U,Oe,pe,ve,de),Se>8*(V-(U.value-ce)))throw"Something wrong with hufUncompress";Q(de,pe,ve,Fe),Nt(de,Fe,D,A,U,Se,ve,Y,H,le)}function J(D,A,U){for(var V=0;V<U;++V)A[V]=D[A[V]]}function _e(D){for(var A=1;A<D.length;A++){var U=D[A-1]+D[A]-128;D[A]=U}}function ge(D,A){for(var U=0,V=Math.floor((D.length+1)/2),H=0,Y=D.length-1;!(H>Y||(A[H++]=D[U++],H>Y));)A[H++]=D[V++]}function Re(D){for(var A=D.byteLength,U=new Array,V=0,H=new DataView(D);A>0;){var Y=H.getInt8(V++);if(Y<0){var le=-Y;A-=le+1;for(var ce=0;ce<le;ce++)U.push(H.getUint8(V++))}else{var le=Y;A-=2;for(var pe=H.getUint8(V++),ce=0;ce<le+1;ce++)U.push(pe)}}return U}function Te(D,A,U,V,H,Y){var Lt=new DataView(Y.buffer),le=U[D.idx[0]].width,ce=U[D.idx[0]].height,pe=3,ve=Math.floor(le/8),Se=Math.ceil(le/8),de=Math.ceil(ce/8),Fe=le-(Se-1)*8,Oe=ce-(de-1)*8,Ge={value:0},yt=new Array(pe),wt=new Array(pe),at=new Array(pe),Ze=new Array(pe),At=new Array(pe);for(let kt=0;kt<pe;++kt)At[kt]=A[D.idx[kt]],yt[kt]=kt<1?0:yt[kt-1]+Se*de,wt[kt]=new Float32Array(64),at[kt]=new Uint16Array(64),Ze[kt]=new Uint16Array(Se*64);for(let kt=0;kt<de;++kt){var st=8;kt==de-1&&(st=Oe);var Ot=8;for(let un=0;un<Se;++un){un==Se-1&&(Ot=Fe);for(let Qt=0;Qt<pe;++Qt)at[Qt].fill(0),at[Qt][0]=H[yt[Qt]++],se(Ge,V,at[Qt]),He(at[Qt],wt[Qt]),Qe(wt[Qt]);vt(wt);for(let Qt=0;Qt<pe;++Qt)mt(wt[Qt],Ze[Qt],un*64)}let Vn=0;for(let un=0;un<pe;++un){const Qt=U[D.idx[un]].type;for(let kn=8*kt;kn<8*kt+st;++kn){Vn=At[un][kn];for(let Yo=0;Yo<ve;++Yo){const fr=Yo*64+(kn&7)*8;Lt.setUint16(Vn+0*2*Qt,Ze[un][fr+0],!0),Lt.setUint16(Vn+1*2*Qt,Ze[un][fr+1],!0),Lt.setUint16(Vn+2*2*Qt,Ze[un][fr+2],!0),Lt.setUint16(Vn+3*2*Qt,Ze[un][fr+3],!0),Lt.setUint16(Vn+4*2*Qt,Ze[un][fr+4],!0),Lt.setUint16(Vn+5*2*Qt,Ze[un][fr+5],!0),Lt.setUint16(Vn+6*2*Qt,Ze[un][fr+6],!0),Lt.setUint16(Vn+7*2*Qt,Ze[un][fr+7],!0),Vn+=8*2*Qt}}if(ve!=Se)for(let kn=8*kt;kn<8*kt+st;++kn){const Yo=At[un][kn]+8*ve*2*Qt,fr=ve*64+(kn&7)*8;for(let vo=0;vo<Ot;++vo)Lt.setUint16(Yo+vo*2*Qt,Ze[un][fr+vo],!0)}}}for(var fn=new Uint16Array(le),Lt=new DataView(Y.buffer),hn=0;hn<pe;++hn){U[D.idx[hn]].decoded=!0;var rn=U[D.idx[hn]].type;if(U[hn].type==2)for(var _n=0;_n<ce;++_n){const kt=At[hn][_n];for(var ni=0;ni<le;++ni)fn[ni]=Lt.getUint16(kt+ni*2*rn,!0);for(var ni=0;ni<le;++ni)Lt.setFloat32(kt+ni*2*rn,fe(fn[ni]),!0)}}}function se(D,A,U){for(var V,H=1;H<64;)V=A[D.value],V==65280?H=64:V>>8==255?H+=V&255:(U[H]=V,H++),D.value++}function He(D,A){A[0]=fe(D[0]),A[1]=fe(D[1]),A[2]=fe(D[5]),A[3]=fe(D[6]),A[4]=fe(D[14]),A[5]=fe(D[15]),A[6]=fe(D[27]),A[7]=fe(D[28]),A[8]=fe(D[2]),A[9]=fe(D[4]),A[10]=fe(D[7]),A[11]=fe(D[13]),A[12]=fe(D[16]),A[13]=fe(D[26]),A[14]=fe(D[29]),A[15]=fe(D[42]),A[16]=fe(D[3]),A[17]=fe(D[8]),A[18]=fe(D[12]),A[19]=fe(D[17]),A[20]=fe(D[25]),A[21]=fe(D[30]),A[22]=fe(D[41]),A[23]=fe(D[43]),A[24]=fe(D[9]),A[25]=fe(D[11]),A[26]=fe(D[18]),A[27]=fe(D[24]),A[28]=fe(D[31]),A[29]=fe(D[40]),A[30]=fe(D[44]),A[31]=fe(D[53]),A[32]=fe(D[10]),A[33]=fe(D[19]),A[34]=fe(D[23]),A[35]=fe(D[32]),A[36]=fe(D[39]),A[37]=fe(D[45]),A[38]=fe(D[52]),A[39]=fe(D[54]),A[40]=fe(D[20]),A[41]=fe(D[22]),A[42]=fe(D[33]),A[43]=fe(D[38]),A[44]=fe(D[46]),A[45]=fe(D[51]),A[46]=fe(D[55]),A[47]=fe(D[60]),A[48]=fe(D[21]),A[49]=fe(D[34]),A[50]=fe(D[37]),A[51]=fe(D[47]),A[52]=fe(D[50]),A[53]=fe(D[56]),A[54]=fe(D[59]),A[55]=fe(D[61]),A[56]=fe(D[35]),A[57]=fe(D[36]),A[58]=fe(D[48]),A[59]=fe(D[49]),A[60]=fe(D[57]),A[61]=fe(D[58]),A[62]=fe(D[62]),A[63]=fe(D[63])}function Qe(D){const A=.5*Math.cos(.7853975),U=.5*Math.cos(3.14159/16),V=.5*Math.cos(3.14159/8),H=.5*Math.cos(3*3.14159/16),Y=.5*Math.cos(5*3.14159/16),le=.5*Math.cos(3*3.14159/8),ce=.5*Math.cos(7*3.14159/16);for(var pe=new Array(4),ve=new Array(4),Se=new Array(4),de=new Array(4),Fe=0;Fe<8;++Fe){var Oe=Fe*8;pe[0]=V*D[Oe+2],pe[1]=le*D[Oe+2],pe[2]=V*D[Oe+6],pe[3]=le*D[Oe+6],ve[0]=U*D[Oe+1]+H*D[Oe+3]+Y*D[Oe+5]+ce*D[Oe+7],ve[1]=H*D[Oe+1]-ce*D[Oe+3]-U*D[Oe+5]-Y*D[Oe+7],ve[2]=Y*D[Oe+1]-U*D[Oe+3]+ce*D[Oe+5]+H*D[Oe+7],ve[3]=ce*D[Oe+1]-Y*D[Oe+3]+H*D[Oe+5]-U*D[Oe+7],Se[0]=A*(D[Oe+0]+D[Oe+4]),Se[3]=A*(D[Oe+0]-D[Oe+4]),Se[1]=pe[0]+pe[3],Se[2]=pe[1]-pe[2],de[0]=Se[0]+Se[1],de[1]=Se[3]+Se[2],de[2]=Se[3]-Se[2],de[3]=Se[0]-Se[1],D[Oe+0]=de[0]+ve[0],D[Oe+1]=de[1]+ve[1],D[Oe+2]=de[2]+ve[2],D[Oe+3]=de[3]+ve[3],D[Oe+4]=de[3]-ve[3],D[Oe+5]=de[2]-ve[2],D[Oe+6]=de[1]-ve[1],D[Oe+7]=de[0]-ve[0]}for(var Ge=0;Ge<8;++Ge)pe[0]=V*D[16+Ge],pe[1]=le*D[16+Ge],pe[2]=V*D[48+Ge],pe[3]=le*D[48+Ge],ve[0]=U*D[8+Ge]+H*D[24+Ge]+Y*D[40+Ge]+ce*D[56+Ge],ve[1]=H*D[8+Ge]-ce*D[24+Ge]-U*D[40+Ge]-Y*D[56+Ge],ve[2]=Y*D[8+Ge]-U*D[24+Ge]+ce*D[40+Ge]+H*D[56+Ge],ve[3]=ce*D[8+Ge]-Y*D[24+Ge]+H*D[40+Ge]-U*D[56+Ge],Se[0]=A*(D[Ge]+D[32+Ge]),Se[3]=A*(D[Ge]-D[32+Ge]),Se[1]=pe[0]+pe[3],Se[2]=pe[1]-pe[2],de[0]=Se[0]+Se[1],de[1]=Se[3]+Se[2],de[2]=Se[3]-Se[2],de[3]=Se[0]-Se[1],D[0+Ge]=de[0]+ve[0],D[8+Ge]=de[1]+ve[1],D[16+Ge]=de[2]+ve[2],D[24+Ge]=de[3]+ve[3],D[32+Ge]=de[3]-ve[3],D[40+Ge]=de[2]-ve[2],D[48+Ge]=de[1]-ve[1],D[56+Ge]=de[0]-ve[0]}function vt(D){for(var A=0;A<64;++A){var U=D[0][A],V=D[1][A],H=D[2][A];D[0][A]=U+1.5747*H,D[1][A]=U-.1873*V-.4682*H,D[2][A]=U+1.8556*V}}function mt(D,A,U){for(var V=0;V<64;++V)A[U+V]=Fu.toHalfFloat(Jt(D[V]))}function Jt(D){return D<=1?Math.sign(D)*Math.pow(Math.abs(D),2.2):Math.sign(D)*Math.pow(C,Math.abs(D)-1)}function q(D){return new DataView(D.array.buffer,D.offset.value,D.size)}function F(D){var A=D.viewer.buffer.slice(D.offset.value,D.offset.value+D.size),U=new Uint8Array(Re(A)),V=new Uint8Array(U.length);return _e(U),ge(U,V),new DataView(V.buffer)}function ue(D){var A=D.array.slice(D.offset.value,D.offset.value+D.size),U=ov(A),V=new Uint8Array(U.length);return _e(U),ge(U,V),new DataView(V.buffer)}function Ne(D){for(var A=D.viewer,U={value:D.offset.value},V=new Uint16Array(D.width*D.scanlineBlockSize*(D.channels*D.type)),H=new Uint8Array(8192),Y=0,le=new Array(D.channels),ce=0;ce<D.channels;ce++)le[ce]={},le[ce].start=Y,le[ce].end=le[ce].start,le[ce].nx=D.width,le[ce].ny=D.lines,le[ce].size=D.type,Y+=le[ce].nx*le[ce].ny*le[ce].size;var pe=Le(A,U),ve=Le(A,U);if(ve>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(pe<=ve)for(var ce=0;ce<ve-pe+1;ce++)H[ce+pe]=xt(A,U);var Se=new Uint16Array(65536),de=L(H,Se),Fe=Ae(A,U);Be(D.array,A,U,Fe,V,Y);for(var ce=0;ce<D.channels;++ce)for(var Oe=le[ce],Ge=0;Ge<le[ce].size;++Ge)_t(V,Oe.start+Ge,Oe.nx,Oe.size,Oe.ny,Oe.nx*Oe.size,de);J(Se,V,Y);for(var yt=0,wt=new Uint8Array(V.buffer.byteLength),at=0;at<D.lines;at++)for(var Ze=0;Ze<D.channels;Ze++){var Oe=le[Ze],At=Oe.nx*Oe.size,st=new Uint8Array(V.buffer,Oe.end*2,At*2);wt.set(st,yt),yt+=At*2,Oe.end+=At}return new DataView(wt.buffer)}function Me(D){var A=D.array.slice(D.offset.value,D.offset.value+D.size),U=ov(A);const V=D.lines*D.channels*D.width,H=D.type==1?new Uint16Array(V):new Uint32Array(V);let Y=0,le=0;const ce=new Array(4);for(let pe=0;pe<D.lines;pe++)for(let ve=0;ve<D.channels;ve++){let Se=0;switch(D.type){case 1:ce[0]=Y,ce[1]=ce[0]+D.width,Y=ce[1]+D.width;for(let de=0;de<D.width;++de){const Fe=U[ce[0]++]<<8|U[ce[1]++];Se+=Fe,H[le]=Se,le++}break;case 2:ce[0]=Y,ce[1]=ce[0]+D.width,ce[2]=ce[1]+D.width,Y=ce[2]+D.width;for(let de=0;de<D.width;++de){const Fe=U[ce[0]++]<<24|U[ce[1]++]<<16|U[ce[2]++]<<8;Se+=Fe,H[le]=Se,le++}break}}return new DataView(H.buffer)}function Ie(D){var A=D.viewer,U={value:D.offset.value},V=new Uint8Array(D.width*D.lines*(D.channels*D.type*2)),H={version:rt(A,U),unknownUncompressedSize:rt(A,U),unknownCompressedSize:rt(A,U),acCompressedSize:rt(A,U),dcCompressedSize:rt(A,U),rleCompressedSize:rt(A,U),rleUncompressedSize:rt(A,U),rleRawSize:rt(A,U),totalAcUncompressedCount:rt(A,U),totalDcUncompressedCount:rt(A,U),acCompression:rt(A,U)};if(H.version<2)throw"EXRLoader.parse: "+bt.compression+" version "+H.version+" is unsupported";for(var Y=new Array,le=Le(A,U)-2;le>0;){var ce=Ke(A.buffer,U),pe=xt(A,U),ve=pe>>2&3,Se=(pe>>4)-1,de=new Int8Array([Se])[0],Fe=xt(A,U);Y.push({name:ce,index:de,type:Fe,compression:ve}),le-=ce.length+3}for(var Oe=bt.channels,Ge=new Array(D.channels),yt=0;yt<D.channels;++yt){var wt=Ge[yt]={},at=Oe[yt];wt.name=at.name,wt.compression=0,wt.decoded=!1,wt.type=at.pixelType,wt.pLinear=at.pLinear,wt.width=D.width,wt.height=D.lines}for(var Ze={idx:new Array(3)},At=0;At<D.channels;++At)for(var wt=Ge[At],yt=0;yt<Y.length;++yt){var st=Y[yt];wt.name==st.name&&(wt.compression=st.compression,st.index>=0&&(Ze.idx[st.index]=At),wt.offset=At)}if(H.acCompressedSize>0)switch(H.acCompression){case 0:var Lt=new Uint16Array(H.totalAcUncompressedCount);Be(D.array,A,U,H.acCompressedSize,Lt,H.totalAcUncompressedCount);break;case 1:var Ot=D.array.slice(U.value,U.value+H.totalAcUncompressedCount),fn=ov(Ot),Lt=new Uint16Array(fn.buffer);U.value+=H.totalAcUncompressedCount;break}if(H.dcCompressedSize>0){var hn={array:D.array,offset:U,size:H.dcCompressedSize},rn=new Uint16Array(ue(hn).buffer);U.value+=H.dcCompressedSize}if(H.rleRawSize>0){var Ot=D.array.slice(U.value,U.value+H.rleCompressedSize),fn=ov(Ot),_n=Re(fn.buffer);U.value+=H.rleCompressedSize}for(var ni=0,kt=new Array(Ge.length),yt=0;yt<kt.length;++yt)kt[yt]=new Array;for(var Vn=0;Vn<D.lines;++Vn)for(var un=0;un<Ge.length;++un)kt[un].push(ni),ni+=Ge[un].width*D.type*2;Te(Ze,kt,Ge,Lt,rn,V);for(var yt=0;yt<Ge.length;++yt){var wt=Ge[yt];if(!wt.decoded)switch(wt.compression){case 2:for(var Qt=0,kn=0,Vn=0;Vn<D.lines;++Vn){for(var Yo=kt[yt][Qt],fr=0;fr<wt.width;++fr){for(var vo=0;vo<2*wt.type;++vo)V[Yo++]=_n[kn+vo*wt.width*wt.height];kn++}Qt++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(V.buffer)}function Ke(D,A){for(var U=new Uint8Array(D),V=0;U[A.value+V]!=0;)V+=1;var H=new TextDecoder().decode(U.slice(A.value,A.value+V));return A.value=A.value+V+1,H}function ke(D,A,U){var V=new TextDecoder().decode(new Uint8Array(D).slice(A.value,A.value+U));return A.value=A.value+U,V}function Ye(D,A){var U=Dt(D,A),V=Ae(D,A);return[U,V]}function it(D,A){var U=Ae(D,A),V=Ae(D,A);return[U,V]}function Dt(D,A){var U=D.getInt32(A.value,!0);return A.value=A.value+4,U}function Ae(D,A){var U=D.getUint32(A.value,!0);return A.value=A.value+4,U}function Ht(D,A){var U=D[A.value];return A.value=A.value+1,U}function xt(D,A){var U=D.getUint8(A.value);return A.value=A.value+1,U}const rt=function(D,A){let U;return"getBigInt64"in DataView.prototype?U=Number(D.getBigInt64(A.value,!0)):U=D.getUint32(A.value+4,!0)+Number(D.getUint32(A.value,!0)<<32),A.value+=8,U};function Je(D,A){var U=D.getFloat32(A.value,!0);return A.value+=4,U}function Z(D,A){return Fu.toHalfFloat(Je(D,A))}function fe(D){var A=(D&31744)>>10,U=D&1023;return(D>>15?-1:1)*(A?A===31?U?NaN:1/0:Math.pow(2,A-15)*(1+U/1024):6103515625e-14*(U/1024))}function Le(D,A){var U=D.getUint16(A.value,!0);return A.value+=2,U}function Xe(D,A){return fe(Le(D,A))}function Ve(D,A,U,V){for(var H=U.value,Y=[];U.value<H+V-1;){var le=Ke(A,U),ce=Dt(D,U),pe=xt(D,U);U.value+=3;var ve=Dt(D,U),Se=Dt(D,U);Y.push({name:le,pixelType:ce,pLinear:pe,xSampling:ve,ySampling:Se})}return U.value+=1,Y}function be(D,A){var U=Je(D,A),V=Je(D,A),H=Je(D,A),Y=Je(D,A),le=Je(D,A),ce=Je(D,A),pe=Je(D,A),ve=Je(D,A);return{redX:U,redY:V,greenX:H,greenY:Y,blueX:le,blueY:ce,whiteX:pe,whiteY:ve}}function ot(D,A){var U=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],V=xt(D,A);return U[V]}function Et(D,A){var U=Ae(D,A),V=Ae(D,A),H=Ae(D,A),Y=Ae(D,A);return{xMin:U,yMin:V,xMax:H,yMax:Y}}function Tn(D,A){var U=["INCREASING_Y"],V=xt(D,A);return U[V]}function tt(D,A){var U=Je(D,A),V=Je(D,A);return[U,V]}function ct(D,A){var U=Je(D,A),V=Je(D,A),H=Je(D,A);return[U,V,H]}function Pt(D,A,U,V,H){if(V==="string"||V==="stringvector"||V==="iccProfile")return ke(A,U,H);if(V==="chlist")return Ve(D,A,U,H);if(V==="chromaticities")return be(D,U);if(V==="compression")return ot(D,U);if(V==="box2i")return Et(D,U);if(V==="lineOrder")return Tn(D,U);if(V==="float")return Je(D,U);if(V==="v2f")return tt(D,U);if(V==="v3f")return ct(D,U);if(V==="int")return Dt(D,U);if(V==="rational")return Ye(D,U);if(V==="timecode")return it(D,U);if(V==="preview")return U.value+=H,"skipped";U.value+=H}function qe(D,A,U){const V={};if(D.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";V.version=D.getUint8(4);const H=D.getUint8(5);V.spec={singleTile:!!(H&2),longName:!!(H&4),deepFormat:!!(H&8),multiPart:!!(H&16)},U.value=8;for(var Y=!0;Y;){var le=Ke(A,U);if(le==0)Y=!1;else{var ce=Ke(A,U),pe=Ae(D,U),ve=Pt(D,A,U,ce,pe);ve===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${ce}'.`):V[le]=ve}}if(H&-5)throw console.error("EXRHeader:",V),"THREE.EXRLoader: provided file is currently unsupported.";return V}function Rt(D,A,U,V,H){const Y={size:0,viewer:A,array:U,offset:V,width:D.dataWindow.xMax-D.dataWindow.xMin+1,height:D.dataWindow.yMax-D.dataWindow.yMin+1,channels:D.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:D.channels[0].pixelType,uncompress:null,getter:null,format:null,[Ed?"colorSpace":"encoding"]:null};switch(D.compression){case"NO_COMPRESSION":Y.lines=1,Y.uncompress=q;break;case"RLE_COMPRESSION":Y.lines=1,Y.uncompress=F;break;case"ZIPS_COMPRESSION":Y.lines=1,Y.uncompress=ue;break;case"ZIP_COMPRESSION":Y.lines=16,Y.uncompress=ue;break;case"PIZ_COMPRESSION":Y.lines=32,Y.uncompress=Ne;break;case"PXR24_COMPRESSION":Y.lines=16,Y.uncompress=Me;break;case"DWAA_COMPRESSION":Y.lines=32,Y.uncompress=Ie;break;case"DWAB_COMPRESSION":Y.lines=256,Y.uncompress=Ie;break;default:throw"EXRLoader.parse: "+D.compression+" is unsupported"}if(Y.scanlineBlockSize=Y.lines,Y.type==1)switch(H){case bi:Y.getter=Xe,Y.inputSize=2;break;case zi:Y.getter=Le,Y.inputSize=2;break}else if(Y.type==2)switch(H){case bi:Y.getter=Je,Y.inputSize=4;break;case zi:Y.getter=Z,Y.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+Y.type+" for "+D.compression+".";Y.blockCount=(D.dataWindow.yMax+1)/Y.scanlineBlockSize;for(var le=0;le<Y.blockCount;le++)rt(A,V);Y.outputChannels=Y.channels==3?4:Y.channels;const ce=Y.width*Y.height*Y.outputChannels;switch(H){case bi:Y.byteArray=new Float32Array(ce),Y.channels<Y.outputChannels&&Y.byteArray.fill(1,0,ce);break;case zi:Y.byteArray=new Uint16Array(ce),Y.channels<Y.outputChannels&&Y.byteArray.fill(15360,0,ce);break;default:console.error("THREE.EXRLoader: unsupported type: ",H);break}return Y.bytesPerLine=Y.width*Y.inputSize*Y.channels,Y.outputChannels==4?Y.format=Ti:Y.format=fA,Ed?Y.colorSpace="srgb-linear":Y.encoding=3e3,Y}const dt=new DataView(e),Tt=new Uint8Array(e),pn={value:0},bt=qe(dt,e,pn),pt=Rt(bt,dt,Tt,pn,this.type),Bn={value:0},yn={R:0,G:1,B:2,A:3,Y:0};for(let D=0;D<pt.height/pt.scanlineBlockSize;D++){const A=Ae(dt,pn);pt.size=Ae(dt,pn),pt.lines=A+pt.scanlineBlockSize>pt.height?pt.height-A:pt.scanlineBlockSize;const V=pt.size<pt.lines*pt.bytesPerLine?pt.uncompress(pt):q(pt);pn.value+=pt.size;for(let H=0;H<pt.scanlineBlockSize;H++){const Y=H+D*pt.scanlineBlockSize;if(Y>=pt.height)break;for(let le=0;le<pt.channels;le++){const ce=yn[bt.channels[le].name];for(let pe=0;pe<pt.width;pe++){Bn.value=(H*(pt.channels*pt.width)+le*pt.width+pe)*pt.inputSize;const ve=(pt.height-1-Y)*(pt.width*pt.outputChannels)+pe*pt.outputChannels+ce;pt.byteArray[ve]=pt.getter(V,Bn)}}}}return{header:bt,width:pt.width,height:pt.height,data:pt.byteArray,format:pt.format,[Ed?"colorSpace":"encoding"]:pt[Ed?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,i,r){function s(o,a){Ed?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=cn,o.magFilter=cn,o.generateMipmaps=!1,o.flipY=!1,t&&t(o,a)}return super.load(e,s,i,r)}}const QJ=3e3,eQ=3001;function Nz(n,e){const t=n+"Geometry";return K.forwardRef(({args:i,children:r,...s},o)=>{const a=K.useRef(null);return K.useImperativeHandle(o,()=>a.current),K.useLayoutEffect(()=>void(e==null?void 0:e(a.current))),K.createElement("mesh",Uy({ref:a},s),K.createElement(t,{attach:"geometry",args:i}),r)})}const tQ=Nz("sphere"),nQ=Nz("torus"),Dz=(n,e,t)=>{let i;switch(n){case ps:i=new Uint8ClampedArray(e*t*4);break;case zi:i=new Uint16Array(e*t*4);break;case No:i=new Uint32Array(e*t*4);break;case aA:i=new Int8Array(e*t*4);break;case lA:i=new Int16Array(e*t*4);break;case __:i=new Int32Array(e*t*4);break;case bi:i=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return i};let av;const iQ=(n,e,t,i)=>{if(av!==void 0)return av;const r=new Ss(1,1,i);e.setRenderTarget(r);const s=new yi(new Mc,new La({color:16777215}));e.render(s,t),e.setRenderTarget(null);const o=Dz(n,r.width,r.height);return e.readRenderTargetPixels(r,0,0,r.width,r.height,o),r.dispose(),s.geometry.dispose(),s.material.dispose(),av=o[0]!==0,av};class JA{constructor(e){var t,i,r,s,o,a,l,u,f,d,p,m,v,_,x,g;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(S){throw this._renderer.setRenderTarget(null),S}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const w={format:Ti,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(i=e.renderTargetOptions)===null||i===void 0?void 0:i.anisotropy:1,generateMipmaps:((r=e.renderTargetOptions)===null||r===void 0?void 0:r.generateMipmaps)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.generateMipmaps:!1,magFilter:((o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter)!==void 0?(a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter:cn,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(u=e.renderTargetOptions)===null||u===void 0?void 0:u.minFilter:cn,samples:((f=e.renderTargetOptions)===null||f===void 0?void 0:f.samples)!==void 0?(d=e.renderTargetOptions)===null||d===void 0?void 0:d.samples:void 0,wrapS:((p=e.renderTargetOptions)===null||p===void 0?void 0:p.wrapS)!==void 0?(m=e.renderTargetOptions)===null||m===void 0?void 0:m.wrapS:zn,wrapT:((v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapT)!==void 0?(_=e.renderTargetOptions)===null||_===void 0?void 0:_.wrapT:zn};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=JA.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new Om,this._camera=new Rh,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!iQ(this._type,this._renderer,this._camera,w)){let S;switch(this._type){case zi:S=this._renderer.extensions.has("EXT_color_buffer_float")?bi:void 0;break}S!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${bi}`),this._type=S):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new yi(new Mc,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new Ss(this.width,this.height,w),this._renderTarget.texture.mapping=((x=e.renderTargetOptions)===null||x===void 0?void 0:x.mapping)!==void 0?(g=e.renderTargetOptions)===null||g===void 0?void 0:g.mapping:Fl}static instantiateRenderer(){const e=new T_;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=Dz(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new Qu(this.toArray(),this.width,this.height,Ti,this._type,(e==null?void 0:e.mapping)||Fl,(e==null?void 0:e.wrapS)||zn,(e==null?void 0:e.wrapT)||zn,(e==null?void 0:e.magFilter)||cn,(e==null?void 0:e.minFilter)||cn,(e==null?void 0:e.anisotropy)||1,ws);return t.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Ms&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof Mn&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof Mn&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const rQ=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,sQ=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class oQ extends Ms{constructor({gamma:e,offsetHdr:t,offsetSdr:i,gainMapMin:r,gainMapMax:s,maxDisplayBoost:o,hdrCapacityMin:a,hdrCapacityMax:l,sdr:u,gainMap:f}){super({name:"GainMapDecoderMaterial",vertexShader:rQ,fragmentShader:sQ,uniforms:{sdr:{value:u},gainMap:{value:f},gamma:{value:new j(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new j().fromArray(t)},offsetSdr:{value:new j().fromArray(i)},gainMapMin:{value:new j().fromArray(r)},gainMapMax:{value:new j().fromArray(s)},weightFactor:{value:(Math.log2(o)-a)/(l-a)}},blending:Bo,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=o,this._hdrCapacityMin=a,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class kz extends Error{}class Oz extends Error{}const Td=(n,e,t)=>{const i=new RegExp(`${e}="([^"]*)"`,"i").exec(n);if(i)return i[1];const r=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(n);if(r){const s=r[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return s&&s.length===3?s.map(o=>o.replace(/<\/?rdf:li>/g,"")):r[1].trim()}if(t!==void 0)return t;throw new Error(`Can't find ${e} in gainmap metadata`)},aQ=n=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(n):e=n.toString();let t=e.indexOf("<x:xmpmeta");for(;t!==-1;){const i=e.indexOf("x:xmpmeta>",t),r=e.slice(t,i+10);try{const s=Td(r,"hdrgm:GainMapMin","0"),o=Td(r,"hdrgm:GainMapMax"),a=Td(r,"hdrgm:Gamma","1"),l=Td(r,"hdrgm:OffsetSDR","0.015625"),u=Td(r,"hdrgm:OffsetHDR","0.015625"),f=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(r),d=f?f[1]:"0",p=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(r);if(!p)throw new Error("Incomplete gainmap metadata");const m=p[1];return{gainMapMin:Array.isArray(s)?s.map(v=>parseFloat(v)):[parseFloat(s),parseFloat(s),parseFloat(s)],gainMapMax:Array.isArray(o)?o.map(v=>parseFloat(v)):[parseFloat(o),parseFloat(o),parseFloat(o)],gamma:Array.isArray(a)?a.map(v=>parseFloat(v)):[parseFloat(a),parseFloat(a),parseFloat(a)],offsetSdr:Array.isArray(l)?l.map(v=>parseFloat(v)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(u)?u.map(v=>parseFloat(v)):[parseFloat(u),parseFloat(u),parseFloat(u)],hdrCapacityMin:parseFloat(d),hdrCapacityMax:parseFloat(m)}}catch{}t=e.indexOf("<x:xmpmeta",i)}};class lQ{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,i)=>{const r=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){i(new Error("Not a valid jpeg"));return}const o=s.byteLength;let a=2,l=0,u;for(;a<o;){if(++l>250){i(new Error(`Found no marker after ${l} loops 😵`));return}if(s.getUint8(a)!==255){i(new Error(`Not a valid marker at offset 0x${a.toString(16)}, found: 0x${s.getUint8(a).toString(16)}`));return}if(u=s.getUint8(a+1),r&&console.log(`Marker: ${u.toString(16)}`),u===226){r&&console.log("Found APP2 marker (0xffe2)");const f=a+4;if(s.getUint32(f)===1297106432){const d=f+4;let p;if(s.getUint16(d)===18761)p=!1;else if(s.getUint16(d)===19789)p=!0;else{i(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(d+2,!p)!==42){i(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const m=s.getUint32(d+4,!p);if(m<8){i(new Error("Not valid TIFF data! (First offset less than 8)"));return}const v=d+m,_=s.getUint16(v,!p),x=v+2;let g=0;for(let b=x;b<x+12*_;b+=12)s.getUint16(b,!p)===45057&&(g=s.getUint32(b+8,!p));const w=4,S=v+2+_*12+w,E=[];for(let b=S;b<S+g*16;b+=16){const P={MPType:s.getUint32(b,!p),size:s.getUint32(b+4,!p),dataOffset:s.getUint32(b+8,!p),dependantImages:s.getUint32(b+12,!p),start:-1,end:-1,isFII:!1};P.dataOffset?(P.start=d+P.dataOffset,P.isFII=!1):(P.start=0,P.isFII=!0),P.end=P.start+P.size,E.push(P)}if(this.options.extractNonFII&&E.length){const b=new Blob([s]),P=[];for(const R of E){if(R.isFII&&!this.options.extractFII)continue;const I=b.slice(R.start,R.end+1,"image/jpeg");P.push(I)}t(P)}}}a+=2+s.getUint16(a+2)}})}}const uQ=async n=>{const e=aQ(n);if(!e)throw new Oz("Gain map XMP metadata not found");const i=await new lQ({extractFII:!0,extractNonFII:!0}).extract(n);if(i.length!==2)throw new kz("Gain map recovery image not found");return{sdr:new Uint8Array(await i[0].arrayBuffer()),gainMap:new Uint8Array(await i[1].arrayBuffer()),metadata:e}},R3=n=>new Promise((e,t)=>{const i=document.createElement("img");i.onload=()=>{e(i)},i.onerror=r=>{t(r)},i.src=URL.createObjectURL(n)});class Uz extends Rr{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new W_}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new oQ({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Mn,sdr:new Mn});return new JA({width:16,height:16,type:zi,colorSpace:ws,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,i,r){const s=r?new Blob([r],{type:"image/jpeg"}):void 0,o=new Blob([i],{type:"image/jpeg"});let a,l,u=!1;if(typeof createImageBitmap>"u"){const p=await Promise.all([s?R3(s):Promise.resolve(void 0),R3(o)]);l=p[0],a=p[1],u=!0}else{const p=await Promise.all([s?createImageBitmap(s,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(o,{imageOrientation:"flipY"})]);l=p[0],a=p[1]}const f=new Mn(l||new ImageData(2,2),Fl,zn,zn,cn,bM,Ti,ps,1,ws);f.flipY=u,f.needsUpdate=!0;const d=new Mn(a,Fl,zn,zn,cn,bM,Ti,ps,1,gi);d.flipY=u,d.needsUpdate=!0,e.width=a.width,e.height=a.height,e.material.gainMap=f,e.material.sdr=d,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class cQ extends Uz{load([e,t,i],r,s,o){const a=this.prepareQuadRenderer();let l,u,f;const d=async()=>{if(l&&u&&f){try{await this.render(a,f,l,u)}catch(C){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(i),typeof o=="function"&&o(C),a.disposeOnDemandRenderer();return}typeof r=="function"&&r(a),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(i),a.disposeOnDemandRenderer()}};let p=!0,m=0,v=0,_=!0,x=0,g=0,w=!0,S=0,E=0;const b=()=>{if(typeof s=="function"){const C=m+x+S,L=v+g+E,B=p&&_&&w;s(new ProgressEvent("progress",{lengthComputable:B,loaded:L,total:C}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(i);const P=new gs(this._internalLoadingManager);P.setResponseType("arraybuffer"),P.setRequestHeader(this.requestHeader),P.setPath(this.path),P.setWithCredentials(this.withCredentials),P.load(e,async C=>{if(typeof C=="string")throw new Error("Invalid sdr buffer");l=C,await d()},C=>{p=C.lengthComputable,v=C.loaded,m=C.total,b()},C=>{this.manager.itemError(e),typeof o=="function"&&o(C)});const R=new gs(this._internalLoadingManager);R.setResponseType("arraybuffer"),R.setRequestHeader(this.requestHeader),R.setPath(this.path),R.setWithCredentials(this.withCredentials),R.load(t,async C=>{if(typeof C=="string")throw new Error("Invalid gainmap buffer");u=C,await d()},C=>{_=C.lengthComputable,g=C.loaded,x=C.total,b()},C=>{this.manager.itemError(t),typeof o=="function"&&o(C)});const I=new gs(this._internalLoadingManager);return I.setRequestHeader(this.requestHeader),I.setPath(this.path),I.setWithCredentials(this.withCredentials),I.load(i,async C=>{if(typeof C!="string")throw new Error("Invalid metadata string");f=JSON.parse(C),await d()},C=>{w=C.lengthComputable,E=C.loaded,S=C.total,b()},C=>{this.manager.itemError(i),typeof o=="function"&&o(C)}),a}}class fQ extends Uz{load(e,t,i,r){const s=this.prepareQuadRenderer(),o=new gs(this._internalLoadingManager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(this.withCredentials),this.manager.itemStart(e),o.load(e,async a=>{if(typeof a=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(a);let u,f,d;try{const p=await uQ(l);u=p.sdr,f=p.gainMap,d=p.metadata}catch(p){if(p instanceof Oz||p instanceof kz)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),d={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},u=l;else throw p}try{await this.render(s,d,u,f)}catch(p){this.manager.itemError(e),typeof r=="function"&&r(p),s.disposeOnDemandRenderer();return}typeof t=="function"&&t(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},i,a=>{this.manager.itemError(e),typeof r=="function"&&r(a)}),s}}const ym={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},Fz="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",th=n=>Array.isArray(n),QA=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function X_({files:n=QA,path:e="",preset:t=void 0,encoding:i=void 0,extensions:r}={}){let s=null,o=!1;t&&(eb(t),n=ym[t],e=Fz),o=th(n);const{extension:a,isCubemap:l}=tb(n);if(s=nb(a),!s)throw new Error("useEnvironment: Unrecognized file extension: "+n);const u=gm(m=>m.gl);K.useLayoutEffect(()=>{if(a!=="webp"&&a!=="jpg"&&a!=="jpeg")return;function m(){Sh.clear(s,o?[n]:n)}u.domElement.addEventListener("webglcontextlost",m,{once:!0})},[n,u.domElement]);const f=Sh(s,o?[n]:n,m=>{(a==="webp"||a==="jpg"||a==="jpeg")&&m.setRenderer(u),m.setPath==null||m.setPath(e),r&&r(m)});let d=o?f[0]:f;if(a==="jpg"||a==="jpeg"||a==="webp"){var p;d=(p=d.renderTarget)==null?void 0:p.texture}return d.mapping=l?Wo:yh,"colorSpace"in d?d.colorSpace=i??l?"srgb":"srgb-linear":d.encoding=i??l?eQ:QJ,d}const hQ={files:QA,path:"",preset:void 0,extensions:void 0};X_.preload=n=>{const e={...hQ,...n};let{files:t,path:i=""}=e;const{preset:r,extensions:s}=e;r&&(eb(r),t=ym[r],i=Fz);const{extension:o}=tb(t);if(o==="webp"||o==="jpg"||o==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const a=nb(o);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+t);Sh.preload(a,th(t)?[t]:t,l=>{l.setPath==null||l.setPath(i),s&&s(l)})};const dQ={files:QA,preset:void 0};X_.clear=n=>{const e={...dQ,...n};let{files:t}=e;const{preset:i}=e;i&&(eb(i),t=ym[i]);const{extension:r}=tb(t),s=nb(r);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);Sh.clear(s,th(t)?[t]:t)};function eb(n){if(!(n in ym))throw new Error("Preset must be one of: "+Object.keys(ym).join(", "))}function tb(n){var e;const t=th(n)&&n.length===6,i=th(n)&&n.length===3&&n.some(o=>o.endsWith("json")),r=th(n)?n[0]:n;return{extension:t?"cube":i?"webp":r.startsWith("data:application/exr")?"exr":r.startsWith("data:application/hdr")?"hdr":r.startsWith("data:image/jpeg")?"jpg":(e=r.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:t,isGainmap:i}}function nb(n){return n==="cube"?BF:n==="hdr"?KJ:n==="exr"?JJ:n==="jpg"||n==="jpeg"?fQ:n==="webp"?cQ:null}const pQ=n=>n.current&&n.current.isScene,mQ=n=>pQ(n)?n.current:n;function ib(n,e,t,i,r={}){var s,o,a,l;r={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...r};const u=mQ(e||t),f=u.background,d=u.environment,p={backgroundBlurriness:u.backgroundBlurriness,backgroundIntensity:u.backgroundIntensity,backgroundRotation:(s=(o=u.backgroundRotation)==null||o.clone==null?void 0:o.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:u.environmentIntensity,environmentRotation:(a=(l=u.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&a!==void 0?a:[0,0,0]};return n!=="only"&&(u.environment=i),n&&(u.background=i),nl(u,r),()=>{n!=="only"&&(u.environment=d),n&&(u.background=f),nl(u,p)}}function rb({scene:n,background:e=!1,map:t,...i}){const r=gm(s=>s.scene);return K.useLayoutEffect(()=>{if(t)return ib(e,n,r,t,i)}),null}function zz({background:n=!1,scene:e,blur:t,backgroundBlurriness:i,backgroundIntensity:r,backgroundRotation:s,environmentIntensity:o,environmentRotation:a,...l}){const u=X_(l),f=gm(d=>d.scene);return K.useLayoutEffect(()=>ib(n,e,f,u,{backgroundBlurriness:t??i,backgroundIntensity:r,backgroundRotation:s,environmentIntensity:o,environmentRotation:a})),K.useEffect(()=>()=>{u.dispose()},[u]),null}function gQ({children:n,near:e=.1,far:t=1e3,resolution:i=256,frames:r=1,map:s,background:o=!1,blur:a,backgroundBlurriness:l,backgroundIntensity:u,backgroundRotation:f,environmentIntensity:d,environmentRotation:p,scene:m,files:v,path:_,preset:x=void 0,extensions:g}){const w=gm(I=>I.gl),S=gm(I=>I.scene),E=K.useRef(null),[b]=K.useState(()=>new Om),P=K.useMemo(()=>{const I=new SA(i);return I.texture.type=zi,I},[i]);K.useEffect(()=>()=>{P.dispose()},[P]),K.useLayoutEffect(()=>{if(r===1){const I=w.autoClear;w.autoClear=!0,E.current.update(w,b),w.autoClear=I}return ib(o,m,S,P.texture,{backgroundBlurriness:a??l,backgroundIntensity:u,backgroundRotation:f,environmentIntensity:d,environmentRotation:p})},[n,b,P.texture,m,S,o,r,w]);let R=1;return $A(()=>{if(r===1/0||R<r){const I=w.autoClear;w.autoClear=!0,E.current.update(w,b),w.autoClear=I,R++}}),K.createElement(K.Fragment,null,yJ(K.createElement(K.Fragment,null,n,K.createElement("cubeCamera",{ref:E,args:[e,t,P]}),v||x?K.createElement(zz,{background:!0,files:v,preset:x,path:_,extensions:g}):s?K.createElement(rb,{background:!0,map:s,extensions:g}):null),b))}function vQ(n){var e,t,i,r;const s=X_(n),o=n.map||s;K.useMemo(()=>lz({GroundProjectedEnvImpl:$J}),[]),K.useEffect(()=>()=>{s.dispose()},[s]);const a=K.useMemo(()=>[o],[o]),l=(e=n.ground)==null?void 0:e.height,u=(t=n.ground)==null?void 0:t.radius,f=(i=(r=n.ground)==null?void 0:r.scale)!==null&&i!==void 0?i:1e3;return K.createElement(K.Fragment,null,K.createElement(rb,Uy({},n,{map:o})),K.createElement("groundProjectedEnvImpl",{args:a,scale:f,height:l,radius:u}))}function Bz(n){return n.ground?K.createElement(vQ,n):n.map?K.createElement(rb,n):n.children?K.createElement(gQ,n):K.createElement(zz,n)}const yQ=()=>{const n=K.useRef(null);return $A(e=>{if(n.current){n.current.rotation.x=Math.sin(e.clock.getElapsedTime()*.2)*.3,n.current.rotation.y=Math.cos(e.clock.getElapsedTime()*.15)*.4;const t=1+Math.sin(e.clock.getElapsedTime()*.8)*.08;n.current.scale.set(t,t,1)}}),O.jsx(nQ,{ref:n,args:[2.8,.4,128,256],rotation:[.5,0,0],children:O.jsx("meshPhysicalMaterial",{roughness:.1,metalness:.9,color:new ut("#3A7BD5").multiplyScalar(1.2),iridescence:.8,iridescenceIOR:2.2,iridescenceThicknessRange:[200,1400],envMapIntensity:2,clearcoat:.8,clearcoatRoughness:.2,toneMapped:!1})})},Vz=(n,e)=>{const t=document.querySelectorAll(n),i=new IntersectionObserver(r=>{r.forEach(s=>{s.isIntersecting&&(s.target.classList.add(e),i.unobserve(s.target))})},{threshold:.8});t.forEach(r=>i.observe(r))},_Q=()=>{const n={hidden:{opacity:0},visible:{opacity:1,transition:{duration:1,ease:"easeOut",staggerChildren:.2,delayChildren:.3}}},e={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:1.2,ease:"easeOut"}}};return K.useEffect(()=>{Vz(".animate-on-scroll","visible")},[]),O.jsxs("div",{className:"h-screen relative overflow-hidden",children:[O.jsx("div",{className:"absolute inset-0 z-10",children:O.jsxs(Tz,{camera:{position:[0,0,10],fov:45},children:[O.jsx(Bz,{preset:"city"}),O.jsx("ambientLight",{intensity:.7}),O.jsx("pointLight",{position:[10,10,10],intensity:1.2}),O.jsx("pointLight",{position:[-10,-10,-10],intensity:.5,color:"#3A7BD5"}),O.jsx(yQ,{})]})}),O.jsxs("div",{className:"relative z-20 h-full flex flex-col items-center justify-center text-white",children:[O.jsx(je.div,{className:"text-center max-w-full mx-auto px-4 -mt-24 animate-on-scroll",variants:n,initial:"hidden",animate:"visible",children:O.jsx(je.h1,{className:"text-5xl md:text-7xl font-extrabold tracking-tighter leading-tight bg-clip-text text-transparent bg-gradient-to-r from-white/90 to-white/75 animate-on-scroll",variants:e,style:{textShadow:"0 0 20px rgba(255,255,255,0.5)"},children:O.jsxs(Rn,{children:[O.jsx("span",{className:"text-6xl md:text-8xl",children:"Xcelerate Insurance"})," ",O.jsx("br",{})," Xpand Reach"]})})}),O.jsxs("div",{className:"absolute bottom-72 flex flex-col items-center space-y-4 animate-on-scroll",children:[O.jsx(je.p,{className:"text-lg md:text-xl text-white/90 max-w-3xl leading-relaxed animate-on-scroll",variants:e}),O.jsx(je.div,{className:"mt-2 animate-on-scroll",variants:e,children:O.jsx(Ei,{to:"/book-a-call",children:O.jsx(je.button,{className:"px-8 py-4 bg-white text-black font-semibold rounded-full hover:bg-white/100 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl animate-on-scroll",style:{boxShadow:"0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px rgba(255, 255, 255, 0.6), 0 0 30px rgba(255, 255, 255, 0.4)"},whileHover:{scale:1.05},whileTap:{scale:.98},children:"Start Your Transformation"})})})]})]})]})};var sb={},Fy=function(){return Fy=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Fy.apply(this,arguments)},xQ=function(){function n(e,t,i){var r=this;this.endVal=t,this.options=i,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){r.startTime||(r.startTime=s);var o=s-r.startTime;r.remaining=r.duration-o,r.useEasing?r.countDown?r.frameVal=r.startVal-r.easingFn(o,0,r.startVal-r.endVal,r.duration):r.frameVal=r.easingFn(o,r.startVal,r.endVal-r.startVal,r.duration):r.frameVal=r.startVal+(r.endVal-r.startVal)*(o/r.duration);var a=r.countDown?r.frameVal<r.endVal:r.frameVal>r.endVal;r.frameVal=a?r.endVal:r.frameVal,r.frameVal=Number(r.frameVal.toFixed(r.options.decimalPlaces)),r.printValue(r.frameVal),o<r.duration?r.rAF=requestAnimationFrame(r.count):r.finalEndVal!==null?r.update(r.finalEndVal):r.options.onCompleteCallback&&r.options.onCompleteCallback()},this.formatNumber=function(s){var o,a,l,u,f=s<0?"-":"";o=Math.abs(s).toFixed(r.options.decimalPlaces);var d=(o+="").split(".");if(a=d[0],l=d.length>1?r.options.decimal+d[1]:"",r.options.useGrouping){u="";for(var p=3,m=0,v=0,_=a.length;v<_;++v)r.options.useIndianSeparators&&v===4&&(p=2,m=1),v!==0&&m%p==0&&(u=r.options.separator+u),m++,u=a[_-v-1]+u;a=u}return r.options.numerals&&r.options.numerals.length&&(a=a.replace(/[0-9]/g,function(x){return r.options.numerals[+x]}),l=l.replace(/[0-9]/g,function(x){return r.options.numerals[+x]})),f+r.options.prefix+a+l+r.options.suffix},this.easeOutExpo=function(s,o,a,l){return a*(1-Math.pow(2,-10*s/l))*1024/1023+o},this.options=Fy(Fy({},this.defaults),i),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(t),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof e=="string"?document.getElementById(e):e,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,e):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return r.handleScroll(r)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return n.prototype.handleScroll=function(e){if(e&&window&&!e.once){var t=window.innerHeight+window.scrollY,i=e.el.getBoundingClientRect(),r=i.top+window.pageYOffset,s=i.top+i.height+window.pageYOffset;s<t&&s>window.scrollY&&e.paused?(e.paused=!1,setTimeout(function(){return e.start()},e.options.scrollSpyDelay),e.options.scrollSpyOnce&&(e.once=!0)):(window.scrollY>s||r>t)&&!e.paused&&e.reset()}},n.prototype.determineDirectionAndSmartEasing=function(){var e=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>e;var t=e-this.startVal;if(Math.abs(t)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=e;var i=this.countDown?1:-1;this.endVal=e+i*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=e,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},n.prototype.start=function(e){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),e&&(this.options.onCompleteCallback=e),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},n.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},n.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},n.prototype.update=function(e){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(e),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},n.prototype.printValue=function(e){var t;if(this.el){var i=this.formattingFn(e);!((t=this.options.plugin)===null||t===void 0)&&t.render?this.options.plugin.render(this.el,i):this.el.tagName==="INPUT"?this.el.value=i:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=i:this.el.innerHTML=i}},n.prototype.ensureNumber=function(e){return typeof e=="number"&&!isNaN(e)},n.prototype.validateValue=function(e){var t=Number(e);return this.ensureNumber(t)?t:(this.error="[CountUp] invalid start or end value: ".concat(e),null)},n.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},n}();const wQ=Object.freeze(Object.defineProperty({__proto__:null,CountUp:xQ},Symbol.toStringTag,{value:"Module"})),SQ=kB(wQ);Object.defineProperty(sb,"__esModule",{value:!0});var Ui=K,MQ=SQ;function EQ(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,o,a=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=s.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(f){u=!0,r=f}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw r}}return a}}function I3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function zy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I3(Object(t),!0).forEach(function(i){bQ(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):I3(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function TQ(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function AQ(n){var e=TQ(n,"string");return typeof e=="symbol"?e:String(e)}function bQ(n,e,t){return e=AQ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pE(){return pE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},pE.apply(this,arguments)}function CQ(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function Hz(n,e){if(n==null)return{};var t=CQ(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function PQ(n,e){return RQ(n)||EQ(n,e)||IQ(n,e)||LQ()}function RQ(n){if(Array.isArray(n))return n}function IQ(n,e){if(n){if(typeof n=="string")return L3(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return L3(n,e)}}function L3(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function LQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var NQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Ui.useLayoutEffect:Ui.useEffect;function so(n){var e=Ui.useRef(n);return NQ(function(){e.current=n}),Ui.useCallback(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.current.apply(void 0,i)},[])}var DQ=function(e,t){var i=t.decimal,r=t.decimals,s=t.duration,o=t.easingFn,a=t.end,l=t.formattingFn,u=t.numerals,f=t.prefix,d=t.separator,p=t.start,m=t.suffix,v=t.useEasing,_=t.useGrouping,x=t.useIndianSeparators,g=t.enableScrollSpy,w=t.scrollSpyDelay,S=t.scrollSpyOnce,E=t.plugin;return new MQ.CountUp(e,a,{startVal:p,duration:s,decimal:i,decimalPlaces:r,easingFn:o,formattingFn:l,numerals:u,separator:d,prefix:f,suffix:m,plugin:E,useEasing:v,useIndianSeparators:x,useGrouping:_,enableScrollSpy:g,scrollSpyDelay:w,scrollSpyOnce:S})},kQ=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],OQ={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},Gz=function(e){var t=Object.fromEntries(Object.entries(e).filter(function(C){var L=PQ(C,2),B=L[1];return B!==void 0})),i=Ui.useMemo(function(){return zy(zy({},OQ),t)},[e]),r=i.ref,s=i.startOnMount,o=i.enableReinitialize,a=i.delay,l=i.onEnd,u=i.onStart,f=i.onPauseResume,d=i.onReset,p=i.onUpdate,m=Hz(i,kQ),v=Ui.useRef(),_=Ui.useRef(),x=Ui.useRef(!1),g=so(function(){return DQ(typeof r=="string"?r:r.current,m)}),w=so(function(C){var L=v.current;if(L&&!C)return L;var B=g();return v.current=B,B}),S=so(function(){var C=function(){return w(!0).start(function(){l==null||l({pauseResume:E,reset:b,start:R,update:P})})};a&&a>0?_.current=setTimeout(C,a*1e3):C(),u==null||u({pauseResume:E,reset:b,update:P})}),E=so(function(){w().pauseResume(),f==null||f({reset:b,start:R,update:P})}),b=so(function(){w().el&&(_.current&&clearTimeout(_.current),w().reset(),d==null||d({pauseResume:E,start:R,update:P}))}),P=so(function(C){w().update(C),p==null||p({pauseResume:E,reset:b,start:R})}),R=so(function(){b(),S()}),I=so(function(C){s&&(C&&b(),S())});return Ui.useEffect(function(){x.current?o&&I(!0):(x.current=!0,I())},[o,x,I,a,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.formattingFn]),Ui.useEffect(function(){return function(){b()}},[b]),{start:R,pauseResume:E,reset:b,update:P,getCountUp:w}},UQ=["className","redraw","containerProps","children","style"],FQ=function(e){var t=e.className,i=e.redraw,r=e.containerProps,s=e.children,o=e.style,a=Hz(e,UQ),l=Ui.useRef(null),u=Ui.useRef(!1),f=Gz(zy(zy({},a),{},{ref:l,startOnMount:typeof s!="function"||e.delay===0,enableReinitialize:!1})),d=f.start,p=f.reset,m=f.update,v=f.pauseResume,_=f.getCountUp,x=so(function(){d()}),g=so(function(E){e.preserveValue||p(),m(E)}),w=so(function(){if(typeof e.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}_()});Ui.useEffect(function(){w()},[w]),Ui.useEffect(function(){u.current&&g(e.end)},[e.end,g]);var S=i&&e;return Ui.useEffect(function(){i&&u.current&&x()},[x,i,S]),Ui.useEffect(function(){!i&&u.current&&x()},[x,i,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.className,e.formattingFn]),Ui.useEffect(function(){u.current=!0},[]),typeof s=="function"?s({countUpRef:l,start:d,reset:p,update:m,pauseResume:v,getCountUp:_}):Ui.createElement("span",pE({className:t,ref:l,style:o},r),typeof e.start<"u"?_().formattingFn(e.start):"")},zQ=sb.default=FQ;sb.useCountUp=Gz;const BQ=()=>{const n=[{percentage:80,text:"of insurance inquiries can be automated with AI",details:"AI can handle repetitive tasks, freeing up human resources for more complex issues."},{percentage:60,text:"reduction in claim processing time with AI",details:"AI streamlines the claims process, reducing time and errors."},{percentage:3,text:"increase in lead conversions using AI chatbots",details:"AI chatbots engage customers effectively, leading to higher conversion rates."}];return K.useEffect(()=>{Vz(".animate-on-scroll","visible")},[]),O.jsx("div",{className:"w-full max-w-6xl mx-auto px-4 py-16 grid grid-cols-1 md:grid-cols-3 gap-8",children:n.map((e,t)=>O.jsx("div",{className:"stat-card relative text-center p-6 rounded-2xl bg-white/5 backdrop-blur-lg border border-white/10 transition-all duration-500 hover:scale-105 hover:border-white/30 hover:shadow-[0_0_15px_rgba(255,255,255,0.5)] animate-on-scroll",children:O.jsxs("div",{className:"relative z-10",children:[O.jsx("div",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:O.jsx(zQ,{end:e.percentage,duration:2,suffix:e.percentage===3?"x":"%",start:0})}),O.jsx("p",{className:"text-white/70 text-lg leading-relaxed",children:O.jsx(Rn,{children:e.text})}),O.jsx("p",{className:"text-white/50 text-sm mt-4",children:O.jsx(Rn,{children:e.details})})]})},t))})},VQ=[{icon:"📈",title:"Increase Sales",description:"AI qualifies leads 24/7 and personalizes offers in real-time, turning more prospects into customers. Start converting leads while you sleep."},{icon:"💰",title:"Reduce Costs",description:"Automate up to 80% of claims processing and customer support tasks. Cut operational costs while maintaining quality service delivery."},{icon:"🚀",title:"Improve Experience",description:"Instant responses to customer inquiries and lightning-fast claims processing. Delight customers with speed and efficiency they've never seen before."}],HQ=()=>{const n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8}}};return O.jsx("section",{className:"py-24 px-4",children:O.jsxs(je.div,{className:"max-w-6xl mx-auto",variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.3},children:[O.jsxs(je.div,{className:"text-center mb-16",variants:e,children:[O.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:O.jsx(Rn,{children:"Why AI? Why Now?"})}),O.jsx("p",{className:"text-white/70 text-lg max-w-2xl mx-auto",children:O.jsx(Rn,{children:"The insurance industry is evolving. Stay ahead with AI-powered solutions that drive growth and efficiency."})})]}),O.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:VQ.map((t,i)=>O.jsxs(je.div,{variants:e,className:"relative p-8 rounded-2xl bg-white/5 backdrop-blur-lg border border-white/10 hover:border-white/30 transition-all duration-500 group",whileHover:{scale:1.03},children:[O.jsx("div",{className:"text-4xl mb-6 opacity-80",children:t.icon}),O.jsx("h3",{className:"text-2xl font-semibold mb-4 text-white/90",children:t.title}),O.jsx("p",{className:"text-white/70 leading-relaxed",children:t.description}),O.jsx(je.div,{className:"mt-6 inline-flex items-center text-sm text-white/60 hover:text-white/90 transition-colors duration-300",whileHover:{x:5},children:"Learn more →"})]},i))})]})})},GQ=[{icon:"🤖",title:"AI-Powered Customer Service",description:"Chatbots answer policy questions twenty-four seven, reducing agent workload while maintaining high customer satisfaction.",cta:"See How It Works"},{icon:"⚡",title:"AI-Driven Claims Processing",description:"AI scans accident photos and estimates repair costs instantly, accelerating claims settlement and improving accuracy.",cta:"Learn More"},{icon:"📊",title:"AI-Powered Underwriting",description:"AI personalizes auto insurance rates based on driving behavior, enabling more accurate risk assessment and fairer pricing.",cta:"Explore Features"},{icon:"🎯",title:"AI-Driven Marketing",description:"AI detects home insurance clients who need auto insurance, creating targeted cross-selling opportunities.",cta:"View Demo"},{icon:"📝",title:"AI-Powered Workflow",description:"AI scans PDFs and fills policy applications instantly, streamlining operations and reducing manual data entry.",cta:"See It In Action"},{icon:"🏢",title:"White-Label AI Solutions",description:"Agencies get their own AI chatbot to handle claims and policy inquiries, branded with their identity.",cta:"Get Started"}],WQ=()=>{const n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8}}};return O.jsx("section",{className:"py-24 px-4 relative overflow-hidden",children:O.jsxs(je.div,{className:"max-w-6xl mx-auto",variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.1},children:[O.jsxs(je.div,{className:"text-center mb-16",variants:e,children:[O.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent leading-[1.4] pb-2",children:O.jsx(Rn,{children:"Custom AI Solutions for Insurance Agencies"})}),O.jsx("p",{className:"text-white/70 text-lg max-w-2xl mx-auto",children:O.jsx(Rn,{children:"Transform your agency with cutting-edge AI technology designed specifically for the insurance industry."})})]}),O.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:GQ.map((t,i)=>O.jsx(je.div,{variants:e,className:"group relative",children:O.jsxs("div",{className:"p-8 rounded-2xl bg-white/5 backdrop-blur-lg border border-white/10 h-full transition-all duration-500 hover:border-white/30",children:[O.jsx("div",{className:"text-4xl mb-6 opacity-80",children:t.icon}),O.jsx("h3",{className:"text-2xl font-semibold mb-4 text-white/90",children:t.title}),O.jsx("p",{className:"text-white/70 leading-relaxed mb-6",children:t.description}),O.jsx(je.button,{className:"px-6 py-2 text-sm rounded-full bg-white/10 text-white/90 hover:bg-white/20 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:t.cta})]})},i))})]})})},yp=()=>O.jsx("div",{className:"text-2xl font-bold",children:"InsurXai"});Ca.registerPlugin(Yt);const jQ=[{icon:O.jsx(yp,{}),title:"Assess",description:"We analyze your insurance business needs and workflows to identify the highest-impact AI opportunities.",number:"01"},{icon:O.jsx(yp,{}),title:"Integrate",description:"We implement AI-driven solutions customized for your operations, ensuring seamless adoption.",number:"02"},{icon:O.jsx(yp,{}),title:"Optimize",description:"We fine-tune and automate your processes for efficiency and growth, maximizing your ROI.",number:"03"}],XQ=()=>{K.useEffect(()=>{Ca.utils.toArray(".animate-text").forEach(t=>{Ca.fromTo(t,{opacity:0,y:50},{opacity:1,y:0,duration:1.5,scrollTrigger:{trigger:t,start:"top 80%",scrub:!0}})})},[]);const n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8}}};return O.jsx("section",{className:"py-24 px-4 relative overflow-hidden",children:O.jsxs(je.div,{className:"max-w-6xl mx-auto",variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},children:[O.jsxs(je.div,{className:"text-center mb-16",variants:e,children:[O.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent animate-text",children:O.jsx(Rn,{children:"How InsureXai Transforms Your Business"})}),O.jsx("p",{className:"text-white/70 text-lg max-w-2xl mx-auto animate-text",children:O.jsx(Rn,{children:"A simple three-step process to revolutionize your insurance operations with AI"})})]}),O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 relative",children:[O.jsx("div",{className:"hidden md:block absolute top-1/2 left-1/4 right-1/4 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-y-1/2"}),jQ.map((t,i)=>O.jsx(je.div,{variants:e,className:"relative",children:O.jsxs("div",{className:"p-8 rounded-2xl bg-white/5 backdrop-blur-lg border border-white/10 transition-all duration-500 hover:border-white/30 h-full",children:[O.jsx("div",{className:"absolute -top-6 left-8 text-8xl font-bold text-white/5",children:t.number}),O.jsxs("div",{className:"relative",children:[O.jsx("div",{className:"text-4xl mb-6 opacity-80",children:t.icon}),O.jsx("h3",{className:"text-2xl font-semibold mb-4 text-white/90",children:t.title}),O.jsx("p",{className:"text-white/70 leading-relaxed",children:t.description})]})]})},i))]})]})})},YQ=[{question:"How quickly can we implement AI in our insurance agency?",answer:"Implementation typically takes 2-4 weeks, with immediate benefits visible in the first week. We handle all technical aspects, ensuring a smooth transition without disrupting your current operations."},{question:"Is AI secure enough for sensitive insurance data?",answer:"Yes. We implement bank-level security protocols and ensure full compliance with insurance industry regulations. All data is encrypted and processed in accordance with HIPAA and GDPR standards."},{question:"What ROI can we expect from AI implementation?",answer:"Our clients typically see a 3-5x ROI within the first year. This includes 60% reduction in processing time, 40% decrease in operational costs, and 80% improvement in customer response times."},{question:"Do we need technical expertise to use your AI solutions?",answer:"No technical expertise required. Our solutions are designed for insurance professionals, with intuitive interfaces and full training provided. We handle all technical aspects and provide ongoing support."}],Wz=()=>{const[n,e]=K.useState(null),t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8}}};return O.jsx("section",{className:"py-24 px-4 relative overflow-hidden",children:O.jsxs(je.div,{className:"max-w-4xl mx-auto text-center",variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},children:[O.jsxs(je.div,{variants:i,children:[O.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:O.jsx(Rn,{children:"Ready to Transform Your Insurance Business with AI?"})}),O.jsx("p",{className:"text-white/70 text-lg mb-8",children:O.jsx(Rn,{children:"Join the leading insurance agencies already leveraging AI to grow their business."})})]}),O.jsxs(je.div,{variants:i,className:"mb-16",children:[O.jsx(Ei,{to:"/book-a-call",children:O.jsx(je.button,{className:"px-8 py-4 bg-white text-black font-semibold rounded-full hover:bg-white/90 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",whileHover:{scale:1.05},whileTap:{scale:.98},children:"Book a Free AI Strategy Call"})}),O.jsx("p",{className:"text-white/60 text-sm mt-4",children:"Spots are limited. Secure yours today."})]}),O.jsxs(je.div,{variants:i,className:"max-w-2xl mx-auto",children:[O.jsx("h3",{className:"text-2xl font-semibold mb-8 text-white/90",children:"Frequently Asked Questions"}),O.jsx("div",{className:"space-y-4",children:YQ.map((r,s)=>O.jsxs(je.div,{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-lg overflow-hidden",variants:i,children:[O.jsxs("button",{className:"w-full px-6 py-4 text-left flex justify-between items-center hover:bg-white/5 transition-colors duration-300",onClick:()=>e(n===s?null:s),children:[O.jsx("span",{className:"font-medium text-white/90",children:r.question}),O.jsx("span",{className:"ml-4 text-white/60",children:n===s?"−":"+"})]}),O.jsx(je.div,{initial:!1,animate:{height:n===s?"auto":0,opacity:n===s?1:0},transition:{duration:.3},className:"overflow-hidden",children:O.jsx("p",{className:"px-6 pb-4 text-white/70",children:r.answer})})]},s))})]})]})})},bc=()=>{const e=vc().pathname==="/newsletter",t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8}}};return O.jsx("footer",{className:"py-16 px-4 border-t border-white/10",children:O.jsxs(je.div,{className:"max-w-6xl mx-auto",variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.2},children:[O.jsxs(je.div,{className:"text-center mb-12",variants:i,children:[O.jsx("div",{className:"text-2xl font-bold tracking-[0.2em] text-white/90 mb-2",children:O.jsx(Rn,{children:"InsurXai"})}),!e&&O.jsx(Ei,{to:"/newsletter",className:"inline-block px-6 py-3 bg-white/10 backdrop-blur-lg text-white border border-white/20 rounded-full hover:bg-white/20 transition-all duration-300 mt-4",children:O.jsx(Rn,{children:"Join Our Newsletter"})})]}),O.jsxs(je.div,{className:"flex flex-wrap justify-center gap-8 mb-12 text-sm",variants:i,children:[O.jsx(Ei,{to:"/about",className:"text-white/60 hover:text-white transition-colors duration-300",children:"About"}),O.jsx(Ei,{to:"/services",className:"text-white/60 hover:text-white transition-colors duration-300",children:"Services"}),O.jsx(Ei,{to:"/blogs",className:"text-white/60 hover:text-white transition-colors duration-300",children:"Blogs"}),O.jsx(Ei,{to:"/newsletter",className:"text-white/60 hover:text-white transition-colors duration-300",children:"Newsletter"}),O.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"text-white/60 hover:text-white transition-colors duration-300",children:"LinkedIn"}),O.jsx(Ei,{to:"/privacy",className:"text-white/60 hover:text-white transition-colors duration-300",children:"Privacy Policy"})]}),O.jsx(je.div,{className:"text-center text-white/40 text-sm",variants:i,children:"© 2025 InsurXai. All rights reserved."})]})})},qQ=()=>O.jsxs("div",{className:"min-h-screen bg-black text-white",children:[O.jsx(wc,{}),O.jsx(_Q,{}),O.jsx(BQ,{}),O.jsx(HQ,{}),O.jsx(WQ,{}),O.jsx(XQ,{}),O.jsx(Wz,{}),O.jsx(bc,{})]}),ZQ=()=>{const n=K.useRef(null);return $A(e=>{n.current&&(n.current.rotation.y=e.clock.getElapsedTime()*.1)}),O.jsx("group",{ref:n,children:O.jsx(tQ,{args:[.5,32,32],children:O.jsx("meshStandardMaterial",{color:"#3A7BD5"})})})},$Q=()=>{const n={hidden:{opacity:0},visible:{opacity:1,transition:{duration:1,ease:"easeOut",staggerChildren:.2,delayChildren:.3}}},e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut"}}};return O.jsxs("div",{className:"h-screen relative overflow-hidden",children:[O.jsx("div",{className:"absolute inset-0 z-10",children:O.jsxs(Tz,{camera:{position:[0,0,10],fov:45},children:[O.jsx(Bz,{preset:"city"}),O.jsx("ambientLight",{intensity:.7}),O.jsx("pointLight",{position:[10,10,10],intensity:1.2}),O.jsx("pointLight",{position:[-10,-10,-10],intensity:.5,color:"#3A7BD5"}),O.jsx(ZQ,{})]})}),O.jsx("div",{className:"relative z-20 h-full flex items-center justify-center text-white",children:O.jsx(je.div,{className:"text-center max-w-4xl mx-auto px-4",variants:n,initial:"hidden",animate:"visible",children:O.jsxs(je.div,{variants:e,children:[O.jsx("h1",{className:"text-6xl md:text-7xl font-extrabold tracking-tighter leading-tight bg-clip-text text-transparent bg-gradient-to-r from-white/90 to-white/75 mb-6",children:"AI Solutions for the Insurance Industry"}),O.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto leading-relaxed",children:"Unlock the power of AI to transform your agency's operations, claims, and customer service."})]})})})]})},KQ=[{icon:"🤖",title:"AI-Powered Customer Service & Sales",overview:"Automate customer interactions, qualify leads, and streamline follow-ups with AI-driven chatbots and CRM integrations.",features:["AI chatbots handle policy inquiries 24/7, reducing manual workload","Automated lead qualification and scoring to prioritize high-value prospects","AI-powered email and SMS follow-ups to nurture potential clients"],example:"An AI chatbot instantly answers common policy questions, schedules follow-ups, and updates CRM records automatically.",metrics:{responseTime:"< 1 second",availability:"24/7",satisfactionRate:"95%"}},{icon:"⚡",title:"AI-Driven Claims Processing & Fraud Detection",overview:"Speed up claims processing, reduce fraud, and ensure accuracy with AI-powered document scanning and fraud analysis.",features:["AI extracts data from claim forms and automatically verifies details","AI scans accident photos to estimate repair costs instantly","Fraud detection algorithms flag suspicious claims in real-time"],example:"AI scans images of car damage, compares them to past claims, and estimates repair costs within seconds.",metrics:{processingSpeed:"5x faster",fraudDetection:"99.9%",accuracy:"98%"}},{icon:"📊",title:"AI-Powered Underwriting & Risk Assessment",overview:"Optimize policy underwriting with AI-driven risk assessments and dynamic pricing models.",features:["AI assigns risk scores instantly based on customer data","AI predicts policy renewals and suggests retention strategies","Telematics integration adjusts auto insurance pricing dynamically"],example:"AI personalizes auto insurance rates based on a customer's driving behavior using telematics data.",metrics:{riskAccuracy:"95%",pricingOptimization:"+40%",retentionRate:"85%"}},{icon:"🎯",title:"AI-Driven Marketing & Lead Generation",overview:"Increase sales and customer retention with AI-powered marketing automation.",features:["AI predicts high-value leads and scores them based on behavior","AI automates social media, email marketing, and content creation","AI identifies cross-sell and upsell opportunities"],example:"AI detects home insurance clients who may need auto insurance and sends targeted offers automatically.",metrics:{leadQuality:"+60%",conversionRate:"3x higher",campaignROI:"+45%"}},{icon:"📝",title:"AI-Powered Workflow & Compliance Automation",overview:"Automate policy processing, document handling, and compliance checks with AI-driven workflows.",features:["AI auto-fills policy forms and extracts key information from documents","Compliance automation ensures policies meet state and federal regulations","AI dashboards provide real-time insights into agency performance"],example:"AI extracts customer details from uploaded PDFs and automatically fills out insurance applications.",metrics:{timeReduction:"80%",errorReduction:"99%",complianceRate:"100%"}},{icon:"🏢",title:"White-Label AI Solutions for Insurance Agencies",overview:"Offer custom AI-powered tools under your brand with seamless API integrations.",features:["AI-powered customer service chatbots branded for individual agencies","AI sales tools that help agents close more deals","API integrations with industry software like EZLynx and Applied Epic"],example:"An insurance agency gets a custom AI chatbot to handle policy inquiries, claims, and renewals under its brand.",metrics:{implementation:"2 weeks",customization:"100%",integrationRate:"99.9%"}}],JQ=()=>{const[n,e]=K.useState(null),t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8}}},r={hidden:{height:0,opacity:0},visible:{height:"auto",opacity:1,transition:{height:{duration:.4},opacity:{duration:.3,delay:.1}}}};return O.jsx("section",{className:"py-24 px-4 relative overflow-hidden",children:O.jsx(je.div,{className:"max-w-6xl mx-auto",variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.1},children:O.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:KQ.map((s,o)=>O.jsx(je.div,{variants:i,className:"group relative",onClick:()=>e(n===o?null:o),children:O.jsxs(je.div,{className:`p-8 rounded-3xl bg-white/5 backdrop-blur-lg border border-white/10 cursor-pointer
                  transition-all duration-500 hover:border-white/30 hover:shadow-2xl hover:shadow-white/5
                  ${n===o?"border-white/30":""}`,whileHover:{scale:n===o?1:1.02,boxShadow:"0 0 30px rgba(255,255,255,0.1)"},layout:!0,children:[O.jsxs(je.div,{className:"flex items-start gap-6",layout:!0,children:[O.jsx(je.div,{className:"text-4xl opacity-80",whileHover:{scale:1.1},layout:!0,children:s.icon}),O.jsxs("div",{children:[O.jsx(je.h3,{className:"text-2xl font-semibold mb-3 text-white/90",layout:!0,children:s.title}),O.jsx(je.p,{className:"text-white/70 leading-relaxed",layout:!0,children:s.overview})]})]}),O.jsx(AW,{children:n===o&&O.jsxs(je.div,{variants:r,initial:"hidden",animate:"visible",exit:"hidden",className:"mt-8 space-y-8",children:[O.jsxs("div",{className:"bg-white/5 rounded-2xl p-6",children:[O.jsx("h4",{className:"text-lg font-semibold mb-4 text-white/90",children:"Key Features"}),O.jsx("ul",{className:"space-y-3",children:s.features.map((a,l)=>O.jsxs(je.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:l*.1},className:"flex items-start gap-3 text-white/70",children:[O.jsx("span",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mt-2"}),O.jsx("span",{children:a})]},l))})]}),O.jsxs("div",{className:"bg-white/5 rounded-2xl p-6",children:[O.jsx("h4",{className:"text-lg font-semibold mb-3 text-white/90",children:"Real-World Example"}),O.jsx("p",{className:"text-white/70",children:s.example})]}),O.jsxs("div",{className:"bg-white/5 rounded-2xl p-6",children:[O.jsx("h4",{className:"text-lg font-semibold mb-4 text-white/90",children:"Performance Metrics"}),O.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(s.metrics).map(([a,l],u)=>O.jsxs(je.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},children:[O.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:l}),O.jsx("div",{className:"text-sm text-white/60 capitalize",children:a.replace(/([A-Z])/g," $1").trim()})]},u))})]}),O.jsx("div",{className:"text-center",children:O.jsx(Ei,{to:"/book-a-call",children:O.jsx(je.button,{className:"px-8 py-3 text-sm rounded-full bg-white text-black font-semibold hover:bg-white/90 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a=>a.stopPropagation(),children:"Schedule a Demo"})})})]})})]})},o))})})})},QQ=()=>O.jsxs("div",{className:"min-h-screen bg-black text-white",children:[O.jsx(wc,{}),O.jsx($Q,{}),O.jsx(JQ,{}),O.jsx(Wz,{}),O.jsx(bc,{})]}),eee=[{id:"future-of-insurance-ai",title:"The Future of Insurance: AI-Driven Transformation",description:"Discover how artificial intelligence is revolutionizing the insurance industry, from automated claims processing to personalized customer service.",image:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&q=80&w=800",date:"February 13, 2025",readTime:"5 min read",category:"AI Technology"},{id:"ai-claims-processing-5x-faster",title:"AI Claims Processing: 5X Faster Resolution",description:"Learn how insurance companies are leveraging AI to process claims five times faster while maintaining accuracy and reducing fraud.",image:"https://images.unsplash.com/photo-1526628953301-3e589a6a8b74?auto=format&fit=crop&q=80&w=800",date:"October 20, 2025",readTime:"4 min read",category:"Claims Processing"},{id:"ai-fraud-detection",title:"AI-Powered Fraud Detection in Insurance",description:"Discover how AI is revolutionizing fraud detection in insurance, saving the industry billions while ensuring faster claim processing for honest customers.",image:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&q=80&w=800",date:"February 15, 2025",readTime:"8 min read",category:"Fraud Detection"},{id:"ai-chatbots-insurance",title:"The Role of AI Chatbots in Customer Support and Sales",description:"Discover how AI chatbots are transforming customer support and sales for insurance agencies—providing instant responses, automating policy inquiries, and driving more conversions.",image:"https://images.unsplash.com/photo-1531746790731-6c087fecd65a?auto=format&fit=crop&q=80&w=800",date:"October 30, 2025",readTime:"5 min read",category:"Customer Service"},{id:"ai-blockchain-insurance",title:"How AI and Blockchain are Transforming the Insurance Industry",description:"Discover how AI and blockchain are reshaping the insurance industry by making claims processing faster, underwriting smarter, and fraud detection more secure.",image:"https://images.unsplash.com/photo-1639322537228-f710d846310a?auto=format&fit=crop&q=80&w=800",date:"November 5, 2025",readTime:"6 min read",category:"AI & Blockchain"},{id:"ai-risk-assessment",title:"How AI is Transforming Risk Assessment in the Insurance Industry",description:"AI is reshaping risk assessment by using real-time data, machine learning, and predictive analytics. Learn how insurers are leveraging AI for more accurate underwriting and pricing.",image:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?auto=format&fit=crop&q=80&w=800",date:"November 10, 2025",readTime:"6 min read",category:"Risk Assessment"}],tee=()=>{const n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8}}};return O.jsxs("div",{className:"min-h-screen bg-black text-white",children:[O.jsx(wc,{}),O.jsx("section",{className:"pt-32 pb-16 px-4",children:O.jsxs(je.div,{className:"max-w-6xl mx-auto text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[O.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:O.jsx(Rn,{children:"InsurXai Blog"})}),O.jsx("p",{className:"text-xl text-white/70 max-w-2xl mx-auto",children:O.jsx(Rn,{children:"Insights and innovations in AI-powered insurance technology"})})]})}),O.jsx("section",{className:"py-16 px-4",children:O.jsx(je.div,{className:"max-w-6xl mx-auto",variants:n,initial:"hidden",animate:"visible",children:O.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:eee.map(t=>O.jsx(je.div,{variants:e,whileHover:{scale:1.02},className:"group",children:O.jsx(Ei,{to:`/blogs/${t.id}`,className:"block",children:O.jsxs("div",{className:"rounded-xl bg-white/5 backdrop-blur-lg border border-white/10 overflow-hidden transition-all duration-500 hover:border-white/30 hover:shadow-2xl hover:shadow-white/5",children:[O.jsx("div",{className:"aspect-video overflow-hidden",children:O.jsx(je.img,{src:t.image,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"})}),O.jsxs("div",{className:"p-5",children:[O.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/60 mb-3",children:[O.jsx("span",{children:t.date}),O.jsx("span",{children:"•"}),O.jsx("span",{children:t.readTime})]}),O.jsx("h3",{className:"text-lg font-semibold mb-2 text-white/90 line-clamp-2",children:t.title}),O.jsx("p",{className:"text-white/70 text-sm leading-relaxed mb-4 line-clamp-3",children:t.description}),O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-white/10 text-white/80",children:t.category}),O.jsxs(je.span,{className:"text-white/60 group-hover:text-white transition-colors duration-300 text-sm flex items-center gap-1",whileHover:{x:5},children:["Read More",O.jsx("span",{className:"text-sm",children:"→"})]})]})]})]})})},t.id))})})}),O.jsx(bc,{})]})};Ca.registerPlugin(Yt);const nee={"future-of-insurance-ai":{title:"The Future of Insurance: How AI is Changing the Game",image:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&q=80&w=800",date:"February 13, 2025",readTime:"5 min read",category:"AI Technology",content:`
      <h2>Introduction</h2>
      <p>The insurance industry is undergoing a massive transformation, driven by artificial intelligence (AI). From instant claims processing to personalized pricing models, AI is reshaping the way insurers operate, making the industry more efficient, secure, and customer-centric. But where is AI taking the insurance sector in the next 5-10 years? Let's explore the future of insurance powered by AI.</p>

      <h2>How AI is Already Making Insurance Less Painful</h2>
      <h3>Claims Processing: From Weeks to Minutes</h3>
      <p>Traditionally, filing an insurance claim felt like applying for a mortgage—too many forms, endless phone calls, and long wait times. AI is here to fix that.</p>
      
      <p>Now, AI can:</p>
      <ul>
        <li>Analyze car accident photos and estimate damage in seconds.</li>
        <li>Cross-check claim data to catch fraud faster than your mom finds your search history.</li>
        <li>Automate approvals so simple claims get settled without human involvement.</li>
      </ul>
      <p><strong>📌 Example:</strong> Insurtech company Lemonade once settled a claim in 3 seconds. That's faster than it takes to find the customer service number for your current insurer.</p>

      <h3>AI in Risk Assessment & Underwriting: Because "One-Size-Fits-All" is Overrated</h3>
      <p>Traditionally, your insurance premium was based on static data (age, gender, credit score). AI, however, is more fair and dynamic (well, mostly).</p>
      
      <p>Now, insurers use AI to:</p>
      <ul>
        <li>Track your actual behavior (driving habits, fitness levels, etc.) to set fairer rates.</li>
        <li>Predict risks more accurately using real-time data.</li>
        <li>Offer personalized policies instead of using outdated assumptions.</li>
      </ul>
      <p><strong>📌 Example:</strong> Telematics-based insurance (like Root or Progressive's Snapshot) monitors your driving in real time. Brake too hard? Insurance might charge you extra. Drive like a saint? Discounts.</p>

      <h3>Fraud Detection: AI's Got Trust Issues (And That's a Good Thing)</h3>
      <p>Insurance fraud is a $80 billion problem annually. AI, however, is always suspicious.</p>
      
      <p>Here's how it works:</p>
      <ul>
        <li>AI scans claims for suspicious patterns (like someone "losing" their car every two years).</li>
        <li>It checks metadata on images to make sure that "recent car accident" wasn't actually a photo from 2015.</li>
        <li>Deepfake detection is catching fake injury claims where people use AI-generated images.</li>
      </ul>
      <p><strong>📌 Example:</strong> AI once flagged a claim where the accident "victim" used stock images from Google. Nice try.</p>

      <h3>AI Chatbots: Insurance Agents That Never Sleep</h3>
      <p>Ever tried calling your insurer at 9 PM? Yeah, good luck with that. AI chatbots, however, don't need sleep, lunch breaks, or coffee.</p>
      
      <p>They handle:</p>
      <ul>
        <li>Basic policy questions (so you don't have to dig through 30 pages of fine print).</li>
        <li>Claims updates without waiting on hold for an hour.</li>
        <li>Personalized policy recommendations based on actual data.</li>
      </ul>
      <p><strong>📌 Example:</strong> GEICO's AI chatbot can help you manage policies, answer questions, and even assist with claims—all without talking to a human.</p>

      <h2>Where AI is Taking Insurance in the Next 5-10 Years</h2>
      <h3>1. Fully Automated Insurance (No Humans Required?)</h3>
      <p>Imagine getting insured in under 60 seconds—no agents, no paperwork, just AI doing its thing.</p>
      <ul>
        <li>Policies will be auto-generated based on real-time data.</li>
        <li>AI will handle end-to-end claims processing, no human needed.</li>
        <li>AI-powered apps will let you buy, manage, and cancel policies instantly.</li>
      </ul>
      <p><strong>📌 Prediction:</strong> By 2030, 80% of basic insurance policies could be issued and managed without human involvement.</p>

      <h3>2. AI-Driven Healthcare & Life Insurance (The Future is Predictive)</h3>
      <ul>
        <li>AI will predict potential health risks based on medical records and lifestyle habits.</li>
        <li>Insurance policies will be custom-tailored to your health.</li>
        <li>AI might even suggest ways to lower your premiums, like eating better or exercising more.</li>
      </ul>
      <p><strong>📌 Example:</strong> Instead of flat rates, AI could charge higher life insurance premiums for people who eat fast food daily. Ouch.</p>

      <h2>Final Thoughts: AI is the Best (and Worst) Thing to Happen to Insurance</h2>
      <p>The insurance industry needed a shake-up, and AI is doing exactly that.</p>
      <p>On one hand, AI is making insurance smarter, faster, and fairer. On the other, it's constantly tracking you, adjusting your premiums based on how well you drive, eat, or sleep.</p>
      <p>Love it or hate it, AI-powered insurance is here—and it's only going to get smarter.</p>
    `},"ai-claims-processing-5x-faster":{title:"AI Claims Processing: How Insurance Companies are Settling Claims 5X Faster",image:"https://images.unsplash.com/photo-1526628953301-3e589a6a8b74?auto=format&fit=crop&q=80&w=800",date:"October 20, 2025",readTime:"4 min read",category:"Claims Processing",content:`
      <h2>Introduction: Goodbye Paperwork, Hello Instant Claims</h2>
      <p>Filing an insurance claim used to feel like sending a message in a bottle—slow, uncertain, and often frustrating. It involved endless paperwork, long waiting periods, and phone calls that always seemed to get transferred five times before reaching the right person. But artificial intelligence is changing all of that.</p>
      
      <p>Today, AI-driven claims processing is cutting settlement times from weeks to minutes, reducing fraud, and making insurance companies more efficient. Whether it is an auto accident, property damage, or a medical claim, AI is handling it faster than ever.</p>
      
      <p>But how exactly does AI process claims so quickly? And what does the future of AI-powered claims management look like? Let's break it down.</p>

      <h2>How AI is Making Claims Processing 5X Faster</h2>
      <h3>1. AI-Powered Image & Video Analysis</h3>
      <p>One of the biggest delays in insurance claims is damage assessment. Traditionally, an adjuster had to manually inspect damage, estimate costs, and approve payouts. AI has eliminated much of that process.</p>
      
      <p>Now, claimants can simply upload photos or videos of the damage, and AI does the rest.</p>
      <ul>
        <li>AI analyzes images instantly, detecting dents, cracks, and structural damage.</li>
        <li>It compares the damage with millions of past claims to generate a repair cost estimate in seconds.</li>
        <li>AI can detect inconsistencies, flagging cases where the damage does not match the reported incident.</li>
      </ul>
      <p>Insurance companies like Tractable and CCC Intelligent Solutions are already using this technology to process auto accident claims in minutes instead of days.</p>

      <h3>2. Natural Language Processing (NLP) for Automated Claims Documentation</h3>
      <p>Processing a claim involves more than just assessing damage. It requires handling documents, customer reports, medical records, and legal paperwork. AI-powered Natural Language Processing (NLP) can read, understand, and process these documents at lightning speed.</p>
      <ul>
        <li>AI extracts key information from police reports, medical documents, and repair invoices.</li>
        <li>It automatically fills in claims forms, reducing human errors.</li>
        <li>It flags inconsistencies in reports, detecting fraud attempts.</li>
      </ul>
      <p>This eliminates the need for policyholders to fill out endless forms manually and speeds up the entire approval process.</p>

      <h3>3. AI Chatbots and Virtual Assistants for Claims Support</h3>
      <p>Traditionally, claimants had to wait on hold for hours to speak with an agent about their claim status. AI chatbots have taken over these repetitive tasks, providing:</p>
      <ul>
        <li>24/7 customer support for policyholders needing updates on their claims.</li>
        <li>Instant document submission and verification through chatbot interfaces.</li>
        <li>Guided claim filing, ensuring claimants submit all necessary details correctly the first time.</li>
      </ul>

      <h2>Final Thoughts: AI is Changing Insurance Forever</h2>
      <p>AI-powered claims processing is no longer a futuristic concept—it is happening now.</p>
      <p>Insurance companies that embrace AI are settling claims 5X faster, reducing fraud, and improving customer satisfaction. But the best part? Policyholders no longer have to wait for weeks to get paid.</p>
    `},"ai-fraud-detection":{title:"AI-Powered Fraud Detection in Insurance – Stopping Scams Before They Happen",image:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&q=80&w=800",date:"February 15, 2025",readTime:"8 min read",category:"Fraud Detection",content:`
      <h2>The $80 Billion Problem No One Talks About</h2>
      <p>Insurance fraud is a massive problem, costing the industry over $80 billion every year. From staged car accidents to fake injuries, fraudulent claims increase premiums for honest customers and create huge losses for insurers.</p>
      
      <p>Traditionally, fraud detection relied on manual investigation, red flags, and gut instincts—but AI is changing the game. With machine learning and advanced data analytics, AI can:</p>
      <ul>
        <li>Spot fraud patterns before they cause damage</li>
        <li>Cross-check claim details faster than human investigators</li>
        <li>Reduce false claims without delaying legitimate ones</li>
      </ul>
      <p>The result? Faster claims processing for honest customers and billions saved in fraud prevention.</p>

      <h2>How AI is Revolutionizing Insurance Fraud Detection</h2>
      <h3>1. AI Detects Suspicious Claims Instantly</h3>
      <p>Most fraudulent claims follow predictable patterns, but traditional systems are too slow to detect them in real time. AI, however, can:</p>
      <ul>
        <li>Compare new claims against millions of past cases to detect anomalies</li>
        <li>Identify repeat offenders filing suspicious claims across multiple insurers</li>
        <li>Analyze metadata on images and documents to spot doctored files</li>
      </ul>
      <p><strong>📌 Example:</strong> AI once flagged a suspicious claim where an accident "victim" used a stock image from Google as proof of injury. Nice try.</p>

      <h3>2. Image & Video AI Exposes Fake Damage</h3>
      <p>Fraudulent claims often involve fake accidents, exaggerated damage, or altered photos. AI can analyze:</p>
      <ul>
        <li>Car accident photos to detect inconsistencies in lighting, shadows, and timestamps</li>
        <li>Medical images to verify if an injury actually occurred</li>
        <li>Video evidence to confirm whether an event happened as reported</li>
      </ul>
      <p><strong>📌 Example:</strong> Some insurers now require video proof of damage, where AI scans footage for tampered or pre-existing damage.</p>

      <h3>3. AI Identifies Fraud Rings and Scammers</h3>
      <p>Many fraud cases are not one-off scams but organized fraud rings that file fake claims across multiple insurance companies. AI can:</p>
      <ul>
        <li>Analyze social connections between multiple claimants</li>
        <li>Detect repeated claims with suspicious similarities</li>
        <li>Monitor geographic fraud patterns, flagging areas with high fraudulent activity</li>
      </ul>
      <p><strong>📌 Example:</strong> AI once uncovered a ring of fake car accident claims where the same "victims" and "witnesses" appeared across multiple cases.</p>

      <h3>4. Predictive Analytics Stops Fraud Before It Happens</h3>
      <p>Instead of reacting to fraud after the damage is done, AI predicts who is likely to commit fraud before they file a claim.</p>
      
      <p>How?</p>
      <ul>
        <li>AI analyzes customer behavior and past claims history to predict high-risk individuals</li>
        <li>AI cross-checks with criminal records, credit scores, and public data for red flags</li>
        <li>AI flags high-risk policies for additional verification before issuing coverage</li>
      </ul>
      <p><strong>📌 Example:</strong> AI found that policyholders who switched insurers frequently were 3x more likely to file fraudulent claims.</p>

      <h2>The Future of AI Fraud Detection in Insurance</h2>
      <h3>1. Blockchain + AI for Tamper-Proof Claims</h3>
      <p>AI can detect fraud, but blockchain technology can prevent it from happening in the first place.</p>
      
      <p>By recording all claims data on a blockchain, insurers can:</p>
      <ul>
        <li>Prevent false modifications to claims documents</li>
        <li>Share verified claims history across companies to stop repeat fraud attempts</li>
        <li>Automate smart contracts to approve legitimate claims instantly while blocking suspicious ones</li>
      </ul>
      <p><strong>📌 Prediction:</strong> By 2030, blockchain-powered claims processing could eliminate billions in fraudulent payouts.</p>

      <h3>2. Deepfake Detection – Stopping AI-Generated Fraud</h3>
      <p>As AI gets smarter, so do fraudsters. Deepfake technology is being used to generate fake injury photos, falsify damage reports, and even create synthetic identities.</p>
      
      <p>To fight this, AI is being trained to:</p>
      <ul>
        <li>Detect manipulated images by analyzing pixel-level inconsistencies</li>
        <li>Verify facial recognition data against trusted databases</li>
        <li>Scan claim documents for AI-generated text patterns</li>
      </ul>
      <p><strong>📌 Example:</strong> A fraud ring once used deepfake technology to create fake policyholders who filed multiple claims—AI detected pixel anomalies and flagged the scam.</p>

      <h2>Final Thoughts: AI is Making Insurance More Secure</h2>
      <p>Insurance fraud has been a never-ending battle, but AI is finally turning the tide.</p>
      <p>By analyzing millions of claims, detecting patterns, and stopping fraud in real time, AI is making the industry safer, faster, and fairer for everyone. The future of fraud detection belongs to AI—and scammers will have to find a new profession.</p>
    `},"ai-chatbots-insurance":{title:"The Role of AI Chatbots in Customer Support and Sales",image:"https://images.unsplash.com/photo-1531746790731-6c087fecd65a?auto=format&fit=crop&q=80&w=800",date:"October 30, 2025",readTime:"5 min read",category:"Customer Service",content:`
      <h2>Introduction: No More "Your Call is Important to Us"</h2>
      <p>Let's be honest—no one likes calling their insurance company. You either get stuck in a robotic phone menu that leads nowhere, or you wait for an agent who greets you with the energy of someone who has taken their fifth call in the last ten minutes.</p>

      <p>Insurance is an industry that thrives on speed and trust, yet most companies still struggle with slow customer service, complex policy inquiries, and inefficient sales processes. But guess what? AI chatbots are changing all of that.</p>

      <p>By providing instant responses, 24/7 availability, and seamless sales automation, AI-powered chatbots are streamlining the customer experience while boosting sales conversions. Let's explore how insurance agencies are leveraging AI chatbots to handle policy inquiries, qualify leads, and assist with claims—without hiring more agents.</p>

      <h2>How AI Chatbots are Revolutionizing Insurance Customer Support</h2>
      <h3>1. Answering Policy Inquiries in Real Time</h3>
      <p>Insurance policies can be confusing—even seasoned customers struggle with deductibles, exclusions, and renewal terms. Instead of waiting for a human agent, AI chatbots now:</p>
      <ul>
        <li>Instantly provide answers to policy-related questions</li>
        <li>Break down complex policy details into easy-to-understand explanations</li>
        <li>Suggest the right coverage options based on customer needs</li>
      </ul>

      <h3>2. AI Chatbots as 24/7 Virtual Insurance Assistants</h3>
      <p>Unlike human agents, AI chatbots never take breaks, vacations, or sick days. They operate around the clock, ensuring that customers get help at any time of day, on any device.</p>
      <ul>
        <li>Multichannel support via websites, mobile apps, and social media</li>
        <li>Instant policy updates, such as adding a new driver or adjusting coverage</li>
        <li>Proactive customer engagement, reminding policyholders of renewals and discounts</li>
      </ul>

      <h2>How AI Chatbots Drive More Insurance Sales</h2>
      <h3>1. AI-Driven Cross-Selling & Upselling</h3>
      <p>Insurance agencies don't just sell policies—they build relationships. AI chatbots analyze customer data to:</p>
      <ul>
        <li>Recommend relevant policies (e.g., home insurance for someone with auto insurance)</li>
        <li>Offer discounts and bundling options automatically</li>
        <li>Personalize sales pitches based on customer history</li>
      </ul>

      <h3>2. AI Handles Claims Filing & Status Updates</h3>
      <p>Traditionally, customers had to call their insurer, submit documents, and wait weeks to hear back about a claim. AI chatbots now:</p>
      <ul>
        <li>Guide users through the claims process step by step</li>
        <li>Collect necessary documents and photos instantly</li>
        <li>Provide real-time claim status updates</li>
      </ul>

      <h2>Final Thoughts: AI Chatbots Are the Future of Insurance Sales & Support</h2>
      <p>AI-powered chatbots aren't replacing insurance agents—they are enhancing the customer experience, reducing workload, and driving more sales.</p>

      <p>With instant responses, lead qualification, claims assistance, and proactive customer engagement, AI chatbots increase efficiency while improving customer satisfaction.</p>

      <p>The future of insurance belongs to AI-driven automation, and chatbots are leading the way.</p>
    `},"ai-blockchain-insurance":{title:"How AI and Blockchain are Transforming the Insurance Industry",image:"https://images.unsplash.com/photo-1639322537228-f710d846310a?auto=format&fit=crop&q=80&w=800",date:"November 5, 2025",readTime:"6 min read",category:"AI & Blockchain",content:`
      <h2>Introduction: AI + Blockchain = The Future of Insurance</h2>
      <p>Insurance is one of the oldest industries in the world, but let's be real—it hasn't always kept up with technology. Paper-heavy processes, fraud, delayed claims, and outdated underwriting methods have made insurance slower, more expensive, and frustrating for customers.</p>

      <p>Enter AI and blockchain, the two game-changing technologies that are redefining how insurance works.</p>
      <ul>
        <li>AI is making underwriting smarter, claims processing faster, and fraud detection more accurate</li>
        <li>Blockchain is bringing security, transparency, and automation through smart contracts</li>
        <li>Together, they are eliminating inefficiencies and saving billions in costs for insurers</li>
      </ul>

      <h2>AI in Insurance: The Brain Behind Smarter Decisions</h2>
      <h3>1. AI-Powered Underwriting – Faster, More Accurate Risk Assessment</h3>
      <p>Traditionally, underwriting was a slow, manual process where human agents reviewed data, assessed risks, and calculated premiums. AI has transformed this process by analyzing vast amounts of data instantly.</p>

      <h3>2. AI-Driven Claims Processing – Settling Claims in Minutes</h3>
      <p>AI is making claims processing faster, more efficient, and less prone to fraud. Instead of relying on manual assessments, AI automates:</p>
      <ul>
        <li>Damage assessment using AI-powered image recognition</li>
        <li>Claims validation by cross-checking data from multiple sources</li>
        <li>Predictive fraud detection to flag suspicious cases instantly</li>
      </ul>

      <h2>Blockchain in Insurance: The Backbone of Trust & Security</h2>
      <h3>1. Smart Contracts – Automating Policy Payouts Instantly</h3>
      <p>One of the biggest innovations in blockchain is smart contracts, which allow automated policy execution without human involvement.</p>

      <p>How smart contracts work in insurance:</p>
      <ul>
        <li>Policies are written as self-executing contracts on the blockchain</li>
        <li>When a predefined condition is met (e.g., flight delay, car accident), the contract automatically triggers the payout</li>
      </ul>

      <h3>2. Blockchain for Secure & Transparent Data Sharing</h3>
      <p>Data integrity is crucial in insurance, and blockchain ensures secure, tamper-proof records for policies, claims, and customer data.</p>

      <h2>The Future of AI & Blockchain in Insurance</h2>
      <h3>1. Pay-As-You-Go & Usage-Based Insurance</h3>
      <p>AI and blockchain are paving the way for dynamic insurance pricing based on real-time behavior and data.</p>

      <h3>2. AI & Blockchain-Powered Peer-to-Peer (P2P) Insurance</h3>
      <p>The future of insurance may not involve traditional insurance companies at all. With blockchain and AI, decentralized insurance models can:</p>
      <ul>
        <li>Allow policyholders to form their own risk pools</li>
        <li>Use smart contracts to distribute payouts fairly and automatically</li>
      </ul>

      <h2>Final Thoughts: AI & Blockchain Are Reshaping Insurance</h2>
      <p>AI and blockchain are not just trends—they are the future of insurance.</p>

      <p>The insurance industry is evolving faster than ever, and companies that embrace AI and blockchain will dominate the future. Those that don't? Well, let's just say they might need to insure themselves against irrelevance.</p>
    `},"ai-risk-assessment":{title:"AI-Powered Risk Assessment: The Future of Insurance Underwriting",image:"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?auto=format&fit=crop&q=80&w=800",date:"December 1, 2025",readTime:"7 min read",category:"Risk Assessment",content:`
      <h2>Introduction: Risk Assessment Gets a Brain Upgrade</h2>
      <p>Insurance underwriting used to be more art than science—experienced professionals would assess risk based on limited data points and gut feelings. But AI is changing that equation, making risk assessment more accurate, fair, and data-driven than ever before.</p>

      <h2>How AI is Revolutionizing Risk Assessment</h2>
      <h3>1. Real-Time Data Analysis</h3>
      <p>AI processes vast amounts of data in real-time to assess risk more accurately:</p>
      <ul>
        <li>Analyzes behavioral patterns and lifestyle choices</li>
        <li>Monitors environmental and external risk factors</li>
        <li>Adjusts risk profiles dynamically based on changing conditions</li>
      </ul>

      <h3>2. Predictive Analytics</h3>
      <p>AI doesn't just look at historical data—it predicts future risks:</p>
      <ul>
        <li>Forecasts potential claims based on pattern recognition</li>
        <li>Identifies emerging risk factors before they become problems</li>
        <li>Suggests preventive measures to reduce risk exposure</li>
      </ul>

      <h2>The Benefits of AI-Powered Risk Assessment</h2>
      <h3>1. More Accurate Pricing</h3>
      <p>AI helps insurers price policies more fairly by:</p>
      <ul>
        <li>Considering hundreds of risk factors simultaneously</li>
        <li>Adjusting premiums based on actual risk levels</li>
        <li>Reducing human bias in risk assessment</li>
      </ul>

      <h3>2. Faster Underwriting</h3>
      <p>AI accelerates the underwriting process through:</p>
      <ul>
        <li>Automated data collection and analysis</li>
        <li>Instant risk scoring and premium calculation</li>
        <li>Real-time policy issuance for low-risk cases</li>
      </ul>

      <h2>The Future of AI Risk Assessment</h2>
      <p>As AI technology evolves, we can expect:</p>
      <ul>
        <li>Even more personalized risk assessment</li>
        <li>Integration with IoT devices for real-time monitoring</li>
        <li>Completely automated underwriting for most insurance products</li>
      </ul>

      <h2>Final Thoughts: AI is Making Insurance Fairer</h2>
      <p>AI-powered risk assessment is not just making insurance more efficient—it's making it fairer. By removing human bias and considering more data points, AI helps ensure that everyone pays premiums based on their actual risk level, not on broad generalizations or outdated assumptions.</p>
    `}},iee=()=>{const{id:n}=U5(),e=tD(),t=nee[n];return K.useEffect(()=>{t||e("/blogs"),Ca.utils.toArray(".animate-text").forEach(i=>{Ca.fromTo(i,{opacity:0,y:50},{opacity:1,y:0,duration:1.5,scrollTrigger:{trigger:i,start:"top 80%",scrub:!0}})})},[t,e]),t?O.jsxs("div",{className:"min-h-screen bg-black text-white",children:[O.jsx(wc,{}),O.jsxs(je.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"w-full h-[50vh] relative mt-16",children:[O.jsxs("div",{className:"absolute inset-0",children:[O.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"}),O.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 to-black"})]}),O.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:O.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[O.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 animate-text",children:t.title}),O.jsxs("div",{className:"flex items-center justify-center gap-4 text-white/80 animate-text",children:[O.jsx("span",{children:t.date}),O.jsx("span",{children:"•"}),O.jsx("span",{children:t.readTime}),O.jsx("span",{children:"•"}),O.jsx("span",{children:t.category})]})]})})]}),O.jsxs(je.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.8},className:"max-w-3xl mx-auto px-4 py-16",children:[O.jsx("div",{className:"prose prose-invert prose-lg max-w-none animate-text",dangerouslySetInnerHTML:{__html:t.content}}),O.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-16 pt-8 border-t border-white/10 animate-text",children:O.jsx(Ei,{to:"/blogs",className:"inline-flex items-center gap-2 text-white/60 hover:text-white transition-colors duration-300",children:"← Back to Blogs"})})]}),O.jsx(bc,{})]}):null},ree=()=>{const[n,e]=K.useState(""),[t,i]=K.useState(!1),r=a=>{a.preventDefault(),i(!0)},s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},o={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8}}};return O.jsxs("div",{className:"min-h-screen bg-black text-white",children:[O.jsx(wc,{}),O.jsx("section",{className:"pt-32 pb-24 px-4",children:O.jsxs(je.div,{className:"max-w-3xl mx-auto text-center",variants:s,initial:"hidden",animate:"visible",children:[O.jsx(je.h1,{variants:o,className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:O.jsx(Rn,{children:"Stay Ahead with AI in Insurance"})}),O.jsx(je.p,{variants:o,className:"text-xl text-white/70 mb-12",children:O.jsx(Rn,{children:"Subscribe to our newsletter for the latest insights on how AI is transforming the insurance industry. Get exclusive updates, trends, and expert analysis delivered straight to your inbox."})}),t?O.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-8 max-w-md mx-auto",children:[O.jsx("div",{className:"text-4xl mb-4",children:O.jsx(yp,{})}),O.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Thank you for subscribing!"}),O.jsx("p",{className:"text-white/70",children:"Check your inbox for the latest updates on AI in insurance."})]}):O.jsxs(je.form,{variants:o,onSubmit:r,className:"max-w-md mx-auto",children:[O.jsx("div",{className:"relative mb-6",children:O.jsx(je.input,{type:"email",required:!0,value:n,onChange:a=>e(a.target.value),placeholder:"Enter your email address",className:"w-full px-6 py-4 bg-white/5 backdrop-blur-lg border border-white/10 rounded-full text-white placeholder:text-white/40 focus:outline-none focus:border-white/30 focus:ring-2 focus:ring-white/10 transition-all duration-300",whileFocus:{scale:1.02}})}),O.jsx(je.button,{type:"submit",className:"w-full px-8 py-4 bg-white text-black font-semibold rounded-full hover:bg-white/90 transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Subscribe"}),O.jsx(je.p,{variants:o,className:"mt-4 text-sm text-white/40",children:"By subscribing, you agree to receive marketing emails from InsurXai."})]})]})}),O.jsx(bc,{})]})},see=()=>{const[n,e]=K.useState({fullName:"",email:"",company:"",phone:"",date:"",time:"",notes:""}),[t,i]=K.useState(!1),r=["09:00 AM","10:00 AM","11:00 AM","02:00 PM","03:00 PM","04:00 PM"],s=u=>{const{name:f,value:d}=u.target;e(p=>({...p,[f]:d}))},o=u=>{u.preventDefault(),i(!0)},a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},l={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8}}};return O.jsxs("div",{className:"min-h-screen bg-black text-white",children:[O.jsx(wc,{}),O.jsxs("section",{className:"pt-32 pb-24 px-4",children:[O.jsxs(je.div,{className:"max-w-3xl mx-auto text-center",variants:a,initial:"hidden",animate:"visible",children:[O.jsx(je.h1,{variants:l,className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:O.jsx(Rn,{children:"Book Your Free AI Consultation Call"})}),O.jsx(je.p,{variants:l,className:"text-xl text-white/70 mb-12",children:O.jsx(Rn,{children:"Speak with our AI automation experts and discover how we can help your insurance business leverage AI. Schedule a free strategy call at your convenience."})})]}),t?O.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-8 text-center",children:[O.jsx("div",{className:"text-4xl mb-4",children:O.jsx(yp,{})}),O.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Your call has been successfully scheduled!"}),O.jsx("p",{className:"text-white/70",children:"Check your email for the meeting details. We look forward to speaking with you."})]}):O.jsx(je.form,{variants:l,onSubmit:o,className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-8",children:O.jsxs("div",{className:"space-y-6",children:[O.jsxs("div",{children:[O.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-white/80 mb-2",children:"Full Name *"}),O.jsx("input",{type:"text",id:"fullName",name:"fullName",required:!0,value:n.fullName,onChange:s,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder:text-white/40 focus:outline-none focus:border-white/30 focus:ring-2 focus:ring-white/10 transition-all duration-300",placeholder:"Enter your full name"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white/80 mb-2",children:"Email Address *"}),O.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:n.email,onChange:s,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder:text-white/40 focus:outline-none focus:border-white/30 focus:ring-2 focus:ring-white/10 transition-all duration-300",placeholder:"Enter your email address"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-white/80 mb-2",children:"Company Name (Optional)"}),O.jsx("input",{type:"text",id:"company",name:"company",value:n.company,onChange:s,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder:text-white/40 focus:outline-none focus:border-white/30 focus:ring-2 focus:ring-white/10 transition-all duration-300",placeholder:"Enter your company name"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-white/80 mb-2",children:"Phone Number (Optional)"}),O.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:s,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder:text-white/40 focus:outline-none focus:border-white/30 focus:ring-2 focus:ring-white/10 transition-all duration-300",placeholder:"Enter your phone number"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-white/80 mb-2",children:"Preferred Date *"}),O.jsx("input",{type:"date",id:"date",name:"date",required:!0,value:n.date,onChange:s,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder:text-white/40 focus:outline-none focus:border-white/30 focus:ring-2 focus:ring-white/10 transition-all duration-300"})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-white/80 mb-4",children:"Preferred Time * (EST)"}),O.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:r.map(u=>O.jsxs(je.label,{className:`
                        relative cursor-pointer overflow-hidden group
                        before:absolute before:inset-0 before:border before:border-white/20 before:rounded-lg
                        after:absolute after:inset-0 after:border-2 after:border-transparent after:rounded-lg
                        after:transition-all after:duration-300 after:content-['']
                        hover:after:border-white/40 hover:after:scale-95
                      `,children:[O.jsx("input",{type:"radio",name:"time",value:u,checked:n.time===u,onChange:s,className:"sr-only"}),O.jsx("div",{className:`
                          px-4 py-3 text-center rounded-lg transition-all duration-300
                          ${n.time===u?"bg-white/20 text-white":"bg-white/5 text-white/80 hover:bg-white/10"}
                          group-hover:shadow-[0_0_15px_rgba(255,255,255,0.1)]
                        `,children:u})]},u))})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-white/80 mb-2",children:"Additional Notes (Optional)"}),O.jsx("textarea",{id:"notes",name:"notes",value:n.notes,onChange:s,rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder:text-white/40 focus:outline-none focus:border-white/30 focus:ring-2 focus:ring-white/10 transition-all duration-300",placeholder:"Any specific topics you'd like to discuss?"})]}),O.jsx(je.button,{type:"submit",className:"w-full px-8 py-4 bg-white text-black font-semibold rounded-full hover:bg-white/90 transition-all duration-300 mt-4",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Schedule My Free AI Consultation"})]})})]}),O.jsx(bc,{})]})},N3=[{icon:"⚡",title:"AI-Powered Efficiency",description:"From instant quoting to claims automation, our AI solutions handle complex tasks with precision."},{icon:"🚀",title:"Scalable & Future-Proof",description:"Designed for growth, InsurX evolves with your business, ensuring long-term adaptability."},{icon:"🔄",title:"Seamless Integrations",description:"Plug into your existing platforms without disrupting operations."},{icon:"⚡",title:"Speed & Accuracy",description:"Reduce processing times and minimize errors with real-time, intelligent automation."},{icon:"🎯",title:"Expertise Meets Innovation",description:"Built by insurance professionals, powered by next-gen AI."}],oee=[{name:"Stephanie Belote",title:"Co-Founder & Chief Visionary Officer",image:"/src/components/out..png",bio:"A forward-thinking entrepreneur and AI automation strategist, Stephanie brings a fusion of insurance industry expertise and cutting-edge technology to InsurX. She envisioned an AI-powered solution that revolutionizes risk placement, underwriting, and claims processing. Stephanie drives InsurX's strategic growth, innovation, and industry partnerships, positioning the company as a trailblazer in insurance automation."},{name:"Kavindu Lakshan",title:"Co-Founder & Chief Technology Officer",image:"/src/components/me (2).jpg",bio:"As an AI specialist and technology strategist, Kavindu is the architect behind InsurX's intelligent automation platform. His expertise lies in designing and deploying scalable AI systems for underwriting, claims processing, and policy management. He leads the development of InsurX's proprietary AI models, ensuring speed, accuracy, and compliance."}],aee=()=>{const n=K.useRef(null),e=RW(n,{once:!1,amount:.2}),t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8}}},r={hidden:{opacity:0,y:20},visible:s=>({opacity:1,y:0,transition:{delay:s*.1,duration:.6,ease:"easeOut"}})};return O.jsxs("div",{className:"min-h-screen bg-black text-white",children:[O.jsx(wc,{}),O.jsx("section",{className:"pt-32 pb-20 px-4 relative overflow-hidden",children:O.jsxs(je.div,{className:"max-w-6xl mx-auto text-center",variants:t,initial:"hidden",animate:"visible",children:[O.jsxs(je.h1,{variants:i,className:"text-6xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:["Xcelerate Insurance. ",O.jsx("br",{}),"Xpand Possibilities."]}),O.jsx(je.p,{variants:i,className:"text-xl text-white/70 max-w-3xl mx-auto leading-relaxed",children:"At InsurX, we're redefining the insurance industry with AI-driven automation, intelligent risk placement, and seamless scalability. We empower agents, brokers, MGAs, PEOs, carriers, and InsurTechs with next-gen AI solutions that optimize workflows, streamline underwriting, and transform claims processing."})]})}),O.jsx("section",{className:"py-20 px-4 relative",children:O.jsx(je.div,{className:"max-w-6xl mx-auto",variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.3},children:O.jsxs(je.div,{variants:i,className:"text-center mb-16",children:[O.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:"The AI Backbone of Insurance"}),O.jsx("p",{className:"text-xl text-white/70 max-w-3xl mx-auto leading-relaxed",children:"Insurance isn't just about policies—it's about precision, speed, and trust. That's why InsurX delivers industry-specific AI automation that enhances efficiency, compliance, and profitability. Our solutions intelligently optimize workflows, streamline underwriting and claims, and integrate seamlessly with CRMs and policy management systems."})]})})}),O.jsx("section",{ref:n,className:"py-20 px-4 relative",children:O.jsxs(je.div,{className:"max-w-6xl mx-auto",initial:"hidden",animate:e?"visible":"hidden",children:[O.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:N3.slice(0,3).map((s,o)=>O.jsxs(je.div,{custom:o,variants:r,className:"p-8 rounded-2xl bg-white/5 backdrop-blur-lg border border-white/10 transition-all duration-300 group hover:border-white/30 hover:shadow-[0_0_30px_rgba(255,255,255,0.1)]",whileHover:{scale:1.05},children:[O.jsx("div",{className:"text-4xl mb-6 transition-all duration-300 group-hover:scale-110 group-hover:transform group-hover:rotate-12",children:s.icon}),O.jsx("h3",{className:"text-2xl font-semibold mb-4 text-white/90",children:s.title}),O.jsx("p",{className:"text-white/70 leading-relaxed",children:s.description})]},o))}),O.jsx("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:N3.slice(3).map((s,o)=>O.jsxs(je.div,{custom:o+3,variants:r,className:"p-8 rounded-2xl bg-white/5 backdrop-blur-lg border border-white/10 transition-all duration-300 group hover:border-white/30 hover:shadow-[0_0_30px_rgba(255,255,255,0.1)]",whileHover:{scale:1.05},children:[O.jsx("div",{className:"text-4xl mb-6 transition-all duration-300 group-hover:scale-110 group-hover:transform group-hover:rotate-12",children:s.icon}),O.jsx("h3",{className:"text-2xl font-semibold mb-4 text-white/90",children:s.title}),O.jsx("p",{className:"text-white/70 leading-relaxed",children:s.description})]},o+3))})]})}),O.jsxs("section",{className:"py-20 px-4 relative overflow-hidden",children:[O.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/10 to-purple-500/10 opacity-30"}),O.jsx(je.div,{className:"max-w-6xl mx-auto relative",variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.3},children:O.jsxs(je.div,{variants:i,className:"text-center mb-16",children:[O.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:O.jsx(Rn,{children:"The Future of Insurance is Automated"})}),O.jsx("p",{className:"text-xl text-white/70 max-w-3xl mx-auto leading-relaxed",children:O.jsx(Rn,{children:"We're not just keeping up with industry changes—we're driving them. InsurX empowers insurance professionals with AI tools that enhance their capabilities, streamline operations, and deliver exceptional results."})})]})})]}),O.jsx("section",{className:"py-20 px-4 relative",children:O.jsxs(je.div,{className:"max-w-6xl mx-auto",variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.3},children:[O.jsx(je.div,{variants:i,className:"text-center mb-16",children:O.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:"Meet Our Founders"})}),O.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:oee.map((s,o)=>O.jsx(je.div,{variants:i,className:"p-8 rounded-2xl bg-white/5 backdrop-blur-lg border border-white/10 hover:border-white/30 transition-all duration-500 group",whileHover:{scale:1.02},children:O.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[O.jsx("div",{className:"w-40 h-40 rounded-full overflow-hidden border-2 border-white/10 transition-transform duration-300 group-hover:scale-105",children:O.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"})}),O.jsxs("div",{className:"flex-1 text-center md:text-left",children:[O.jsx("h3",{className:"text-2xl font-semibold mb-2 text-white/90",children:s.name}),O.jsx("p",{className:"text-white/60 mb-4",children:s.title}),O.jsx("p",{className:"text-white/70 leading-relaxed",children:s.bio})]})]})},o))})]})}),O.jsxs("section",{className:"py-20 px-4 relative overflow-hidden",children:[O.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/10 to-purple-500/10 opacity-30"}),O.jsx(je.div,{className:"max-w-3xl mx-auto relative",variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.3},children:O.jsxs(je.div,{variants:i,className:"text-center",children:[O.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:"Ready to Xcelerate Your Business and Xpand Your Potential?"}),O.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mt-8",children:[O.jsx(Ei,{to:"/book-a-call",children:O.jsx(je.button,{className:"px-8 py-4 bg-white text-black font-semibold rounded-full hover:bg-white/90 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Book a Free AI Strategy Call"})}),O.jsx(Ei,{to:"/services",children:O.jsx(je.button,{className:"px-8 py-4 bg-white/10 text-white font-semibold rounded-full hover:bg-white/20 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Learn More About Our AI Solutions"})})]})]})})]}),O.jsx(bc,{})]})},lee=()=>{const n=vc();return K.useLayoutEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[n.pathname]),null};function uee(){return O.jsxs(oH,{children:[O.jsx(lee,{}),O.jsxs(Q5,{children:[O.jsx(Za,{path:"/",element:O.jsx(qQ,{})}),O.jsx(Za,{path:"/services",element:O.jsx(QQ,{})}),O.jsx(Za,{path:"/blogs",element:O.jsx(tee,{})}),O.jsx(Za,{path:"/blogs/:id",element:O.jsx(iee,{})}),O.jsx(Za,{path:"/newsletter",element:O.jsx(ree,{})}),O.jsx(Za,{path:"/book-a-call",element:O.jsx(see,{})}),O.jsx(Za,{path:"/about",element:O.jsx(aee,{})})]})]})}const jz=document.getElementById("root");if(!jz)throw new Error("Root element not found");Vw.createRoot(jz).render(O.jsx(Vy.StrictMode,{children:O.jsx(uee,{})}));
